[info] Loading project definition from D:\projects\ergodicity\project
[info] Set current project to ergodicity (in build file:/D:/projects/ergodicity/)
[info] No tests to run for ergodicity/test:test
[info] PublisherConfigSpec:
[info] Publisher Config 
[info] - must provide valid configuration
[DEBUG] [12/06/2012 00:37:00.620] [pool-4-thread-4] [EventStream(akka://ListenerSpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:37:00.620] [pool-4-thread-2] [EventStream(akka://ConnectionSpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:37:00.622] [pool-4-thread-4] [EventStream(akka://ListenerSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:37:00.620] [pool-4-thread-1] [EventStream(akka://DataStreamSpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:37:00.623] [pool-4-thread-2] [EventStream(akka://ConnectionSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:37:00.623] [pool-4-thread-1] [EventStream(akka://DataStreamSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:37:00.646] [DataStreamSpec-akka.actor.default-dispatcher-1] [akka://DataStreamSpec/system/testActor1] started (akka.testkit.TestActor@1f8f65)
[DEBUG] [12/06/2012 00:37:00.647] [ListenerSpec-akka.actor.default-dispatcher-3] [akka://ListenerSpec/system/testActor2] started (akka.testkit.TestActor@a84074)
[DEBUG] [12/06/2012 00:37:00.646] [ConnectionSpec-akka.actor.default-dispatcher-1] [akka://ConnectionSpec/system/testActor3] started (akka.testkit.TestActor@ca516e)
[DEBUG] [12/06/2012 00:37:00.648] [DataStreamSpec-akka.actor.default-dispatcher-1] [akka://DataStreamSpec/system] now supervising Actor[akka://DataStreamSpec/system/testActor1]
[DEBUG] [12/06/2012 00:37:00.648] [ListenerSpec-akka.actor.default-dispatcher-3] [akka://ListenerSpec/system] now supervising Actor[akka://ListenerSpec/system/testActor2]
[DEBUG] [12/06/2012 00:37:00.648] [ConnectionSpec-akka.actor.default-dispatcher-1] [akka://ConnectionSpec/system] now supervising Actor[akka://ConnectionSpec/system/testActor3]
[DEBUG] [12/06/2012 00:37:00.671] [DataStreamSpec-akka.actor.default-dispatcher-2] [akka://DataStreamSpec/user] now supervising TestActor[akka://DataStreamSpec/user/DataStream]
[DEBUG] [12/06/2012 00:37:00.736] [pool-4-thread-1] [akka://DataStreamSpec/user/DataStream] started (com.ergodicity.cgate.DataStream@19cf842)
[DEBUG] [12/06/2012 00:37:00.738] [DataStreamSpec-akka.actor.default-dispatcher-3] [akka://DataStreamSpec/user] now supervising TestActor[akka://DataStreamSpec/user/DataStream]
[DEBUG] [12/06/2012 00:37:00.738] [pool-4-thread-1] [akka://DataStreamSpec/user/DataStream] started (com.ergodicity.cgate.DataStream@7cc7ca)
[DEBUG] [12/06/2012 00:37:00.745] [DataStreamSpec-akka.actor.default-dispatcher-3] [akka://DataStreamSpec/user] now supervising TestActor[akka://DataStreamSpec/user/DataStream]
[DEBUG] [12/06/2012 00:37:00.745] [pool-4-thread-1] [akka://DataStreamSpec/user/DataStream] started (com.ergodicity.cgate.DataStream@1df1f20)
[INFO] [12/06/2012 00:37:00.760] [pool-4-thread-1] [akka://DataStreamSpec/user/DataStream] DataStream goes Online
[DEBUG] [12/06/2012 00:37:00.763] [DataStreamSpec-akka.actor.default-dispatcher-3] [akka://DataStreamSpec/user] now supervising TestActor[akka://DataStreamSpec/user/DataStream]
[DEBUG] [12/06/2012 00:37:00.763] [pool-4-thread-1] [akka://DataStreamSpec/user/DataStream] started (com.ergodicity.cgate.DataStream@12b3afd)
[INFO] [12/06/2012 00:37:00.779] [pool-4-thread-1] [akka://DataStreamSpec/user/DataStream] DataStream goes Online
[DEBUG] [12/06/2012 00:37:00.781] [DataStreamSpec-akka.actor.default-dispatcher-2] [akka://DataStreamSpec/user] now supervising TestActor[akka://DataStreamSpec/user/DataStream]
[DEBUG] [12/06/2012 00:37:00.781] [pool-4-thread-1] [akka://DataStreamSpec/user/DataStream] started (com.ergodicity.cgate.DataStream@a2dd43)
[DEBUG] [12/06/2012 00:37:00.784] [pool-4-thread-1] [akka://DataStreamSpec/user/DataStream] started (com.ergodicity.cgate.DataStream@dcb7b7)
[DEBUG] [12/06/2012 00:37:00.784] [DataStreamSpec-akka.actor.default-dispatcher-3] [akka://DataStreamSpec/user] now supervising TestActor[akka://DataStreamSpec/user/DataStream]
[info] DataStreamSpec:
[info] DataStream 
[info] - must initialized in Closed state
[info] - must subscribe events
[info] - must follow Closed -> Opened -> Online -> Closed states
[info] - must forward stream events
[info] - must forward stream data
[info] - must subscribe repl states
[DEBUG] [12/06/2012 00:37:00.880] [ConnectionSpec-akka.actor.default-dispatcher-3] [akka://ConnectionSpec/user] now supervising TestActor[akka://ConnectionSpec/user/Connection]
[DEBUG] [12/06/2012 00:37:00.906] [ListenerSpec-akka.actor.default-dispatcher-2] [akka://ListenerSpec/user] now supervising TestActor[akka://ListenerSpec/user/Listener]
[DEBUG] [12/06/2012 00:37:00.919] [pool-4-thread-2] [akka://ConnectionSpec/user/Connection] started (com.ergodicity.cgate.Connection@a6fab4)
[INFO] [12/06/2012 00:37:00.920] [pool-4-thread-2] [akka://ConnectionSpec/system/testActor3] State: Closed
[DEBUG] [12/06/2012 00:37:00.923] [DataStreamSpec-akka.actor.default-dispatcher-2] [akka://DataStreamSpec/user/DataStream] stopped
[DEBUG] [12/06/2012 00:37:00.924] [DataStreamSpec-akka.actor.default-dispatcher-2] [akka://DataStreamSpec/user] stopping
[DEBUG] [12/06/2012 00:37:00.930] [pool-4-thread-4] [akka://ListenerSpec/user/Listener] started (com.ergodicity.cgate.Listener@c4a099)
[INFO] [12/06/2012 00:37:00.930] [pool-4-thread-4] [akka://ListenerSpec/system/testActor2] State: Closed
[DEBUG] [12/06/2012 00:37:00.931] [DataStreamSpec-akka.actor.default-dispatcher-2] [akka://DataStreamSpec/user] stopped
[DEBUG] [12/06/2012 00:37:00.933] [DataStreamSpec-akka.actor.default-dispatcher-3] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:00.934] [DataStreamSpec-akka.actor.default-dispatcher-3] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:00.941] [pool-4-thread-4] [akka://ListenerSpec/user/Listener] started (com.ergodicity.cgate.Listener@11e1137)
[DEBUG] [12/06/2012 00:37:00.941] [pool-4-thread-4] [akka://ListenerSpec/user/Listener] started (com.ergodicity.cgate.Listener@118803d)
[DEBUG] [12/06/2012 00:37:00.942] [ListenerSpec-akka.actor.default-dispatcher-1] [akka://ListenerSpec/user] now supervising TestActor[akka://ListenerSpec/user/Listener]
[DEBUG] [12/06/2012 00:37:00.942] [ListenerSpec-akka.actor.default-dispatcher-1] [akka://ListenerSpec/user] now supervising TestActor[akka://ListenerSpec/user/Listener]
[DEBUG] [12/06/2012 00:37:00.942] [pool-4-thread-4] [akka://ListenerSpec/system/testActor2] now monitoring TestActor[akka://ListenerSpec/user/Listener]
[DEBUG] [12/06/2012 00:37:00.948] [DataStreamSpec-akka.actor.default-dispatcher-3] [EventStream] all default loggers stopped
[WARN] [12/06/2012 00:37:00.949] [pool-4-thread-4] [akka://ListenerSpec/user/Listener] unhandled event Close in state Closed
[DEBUG] [12/06/2012 00:37:00.950] [pool-4-thread-4] [akka://ListenerSpec/user/Listener] started (com.ergodicity.cgate.Listener@102c509)
[INFO] [12/06/2012 00:37:00.950] [pool-4-thread-4] [akka://ListenerSpec/user/Listener] Opening listener
[DEBUG] [12/06/2012 00:37:00.950] [pool-4-thread-4] [akka://ListenerSpec/system/testActor2] now monitoring TestActor[akka://ListenerSpec/user/Listener]
[DEBUG] [12/06/2012 00:37:00.951] [ListenerSpec-akka.actor.default-dispatcher-1] [akka://ListenerSpec/user] now supervising TestActor[akka://ListenerSpec/user/Listener]
[DEBUG] [12/06/2012 00:37:00.951] [DataStreamSpec-akka.actor.default-dispatcher-4] [akka://DataStreamSpec/system/log1-Logging$DefaultLogger] stopped
[info] ListenerSpec:
[info] Listener 
[info] - must be initialized in Closed state
[info] - must fail on Listener gone to Error state
[info] - must return to Closed state after Close listener sent
[info] - must terminate on FSM.StateTimeout in Opening state
[DEBUG] [12/06/2012 00:37:00.965] [pool-4-thread-2] [akka://ConnectionSpec/user/Connection] started (com.ergodicity.cgate.Connection@1232751)
[INFO] [12/06/2012 00:37:00.965] [pool-4-thread-2] [akka://ConnectionSpec/user/Connection] Open connection
[DEBUG] [12/06/2012 00:37:00.966] [ConnectionSpec-akka.actor.default-dispatcher-2] [akka://ConnectionSpec/user] now supervising TestActor[akka://ConnectionSpec/user/Connection]
[DEBUG] [12/06/2012 00:37:01.176] [DataStreamSpec-akka.actor.default-dispatcher-3] [akka://DataStreamSpec/system/testActor1] stopped
[DEBUG] [12/06/2012 00:37:01.177] [DataStreamSpec-akka.actor.default-dispatcher-3] [akka://DataStreamSpec/system] stopping
[ERROR] [12/06/2012 00:37:01.178] [ListenerSpec-akka.actor.default-dispatcher-3] [akka://ListenerSpec/user/Listener] Listener failed, reason = Shutdown
[DEBUG] [12/06/2012 00:37:01.179] [ListenerSpec-akka.actor.default-dispatcher-3] [akka://ListenerSpec/user/Listener] stopped
[DEBUG] [12/06/2012 00:37:01.179] [ListenerSpec-akka.actor.default-dispatcher-3] [akka://ListenerSpec/user] stopping
[DEBUG] [12/06/2012 00:37:01.179] [DataStreamSpec-akka.actor.default-dispatcher-3] [akka://DataStreamSpec/system] stopped
[DEBUG] [12/06/2012 00:37:01.179] [ListenerSpec-akka.actor.default-dispatcher-1] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:01.179] [ListenerSpec-akka.actor.default-dispatcher-3] [akka://ListenerSpec/user] stopped
[DEBUG] [12/06/2012 00:37:01.180] [ListenerSpec-akka.actor.default-dispatcher-1] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:37:01.182] [ListenerSpec-akka.actor.default-dispatcher-3] [akka://ListenerSpec/system/log1-Logging$DefaultLogger] stopped
[DEBUG] [12/06/2012 00:37:01.182] [ListenerSpec-akka.actor.default-dispatcher-1] [akka://ListenerSpec/system/testActor2] stopped
[DEBUG] [12/06/2012 00:37:01.182] [ListenerSpec-akka.actor.default-dispatcher-1] [akka://ListenerSpec/system] stopping
[DEBUG] [12/06/2012 00:37:01.182] [ListenerSpec-akka.actor.default-dispatcher-1] [akka://ListenerSpec/system] stopped
[DEBUG] [12/06/2012 00:37:01.184] [ListenerSpec-akka.actor.default-dispatcher-1] [akka://ListenerSpec/] stopped
[INFO] [12/06/2012 00:37:01.184] [pool-4-thread-2] [akka://ConnectionSpec/user/Connection] Trying to establish connection to CGate router
[DEBUG] [12/06/2012 00:37:01.185] [DataStreamSpec-akka.actor.default-dispatcher-4] [akka://DataStreamSpec/] stopped
[DEBUG] [12/06/2012 00:37:01.186] [pool-4-thread-2] [akka://ConnectionSpec/user/Connection] started (com.ergodicity.cgate.Connection@193893c)
[INFO] [12/06/2012 00:37:01.186] [pool-4-thread-2] [akka://ConnectionSpec/user/Connection] Open connection
[DEBUG] [12/06/2012 00:37:01.186] [ConnectionSpec-akka.actor.default-dispatcher-2] [akka://ConnectionSpec/user] now supervising TestActor[akka://ConnectionSpec/user/Connection]
[INFO] [12/06/2012 00:37:01.186] [pool-4-thread-2] [akka://ConnectionSpec/user/Connection] Connection opened
[DEBUG] [12/06/2012 00:37:01.187] [ConnectionSpec-akka.actor.default-dispatcher-3] [akka://ConnectionSpec/user] now supervising TestActor[akka://ConnectionSpec/user/Connection]
[DEBUG] [12/06/2012 00:37:01.187] [pool-4-thread-2] [akka://ConnectionSpec/user/Connection] started (com.ergodicity.cgate.Connection@57a6bf)
[INFO] [12/06/2012 00:37:01.187] [pool-4-thread-2] [akka://ConnectionSpec/user/Connection] Open connection
[INFO] [12/06/2012 00:37:01.188] [pool-4-thread-2] [akka://ConnectionSpec/user/Connection] Connection opened
[DEBUG] [12/06/2012 00:37:01.189] [ConnectionSpec-akka.actor.default-dispatcher-3] [akka://ConnectionSpec/user] now supervising TestActor[akka://ConnectionSpec/user/Connection]
[DEBUG] [12/06/2012 00:37:01.189] [pool-4-thread-2] [akka://ConnectionSpec/user/Connection] started (com.ergodicity.cgate.Connection@12264c4)
[DEBUG] [12/06/2012 00:37:01.190] [pool-4-thread-2] [akka://ConnectionSpec/system/testActor3] now monitoring TestActor[akka://ConnectionSpec/user/Connection]
[INFO] [12/06/2012 00:37:01.190] [pool-4-thread-2] [akka://ConnectionSpec/user/Connection] Open connection
[DEBUG] [12/06/2012 00:37:01.192] [ConnectionSpec-akka.actor.default-dispatcher-3] [akka://ConnectionSpec/user] now supervising TestActor[akka://ConnectionSpec/user/Connection]
[DEBUG] [12/06/2012 00:37:01.192] [pool-4-thread-2] [akka://ConnectionSpec/user/Connection] started (com.ergodicity.cgate.Connection@511ba7)
[DEBUG] [12/06/2012 00:37:01.192] [pool-4-thread-2] [akka://ConnectionSpec/system/testActor3] now monitoring TestActor[akka://ConnectionSpec/user/Connection]
[INFO] [12/06/2012 00:37:01.193] [pool-4-thread-2] [akka://ConnectionSpec/user/Connection] Close connection
[DEBUG] [12/06/2012 00:37:01.194] [ConnectionSpec-akka.actor.default-dispatcher-2] [akka://ConnectionSpec/user] now supervising TestActor[akka://ConnectionSpec/user/Connection]
[DEBUG] [12/06/2012 00:37:01.194] [pool-4-thread-2] [akka://ConnectionSpec/user/Connection] started (com.ergodicity.cgate.Connection@665546)
[INFO] [12/06/2012 00:37:01.194] [pool-4-thread-2] [akka://ConnectionSpec/user/Connection] Trying to establish connection to CGate router
[DEBUG] [12/06/2012 00:37:01.195] [pool-4-thread-2] [akka://ConnectionSpec/system/testActor3] now monitoring TestActor[akka://ConnectionSpec/user/Connection]
[info] ConnectionSpec:
[info] Connection 
[info] - must be initialized in Closed state
[info] - must go to Connecting status
[info] - must go to Active state immediately
[info] - must go to Actiove status after Connection established
[info] - must fail on Connection goes to Error state
[info] - must return to Closed state after Close connection sent
[info] - must fail on FSM.StateTimeout in Opening state
[ERROR] [12/06/2012 00:37:01.198] [ConnectionSpec-akka.actor.default-dispatcher-3] [akka://ConnectionSpec/user/Connection] Connection failed, reason = Shutdown
[DEBUG] [12/06/2012 00:37:01.198] [ConnectionSpec-akka.actor.default-dispatcher-3] [akka://ConnectionSpec/user/Connection] stopped
[DEBUG] [12/06/2012 00:37:01.199] [ConnectionSpec-akka.actor.default-dispatcher-3] [akka://ConnectionSpec/user] stopping
[DEBUG] [12/06/2012 00:37:01.199] [ConnectionSpec-akka.actor.default-dispatcher-3] [akka://ConnectionSpec/user] stopped
[DEBUG] [12/06/2012 00:37:01.199] [ConnectionSpec-akka.actor.default-dispatcher-3] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:01.199] [ConnectionSpec-akka.actor.default-dispatcher-3] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:01.200] [ConnectionSpec-akka.actor.default-dispatcher-3] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:37:01.200] [ConnectionSpec-akka.actor.default-dispatcher-5] [akka://ConnectionSpec/system/log1-Logging$DefaultLogger] stopped
[DEBUG] [12/06/2012 00:37:01.200] [ConnectionSpec-akka.actor.default-dispatcher-3] [akka://ConnectionSpec/system/testActor3] stopped
[DEBUG] [12/06/2012 00:37:01.200] [ConnectionSpec-akka.actor.default-dispatcher-3] [akka://ConnectionSpec/system] stopping
[DEBUG] [12/06/2012 00:37:01.200] [ConnectionSpec-akka.actor.default-dispatcher-3] [akka://ConnectionSpec/system] stopped
[DEBUG] [12/06/2012 00:37:01.201] [ConnectionSpec-akka.actor.default-dispatcher-4] [akka://ConnectionSpec/] stopped
[ERROR] [12/06/2012 00:37:01.202] [ConnectionSpec-akka.actor.default-dispatcher-5] [akka://ConnectionSpec/user/Connection] null
com.ergodicity.cgate.Connection$ConnectionTimedOut
	at com.ergodicity.cgate.Connection$$anonfun$3.apply(Connection.scala:66)
	at com.ergodicity.cgate.Connection$$anonfun$3.apply(Connection.scala:65)
	at akka.actor.FSM$class.processEvent(FSM.scala:486)
	at com.ergodicity.cgate.Connection.processEvent(Connection.scala:43)
	at akka.actor.FSM$class.akka$actor$FSM$$processMsg(FSM.scala:480)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:440)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:437)
	at akka.actor.Actor$class.apply(Actor.scala:318)
	at com.ergodicity.cgate.Connection.apply(Connection.scala:43)
	at akka.actor.ActorCell.invoke(ActorCell.scala:626)
	at akka.testkit.CallingThreadDispatcher.runQueue(CallingThreadDispatcher.scala:235)
	at akka.testkit.CallingThreadDispatcher.dispatch(CallingThreadDispatcher.scala:201)
	at akka.actor.ActorCell.tell(ActorCell.scala:475)
	at akka.actor.LocalActorRef.$bang(ActorRef.scala:328)
	at akka.actor.DefaultScheduler$$anon$5.run(Scheduler.scala:174)
	at akka.actor.DefaultScheduler.akka$actor$DefaultScheduler$$execDirectly(Scheduler.scala:200)
	at akka.actor.DefaultScheduler$$anonfun$close$1.apply(Scheduler.scala:208)
	at akka.actor.DefaultScheduler$$anonfun$close$1.apply(Scheduler.scala:208)
	at scala.collection.Iterator$class.foreach(Iterator.scala:772)
	at scala.collection.JavaConversions$JIteratorWrapper.foreach(JavaConversions.scala:573)
	at scala.collection.IterableLike$class.foreach(IterableLike.scala:73)
	at scala.collection.JavaConversions$JSetWrapper.foreach(JavaConversions.scala:661)
	at akka.actor.DefaultScheduler.close(Scheduler.scala:208)
	at akka.actor.ActorSystemImpl.stopScheduler(ActorSystem.scala:642)
	at akka.actor.ActorSystemImpl$$anonfun$_start$1.apply$mcV$sp(ActorSystem.scala:589)
	at akka.actor.ActorSystemImpl$$anonfun$_start$1.apply(ActorSystem.scala:589)
	at akka.actor.ActorSystemImpl$$anonfun$_start$1.apply(ActorSystem.scala:589)
	at akka.actor.ActorSystemImpl$$anon$4.run(ActorSystem.scala:602)
	at akka.actor.ActorSystemImpl$TerminationCallbacks$$anonfun$run$1.runNext$1(ActorSystem.scala:726)
	at akka.actor.ActorSystemImpl$TerminationCallbacks$$anonfun$run$1.apply$mcV$sp(ActorSystem.scala:729)
	at akka.actor.ActorSystemImpl$TerminationCallbacks$$anonfun$run$1.apply(ActorSystem.scala:722)
	at akka.actor.ActorSystemImpl$TerminationCallbacks$$anonfun$run$1.apply(ActorSystem.scala:722)
	at akka.util.ReentrantGuard.withGuard(LockUtil.scala:17)
	at akka.actor.ActorSystemImpl$TerminationCallbacks.run(ActorSystem.scala:722)
	at akka.actor.ActorSystemImpl$$anonfun$terminationCallbacks$1.apply(ActorSystem.scala:599)
	at akka.actor.ActorSystemImpl$$anonfun$terminationCallbacks$1.apply(ActorSystem.scala:599)
	at akka.dispatch.DefaultPromise.akka$dispatch$DefaultPromise$$notifyCompleted(Future.scala:943)
	at akka.dispatch.DefaultPromise$$anonfun$tryComplete$1$$anonfun$apply$mcV$sp$4.apply(Future.scala:920)
	at akka.dispatch.DefaultPromise$$anonfun$tryComplete$1$$anonfun$apply$mcV$sp$4.apply(Future.scala:920)
	at scala.collection.LinearSeqOptimized$class.foreach(LinearSeqOptimized.scala:59)
	at scala.collection.immutable.List.foreach(List.scala:76)
	at akka.dispatch.DefaultPromise$$anonfun$tryComplete$1.apply$mcV$sp(Future.scala:920)
	at akka.dispatch.Future$$anon$4$$anonfun$run$1.apply$mcV$sp(Future.scala:386)
	at akka.dispatch.Future$$anon$4$$anonfun$run$1.apply(Future.scala:378)
	at akka.dispatch.Future$$anon$4$$anonfun$run$1.apply(Future.scala:378)
	at scala.util.DynamicVariable.withValue(DynamicVariable.scala:57)
	at akka.dispatch.Future$$anon$4.run(Future.scala:378)
	at akka.dispatch.TaskInvocation.run(AbstractDispatcher.scala:94)
	at akka.jsr166y.ForkJoinTask$AdaptedRunnableAction.exec(ForkJoinTask.java:1381)
	at akka.jsr166y.ForkJoinTask.doExec(ForkJoinTask.java:259)
	at akka.jsr166y.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:975)
	at akka.jsr166y.ForkJoinPool.runWorker(ForkJoinPool.java:1479)
	at akka.jsr166y.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:104)

[info] SessionStateSpec:
[info] Session State 
[info] - must convert from int and back
[info] Intermediate Clearing State 
[info] - must convert from int and back
[DEBUG] [12/06/2012 00:37:01.916] [pool-4-thread-2] [EventStream(akka://FuturesContentsManagerSpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:37:01.916] [pool-4-thread-1] [EventStream(akka://OrdersDispatchersSpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:37:01.916] [pool-4-thread-4] [EventStream(akka://InstrumentActorSpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:37:01.918] [pool-4-thread-2] [EventStream(akka://FuturesContentsManagerSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:37:01.916] [pool-4-thread-3] [EventStream(akka://SessionContentsSpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:37:01.918] [pool-4-thread-1] [EventStream(akka://OrdersDispatchersSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:37:01.918] [pool-4-thread-4] [EventStream(akka://InstrumentActorSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:37:01.918] [pool-4-thread-3] [EventStream(akka://SessionContentsSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:37:01.942] [SessionContentsSpec-akka.actor.default-dispatcher-1] [akka://SessionContentsSpec/system/testActor4] started (akka.testkit.TestActor@1466887)
[DEBUG] [12/06/2012 00:37:01.942] [InstrumentActorSpec-akka.actor.default-dispatcher-3] [akka://InstrumentActorSpec/system/testActor2] started (akka.testkit.TestActor@1cf5b45)
[DEBUG] [12/06/2012 00:37:01.942] [OrdersDispatchersSpec-akka.actor.default-dispatcher-1] [akka://OrdersDispatchersSpec/system/testActor3] started (akka.testkit.TestActor@b29ac6)
[DEBUG] [12/06/2012 00:37:01.942] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-2] [akka://FuturesContentsManagerSpec/system/testActor1] started (akka.testkit.TestActor@712161)
[DEBUG] [12/06/2012 00:37:01.943] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-2] [akka://FuturesContentsManagerSpec/system] now supervising Actor[akka://FuturesContentsManagerSpec/system/testActor1]
[DEBUG] [12/06/2012 00:37:01.943] [SessionContentsSpec-akka.actor.default-dispatcher-1] [akka://SessionContentsSpec/system] now supervising Actor[akka://SessionContentsSpec/system/testActor4]
[DEBUG] [12/06/2012 00:37:01.943] [InstrumentActorSpec-akka.actor.default-dispatcher-3] [akka://InstrumentActorSpec/system] now supervising Actor[akka://InstrumentActorSpec/system/testActor2]
[DEBUG] [12/06/2012 00:37:01.944] [OrdersDispatchersSpec-akka.actor.default-dispatcher-1] [akka://OrdersDispatchersSpec/system] now supervising Actor[akka://OrdersDispatchersSpec/system/testActor3]
[DEBUG] [12/06/2012 00:37:01.961] [OrdersDispatchersSpec-akka.actor.default-dispatcher-1] [akka://OrdersDispatchersSpec/user] now supervising TestActor[akka://OrdersDispatchersSpec/user/$$a]
[DEBUG] [12/06/2012 00:37:01.961] [InstrumentActorSpec-akka.actor.default-dispatcher-3] [akka://InstrumentActorSpec/user] now supervising TestActor[akka://InstrumentActorSpec/user/$$b]
[DEBUG] [12/06/2012 00:37:01.969] [SessionContentsSpec-akka.actor.default-dispatcher-3] [akka://SessionContentsSpec/user] now supervising TestActor[akka://SessionContentsSpec/user/Futures]
[DEBUG] [12/06/2012 00:37:01.975] [SessionContentsSpec-akka.actor.default-dispatcher-2] [akka://SessionContentsSpec/system/testActor6] started (akka.testkit.TestActor@1268b0c)
[DEBUG] [12/06/2012 00:37:01.976] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-3] [akka://FuturesContentsManagerSpec/system/testActor5] started (akka.testkit.TestActor@172d2db)
[DEBUG] [12/06/2012 00:37:01.976] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-3] [akka://FuturesContentsManagerSpec/system] now supervising Actor[akka://FuturesContentsManagerSpec/system/testActor5]
[DEBUG] [12/06/2012 00:37:01.976] [SessionContentsSpec-akka.actor.default-dispatcher-2] [akka://SessionContentsSpec/system] now supervising Actor[akka://SessionContentsSpec/system/testActor6]
[DEBUG] [12/06/2012 00:37:01.982] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-2] [akka://FuturesContentsManagerSpec/user] now supervising TestActor[akka://FuturesContentsManagerSpec/user/Futures]
[INFO] [12/06/2012 00:37:02.3] [pool-4-thread-2] [akka://FuturesContentsManagerSpec/user/Futures] Start SessionContents
[INFO] [12/06/2012 00:37:02.3] [pool-4-thread-3] [akka://SessionContentsSpec/user/Futures] Start SessionContents
[DEBUG] [12/06/2012 00:37:02.4] [pool-4-thread-1] [akka://OrdersDispatchersSpec/user/$$a] started (com.ergodicity.core.order.OrdersSnapshotActor@191dcf)
[DEBUG] [12/06/2012 00:37:02.7] [pool-4-thread-2] [akka://FuturesContentsManagerSpec/user/Futures] started (com.ergodicity.core.session.FuturesContentsManagerSpec$$anonfun$1$$anonfun$apply$mcV$sp$1$$anonfun$2$$anon$1@129c1c6)
[INFO] [12/06/2012 00:37:02.9] [pool-4-thread-4] [akka://InstrumentActorSpec/user/$$b] Started instrument for security = FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),‘ьючерсный контракт GMKR-06.12)
[DEBUG] [12/06/2012 00:37:02.9] [pool-4-thread-4] [akka://InstrumentActorSpec/user/$$b] started (com.ergodicity.core.session.FutureInstrument@78bda2)
[ERROR] [12/06/2012 00:37:02.9] [pool-4-thread-3] [akka://SessionContentsSpec/system/testActor6] SubscribeTransitionCallBack(TestActor[akka://SessionContentsSpec/user/Futures]) (of class akka.actor.FSM$SubscribeTransitionCallBack)
scala.MatchError: SubscribeTransitionCallBack(TestActor[akka://SessionContentsSpec/user/Futures]) (of class akka.actor.FSM$SubscribeTransitionCallBack)
	at com.ergodicity.core.session.SessionContentsSpec$$anon$3.run(SessionContentsSpec.scala:64)
	at akka.testkit.TestActor$$anonfun$receive$1$$anonfun$apply$1.apply(TestKit.scala:53)
	at akka.testkit.TestActor$$anonfun$receive$1$$anonfun$apply$1.apply(TestKit.scala:53)
	at scala.Option.flatMap(Option.scala:146)
	at akka.testkit.TestActor$$anonfun$receive$1.apply(TestKit.scala:53)
	at akka.testkit.TestActor$$anonfun$receive$1.apply(TestKit.scala:47)
	at akka.actor.Actor$class.apply(Actor.scala:318)
	at akka.testkit.TestActor.apply(TestKit.scala:40)
	at akka.actor.ActorCell.invoke(ActorCell.scala:626)
	at akka.testkit.CallingThreadDispatcher.runQueue(CallingThreadDispatcher.scala:235)
	at akka.testkit.CallingThreadDispatcher.dispatch(CallingThreadDispatcher.scala:201)
	at akka.actor.ActorCell.tell(ActorCell.scala:475)
	at akka.actor.LocalActorRef.$bang(ActorRef.scala:328)
	at com.ergodicity.core.session.SessionContents.preStart(SessionContents.scala:33)
	at akka.actor.ActorCell.create$1(ActorCell.scala:508)
	at akka.actor.ActorCell.systemInvoke(ActorCell.scala:600)
	at akka.dispatch.Mailbox.processAllSystemMessages(Mailbox.scala:209)
	at akka.testkit.CallingThreadDispatcher.runQueue(CallingThreadDispatcher.scala:223)
	at akka.testkit.CallingThreadDispatcher.register(CallingThreadDispatcher.scala:147)
	at akka.dispatch.MessageDispatcher.attach(AbstractDispatcher.scala:244)
	at akka.actor.ActorCell.start(ActorCell.scala:440)
	at akka.actor.LocalActorRef.<init>(ActorRef.scala:247)
	at akka.testkit.TestActorRef.<init>(TestActorRef.scala:22)
	at akka.testkit.TestActorRef$.apply(TestActorRef.scala:119)
	at akka.testkit.TestActorRef$.apply(TestActorRef.scala:116)
	at akka.testkit.TestActorRef$.apply(TestActorRef.scala:111)
	at com.ergodicity.core.session.SessionContentsSpec$$anonfun$1$$anonfun$apply$mcV$sp$1.apply$mcV$sp(SessionContentsSpec.scala:39)
	at com.ergodicity.core.session.SessionContentsSpec$$anonfun$1$$anonfun$apply$mcV$sp$1.apply(SessionContentsSpec.scala:38)
	at com.ergodicity.core.session.SessionContentsSpec$$anonfun$1$$anonfun$apply$mcV$sp$1.apply(SessionContentsSpec.scala:38)
	at org.scalatest.WordSpec$$anon$2.apply(WordSpec.scala:2161)
	at org.scalatest.Suite$class.withFixture(Suite.scala:1968)
	at com.ergodicity.core.session.SessionContentsSpec.withFixture(SessionContentsSpec.scala:19)
	at org.scalatest.WordSpec$class.invokeWithFixture$1(WordSpec.scala:2158)
	at org.scalatest.WordSpec$$anonfun$runTest$1.apply(WordSpec.scala:2167)
	at org.scalatest.WordSpec$$anonfun$runTest$1.apply(WordSpec.scala:2167)
	at org.scalatest.SuperEngine.runTestImpl(Engine.scala:168)
	at org.scalatest.WordSpec$class.runTest(WordSpec.scala:2167)
	at com.ergodicity.core.session.SessionContentsSpec.runTest(SessionContentsSpec.scala:19)
	at org.scalatest.WordSpec$$anonfun$runTests$1.apply(WordSpec.scala:2232)
	at org.scalatest.WordSpec$$anonfun$runTests$1.apply(WordSpec.scala:2232)
	at org.scalatest.SuperEngine$$anonfun$org$scalatest$SuperEngine$$runTestsInBranch$1.apply(Engine.scala:226)
	at org.scalatest.SuperEngine$$anonfun$org$scalatest$SuperEngine$$runTestsInBranch$1.apply(Engine.scala:215)
	at scala.collection.LinearSeqOptimized$class.foreach(LinearSeqOptimized.scala:59)
	at scala.collection.immutable.List.foreach(List.scala:76)
	at org.scalatest.SuperEngine.org$scalatest$SuperEngine$$runTestsInBranch(Engine.scala:215)
	at org.scalatest.SuperEngine$$anonfun$org$scalatest$SuperEngine$$runTestsInBranch$1.apply(Engine.scala:231)
	at org.scalatest.SuperEngine$$anonfun$org$scalatest$SuperEngine$$runTestsInBranch$1.apply(Engine.scala:215)
	at scala.collection.LinearSeqOptimized$class.foreach(LinearSeqOptimized.scala:59)
	at scala.collection.immutable.List.foreach(List.scala:76)
	at org.scalatest.SuperEngine.org$scalatest$SuperEngine$$runTestsInBranch(Engine.scala:215)
	at org.scalatest.SuperEngine.runTestsImpl(Engine.scala:282)
	at org.scalatest.WordSpec$class.runTests(WordSpec.scala:2232)
	at com.ergodicity.core.session.SessionContentsSpec.runTests(SessionContentsSpec.scala:19)
	at org.scalatest.Suite$class.run(Suite.scala:2286)
	at com.ergodicity.core.session.SessionContentsSpec.org$scalatest$WordSpec$$super$run(SessionContentsSpec.scala:19)
	at org.scalatest.WordSpec$$anonfun$run$1.apply(WordSpec.scala:2279)
	at org.scalatest.WordSpec$$anonfun$run$1.apply(WordSpec.scala:2279)
	at org.scalatest.SuperEngine.runImpl(Engine.scala:318)
	at org.scalatest.WordSpec$class.run(WordSpec.scala:2279)
	at com.ergodicity.core.session.SessionContentsSpec.org$scalatest$BeforeAndAfterAll$$super$run(SessionContentsSpec.scala:19)
	at org.scalatest.BeforeAndAfterAll$class.run(BeforeAndAfterAll.scala:213)
	at com.ergodicity.core.session.SessionContentsSpec.run(SessionContentsSpec.scala:19)
	at org.scalatest.tools.ScalaTestFramework$ScalaTestRunner.run(ScalaTestFramework.scala:148)
	at sbt.TestRunner.delegateRun(TestFramework.scala:62)
	at sbt.TestRunner.run(TestFramework.scala:56)
	at sbt.TestRunner.runTest$1(TestFramework.scala:76)
	at sbt.TestRunner.run(TestFramework.scala:85)
	at sbt.TestFramework$$anonfun$6$$anonfun$apply$8$$anonfun$7$$anonfun$apply$9.apply(TestFramework.scala:184)
	at sbt.TestFramework$$anonfun$6$$anonfun$apply$8$$anonfun$7$$anonfun$apply$9.apply(TestFramework.scala:184)
	at sbt.TestFramework$.sbt$TestFramework$$withContextLoader(TestFramework.scala:196)
	at sbt.TestFramework$$anonfun$6$$anonfun$apply$8$$anonfun$7.apply(TestFramework.scala:184)
	at sbt.TestFramework$$anonfun$6$$anonfun$apply$8$$anonfun$7.apply(TestFramework.scala:184)
	at sbt.Tests$$anonfun$makeParallel$1$$anonfun$apply$7.apply(Tests.scala:113)
	at sbt.Tests$$anonfun$makeParallel$1$$anonfun$apply$7.apply(Tests.scala:113)
	at sbt.std.Transform$$anon$3$$anonfun$apply$2.apply(System.scala:47)
	at sbt.std.Transform$$anon$3$$anonfun$apply$2.apply(System.scala:47)
	at sbt.std.Transform$$anon$5.work(System.scala:67)
	at sbt.Execute$$anonfun$submit$1$$anonfun$apply$1.apply(Execute.scala:221)
	at sbt.Execute$$anonfun$submit$1$$anonfun$apply$1.apply(Execute.scala:221)
	at sbt.ErrorHandling$.wideConvert(ErrorHandling.scala:18)
	at sbt.Execute.work(Execute.scala:227)
	at sbt.Execute$$anonfun$submit$1.apply(Execute.scala:221)
	at sbt.Execute$$anonfun$submit$1.apply(Execute.scala:221)
	at sbt.CompletionService$$anon$1$$anon$2.call(CompletionService.scala:26)
	at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)
	at java.util.concurrent.FutureTask.run(Unknown Source)
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)
	at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)
	at java.util.concurrent.FutureTask.run(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)

[DEBUG] [12/06/2012 00:37:02.11] [pool-4-thread-3] [akka://SessionContentsSpec/user/Futures] started (com.ergodicity.core.session.SessionContentsSpec$$anonfun$1$$anonfun$apply$mcV$sp$1$$anonfun$2$$anon$1@1635d06)
[DEBUG] [12/06/2012 00:37:02.11] [pool-4-thread-1] [akka://OrdersDispatchersSpec/user/$$c] started (com.ergodicity.core.order.OrdersSnapshotActor@bb6a2e)
[DEBUG] [12/06/2012 00:37:02.11] [OrdersDispatchersSpec-akka.actor.default-dispatcher-3] [akka://OrdersDispatchersSpec/user] now supervising TestActor[akka://OrdersDispatchersSpec/user/$$c]
[INFO] [12/06/2012 00:37:02.11] [pool-4-thread-4] [akka://InstrumentActorSpec/user/$$d] Started instrument for security = FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),‘ьючерсный контракт GMKR-06.12)
[DEBUG] [12/06/2012 00:37:02.12] [pool-4-thread-4] [akka://InstrumentActorSpec/user/$$d] started (com.ergodicity.core.session.FutureInstrument@1d170c5)
[DEBUG] [12/06/2012 00:37:02.12] [InstrumentActorSpec-akka.actor.default-dispatcher-3] [akka://InstrumentActorSpec/user] now supervising TestActor[akka://InstrumentActorSpec/user/$$d]
[DEBUG] [12/06/2012 00:37:02.16] [pool-4-thread-4] [akka://InstrumentActorSpec/user/$$d] processing Event(Online,None) from Actor[akka://InstrumentActorSpec/system/testActor2]
[DEBUG] [12/06/2012 00:37:02.19] [SessionContentsSpec-akka.actor.default-dispatcher-1] [akka://SessionContentsSpec/system/testActor6] restarting
[DEBUG] [12/06/2012 00:37:02.20] [pool-4-thread-1] [akka://OrdersDispatchersSpec/user/$$c] processing Event(StreamData(0,java.nio.HeapByteBuffer[pos=32 lim=1000 cap=1000]),(None,None,Map())) from Actor[akka://OrdersDispatchersSpec/system/testActor3]
[DEBUG] [12/06/2012 00:37:02.20] [pool-4-thread-2] [akka://FuturesContentsManagerSpec/user/Futures] now supervising Actor[akka://FuturesContentsManagerSpec/user/Futures/GMKR-6.12]
[DEBUG] [12/06/2012 00:37:02.20] [pool-4-thread-3] [akka://SessionContentsSpec/user/Futures] now supervising Actor[akka://SessionContentsSpec/user/Futures/GMKR-6.12]
[INFO] [12/06/2012 00:37:02.20] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-3] [akka://FuturesContentsManagerSpec/user/Futures/GMKR-6.12] Started instrument for security = FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future Contract)
[INFO] [12/06/2012 00:37:02.20] [SessionContentsSpec-akka.actor.default-dispatcher-3] [akka://SessionContentsSpec/user/Futures/GMKR-6.12] Started instrument for security = FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future Contract)
[DEBUG] [12/06/2012 00:37:02.20] [SessionContentsSpec-akka.actor.default-dispatcher-3] [akka://SessionContentsSpec/user/Futures/GMKR-6.12] started (com.ergodicity.core.session.FutureInstrument@fc659c)
[DEBUG] [12/06/2012 00:37:02.20] [SessionContentsSpec-akka.actor.default-dispatcher-3] [akka://SessionContentsSpec/user/Futures/GMKR-6.12] processing Event(FutureParameters(100,Limits(100,100)),None) from TestActor[akka://SessionContentsSpec/user/Futures]
[DEBUG] [12/06/2012 00:37:02.20] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-3] [akka://FuturesContentsManagerSpec/user/Futures/GMKR-6.12] started (com.ergodicity.core.session.FutureInstrument@c7cf66)
[DEBUG] [12/06/2012 00:37:02.21] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-3] [akka://FuturesContentsManagerSpec/user/Futures/GMKR-6.12] processing Event(FutureParameters(100,Limits(100,100)),None) from TestActor[akka://FuturesContentsManagerSpec/user/Futures]
[DEBUG] [12/06/2012 00:37:02.22] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-3] [akka://FuturesContentsManagerSpec/user/Futures/GMKR-6.12] processing Event(Suspended,Some(FutureParameters(100,Limits(100,100)))) from TestActor[akka://FuturesContentsManagerSpec/user/Futures]
[DEBUG] [12/06/2012 00:37:02.22] [SessionContentsSpec-akka.actor.default-dispatcher-3] [akka://SessionContentsSpec/user/Futures/GMKR-6.12] processing Event(Suspended,Some(FutureParameters(100,Limits(100,100)))) from TestActor[akka://SessionContentsSpec/user/Futures]
[DEBUG] [12/06/2012 00:37:02.22] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-2] [akka://FuturesContentsManagerSpec/user/Futures/GMKR-6.12] processing Event(FutureParameters(100,Limits(100,100)),Some(FutureParameters(100,Limits(100,100)))) from TestActor[akka://FuturesContentsManagerSpec/user/Futures]
[DEBUG] [12/06/2012 00:37:02.22] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-2] [akka://FuturesContentsManagerSpec/user/Futures/GMKR-6.12] processing Event(Online,Some(FutureParameters(100,Limits(100,100)))) from TestActor[akka://FuturesContentsManagerSpec/user/Futures]
[DEBUG] [12/06/2012 00:37:02.25] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-2] [akka://FuturesContentsManagerSpec/user/Futures/GMKR-6.12] transition Suspended -> Online
[DEBUG] [12/06/2012 00:37:02.25] [pool-4-thread-4] [akka://InstrumentActorSpec/user/$$d] transition Suspended -> Online
[DEBUG] [12/06/2012 00:37:02.26] [InstrumentActorSpec-akka.actor.default-dispatcher-3] [akka://InstrumentActorSpec/user] now supervising TestActor[akka://InstrumentActorSpec/user/$$e]
[INFO] [12/06/2012 00:37:02.26] [pool-4-thread-4] [akka://InstrumentActorSpec/user/$$e] Started instrument for security = FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),‘ьючерсный контракт GMKR-06.12)
[DEBUG] [12/06/2012 00:37:02.26] [pool-4-thread-4] [akka://InstrumentActorSpec/user/$$e] started (com.ergodicity.core.session.FutureInstrument@164b11c)
[DEBUG] [12/06/2012 00:37:02.28] [pool-4-thread-4] [akka://InstrumentActorSpec/user/$$e] processing Event(SubscribeInstrumentCallback(Actor[akka://InstrumentActorSpec/system/testActor2]),None) from Actor[akka://InstrumentActorSpec/system/testActor2]
[DEBUG] [12/06/2012 00:37:02.28] [pool-4-thread-3] [akka://SessionContentsSpec/user/Futures] Get session instrument: FutureContract(IsinId(0),Isin(BadIsin),ShortIsisn(),); Result = None
[DEBUG] [12/06/2012 00:37:02.28] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-3] [akka://FuturesContentsManagerSpec/user/Futures/GMKR-6.12] processing Event(Suspended,Some(FutureParameters(100,Limits(100,100)))) from TestActor[akka://FuturesContentsManagerSpec/user/Futures]
[DEBUG] [12/06/2012 00:37:02.29] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-3] [akka://FuturesContentsManagerSpec/user/Futures/GMKR-6.12] transition Online -> Suspended
[DEBUG] [12/06/2012 00:37:02.29] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-2] [akka://FuturesContentsManagerSpec/user/Futures/GMKR-6.12] processing Event(FutureParameters(100,Limits(100,100)),Some(FutureParameters(100,Limits(100,100)))) from TestActor[akka://FuturesContentsManagerSpec/user/Futures]
[DEBUG] [12/06/2012 00:37:02.29] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-2] [akka://FuturesContentsManagerSpec/user/Futures/GMKR-6.12] processing Event(Suspended,Some(FutureParameters(100,Limits(100,100)))) from TestActor[akka://FuturesContentsManagerSpec/user/Futures]
[DEBUG] [12/06/2012 00:37:02.29] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-2] [akka://FuturesContentsManagerSpec/user/Futures/GMKR-6.12] processing Event(Assigned,Some(FutureParameters(100,Limits(100,100)))) from TestActor[akka://FuturesContentsManagerSpec/user/Futures]
[DEBUG] [12/06/2012 00:37:02.29] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-2] [akka://FuturesContentsManagerSpec/user/Futures/GMKR-6.12] transition Suspended -> Assigned
[DEBUG] [12/06/2012 00:37:02.31] [SessionContentsSpec-akka.actor.default-dispatcher-1] [akka://SessionContentsSpec/system/testActor6] restarted
[DEBUG] [12/06/2012 00:37:02.32] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-3] [akka://FuturesContentsManagerSpec/user] now supervising TestActor[akka://FuturesContentsManagerSpec/user/Futures]
[DEBUG] [12/06/2012 00:37:02.39] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-1] [akka://FuturesContentsManagerSpec/system/testActor7] started (akka.testkit.TestActor@17973e0)
[DEBUG] [12/06/2012 00:37:02.40] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-1] [akka://FuturesContentsManagerSpec/system] now supervising Actor[akka://FuturesContentsManagerSpec/system/testActor7]
[INFO] [12/06/2012 00:37:02.40] [pool-4-thread-2] [akka://FuturesContentsManagerSpec/user/Futures] Start SessionContents
[DEBUG] [12/06/2012 00:37:02.40] [pool-4-thread-2] [akka://FuturesContentsManagerSpec/user/Futures] started (com.ergodicity.core.session.FuturesContentsManagerSpec$$anonfun$1$$anonfun$apply$mcV$sp$2$$anonfun$3$$anon$2@16b35ae)
[DEBUG] [12/06/2012 00:37:02.41] [SessionContentsSpec-akka.actor.default-dispatcher-2] [akka://SessionContentsSpec/user] now supervising TestActor[akka://SessionContentsSpec/user/Futures]
[info] FuturesContentsManagerSpec:
[info] FuturesContentsManager 
[info] - must should track record updates merging with session state
[info]   + When receive new instrument in suspended state 
[info]   + Then should create actor for it 
[info]   + When Instrument goes online 
[info]   + Then should receive transition event 
[info]   + When session suspended 
[info]   + Then instrument should be suspended too 
[info]   + When instrument goes to Assigned state 
[info]   + And session goes online 
[info]   + Then instrument goes to Assigned 
[info] - must merge session and instrument states
[DEBUG] [12/06/2012 00:37:02.42] [SessionContentsSpec-akka.actor.default-dispatcher-1] [akka://SessionContentsSpec/system/testActor8] started (akka.testkit.TestActor@92d805)
[DEBUG] [12/06/2012 00:37:02.45] [SessionContentsSpec-akka.actor.default-dispatcher-1] [akka://SessionContentsSpec/system] now supervising Actor[akka://SessionContentsSpec/system/testActor8]
[DEBUG] [12/06/2012 00:37:02.45] [pool-4-thread-1] [akka://OrdersDispatchersSpec/user/$$c] processing Event(StreamData(1,java.nio.HeapByteBuffer[pos=40 lim=1000 cap=1000]),(None,None,Map(1000 -> (Order(1,100,IsinId(0),Buy,0,0,4157),List())))) from Actor[akka://OrdersDispatchersSpec/system/testActor3]
[INFO] [12/06/2012 00:37:02.45] [pool-4-thread-3] [akka://SessionContentsSpec/user/Futures] Start SessionContents
[ERROR] [12/06/2012 00:37:02.45] [pool-4-thread-3] [akka://SessionContentsSpec/system/testActor8] SubscribeTransitionCallBack(TestActor[akka://SessionContentsSpec/user/Futures]) (of class akka.actor.FSM$SubscribeTransitionCallBack)
scala.MatchError: SubscribeTransitionCallBack(TestActor[akka://SessionContentsSpec/user/Futures]) (of class akka.actor.FSM$SubscribeTransitionCallBack)
	at com.ergodicity.core.session.SessionContentsSpec$$anon$3.run(SessionContentsSpec.scala:64)
	at akka.testkit.TestActor$$anonfun$receive$1$$anonfun$apply$1.apply(TestKit.scala:53)
	at akka.testkit.TestActor$$anonfun$receive$1$$anonfun$apply$1.apply(TestKit.scala:53)
	at scala.Option.flatMap(Option.scala:146)
	at akka.testkit.TestActor$$anonfun$receive$1.apply(TestKit.scala:53)
	at akka.testkit.TestActor$$anonfun$receive$1.apply(TestKit.scala:47)
	at akka.actor.Actor$class.apply(Actor.scala:318)
	at akka.testkit.TestActor.apply(TestKit.scala:40)
	at akka.actor.ActorCell.invoke(ActorCell.scala:626)
	at akka.testkit.CallingThreadDispatcher.runQueue(CallingThreadDispatcher.scala:235)
	at akka.testkit.CallingThreadDispatcher.dispatch(CallingThreadDispatcher.scala:201)
	at akka.actor.ActorCell.tell(ActorCell.scala:475)
	at akka.actor.LocalActorRef.$bang(ActorRef.scala:328)
	at com.ergodicity.core.session.SessionContents.preStart(SessionContents.scala:33)
	at akka.actor.ActorCell.create$1(ActorCell.scala:508)
	at akka.actor.ActorCell.systemInvoke(ActorCell.scala:600)
	at akka.dispatch.Mailbox.processAllSystemMessages(Mailbox.scala:209)
	at akka.testkit.CallingThreadDispatcher.runQueue(CallingThreadDispatcher.scala:223)
	at akka.testkit.CallingThreadDispatcher.register(CallingThreadDispatcher.scala:147)
	at akka.dispatch.MessageDispatcher.attach(AbstractDispatcher.scala:244)
	at akka.actor.ActorCell.start(ActorCell.scala:440)
	at akka.actor.LocalActorRef.<init>(ActorRef.scala:247)
	at akka.testkit.TestActorRef.<init>(TestActorRef.scala:22)
	at akka.testkit.TestActorRef$.apply(TestActorRef.scala:119)
	at akka.testkit.TestActorRef$.apply(TestActorRef.scala:116)
	at akka.testkit.TestActorRef$.apply(TestActorRef.scala:111)
	at com.ergodicity.core.session.SessionContentsSpec$$anonfun$1$$anonfun$apply$mcV$sp$2.apply$mcV$sp(SessionContentsSpec.scala:49)
	at com.ergodicity.core.session.SessionContentsSpec$$anonfun$1$$anonfun$apply$mcV$sp$2.apply(SessionContentsSpec.scala:48)
	at com.ergodicity.core.session.SessionContentsSpec$$anonfun$1$$anonfun$apply$mcV$sp$2.apply(SessionContentsSpec.scala:48)
	at org.scalatest.WordSpec$$anon$2.apply(WordSpec.scala:2161)
	at org.scalatest.Suite$class.withFixture(Suite.scala:1968)
	at com.ergodicity.core.session.SessionContentsSpec.withFixture(SessionContentsSpec.scala:19)
	at org.scalatest.WordSpec$class.invokeWithFixture$1(WordSpec.scala:2158)
	at org.scalatest.WordSpec$$anonfun$runTest$1.apply(WordSpec.scala:2167)
	at org.scalatest.WordSpec$$anonfun$runTest$1.apply(WordSpec.scala:2167)
	at org.scalatest.SuperEngine.runTestImpl(Engine.scala:168)
	at org.scalatest.WordSpec$class.runTest(WordSpec.scala:2167)
	at com.ergodicity.core.session.SessionContentsSpec.runTest(SessionContentsSpec.scala:19)
	at org.scalatest.WordSpec$$anonfun$runTests$1.apply(WordSpec.scala:2232)
	at org.scalatest.WordSpec$$anonfun$runTests$1.apply(WordSpec.scala:2232)
	at org.scalatest.SuperEngine$$anonfun$org$scalatest$SuperEngine$$runTestsInBranch$1.apply(Engine.scala:226)
	at org.scalatest.SuperEngine$$anonfun$org$scalatest$SuperEngine$$runTestsInBranch$1.apply(Engine.scala:215)
	at scala.collection.LinearSeqOptimized$class.foreach(LinearSeqOptimized.scala:59)
	at scala.collection.immutable.List.foreach(List.scala:76)
	at org.scalatest.SuperEngine.org$scalatest$SuperEngine$$runTestsInBranch(Engine.scala:215)
	at org.scalatest.SuperEngine$$anonfun$org$scalatest$SuperEngine$$runTestsInBranch$1.apply(Engine.scala:231)
	at org.scalatest.SuperEngine$$anonfun$org$scalatest$SuperEngine$$runTestsInBranch$1.apply(Engine.scala:215)
	at scala.collection.LinearSeqOptimized$class.foreach(LinearSeqOptimized.scala:59)
	at scala.collection.immutable.List.foreach(List.scala:76)
	at org.scalatest.SuperEngine.org$scalatest$SuperEngine$$runTestsInBranch(Engine.scala:215)
	at org.scalatest.SuperEngine.runTestsImpl(Engine.scala:282)
	at org.scalatest.WordSpec$class.runTests(WordSpec.scala:2232)
	at com.ergodicity.core.session.SessionContentsSpec.runTests(SessionContentsSpec.scala:19)
	at org.scalatest.Suite$class.run(Suite.scala:2286)
	at com.ergodicity.core.session.SessionContentsSpec.org$scalatest$WordSpec$$super$run(SessionContentsSpec.scala:19)
	at org.scalatest.WordSpec$$anonfun$run$1.apply(WordSpec.scala:2279)
	at org.scalatest.WordSpec$$anonfun$run$1.apply(WordSpec.scala:2279)
	at org.scalatest.SuperEngine.runImpl(Engine.scala:318)
	at org.scalatest.WordSpec$class.run(WordSpec.scala:2279)
	at com.ergodicity.core.session.SessionContentsSpec.org$scalatest$BeforeAndAfterAll$$super$run(SessionContentsSpec.scala:19)
	at org.scalatest.BeforeAndAfterAll$class.run(BeforeAndAfterAll.scala:213)
	at com.ergodicity.core.session.SessionContentsSpec.run(SessionContentsSpec.scala:19)
	at org.scalatest.tools.ScalaTestFramework$ScalaTestRunner.run(ScalaTestFramework.scala:148)
	at sbt.TestRunner.delegateRun(TestFramework.scala:62)
	at sbt.TestRunner.run(TestFramework.scala:56)
	at sbt.TestRunner.runTest$1(TestFramework.scala:76)
	at sbt.TestRunner.run(TestFramework.scala:85)
	at sbt.TestFramework$$anonfun$6$$anonfun$apply$8$$anonfun$7$$anonfun$apply$9.apply(TestFramework.scala:184)
	at sbt.TestFramework$$anonfun$6$$anonfun$apply$8$$anonfun$7$$anonfun$apply$9.apply(TestFramework.scala:184)
	at sbt.TestFramework$.sbt$TestFramework$$withContextLoader(TestFramework.scala:196)
	at sbt.TestFramework$$anonfun$6$$anonfun$apply$8$$anonfun$7.apply(TestFramework.scala:184)
	at sbt.TestFramework$$anonfun$6$$anonfun$apply$8$$anonfun$7.apply(TestFramework.scala:184)
	at sbt.Tests$$anonfun$makeParallel$1$$anonfun$apply$7.apply(Tests.scala:113)
	at sbt.Tests$$anonfun$makeParallel$1$$anonfun$apply$7.apply(Tests.scala:113)
	at sbt.std.Transform$$anon$3$$anonfun$apply$2.apply(System.scala:47)
	at sbt.std.Transform$$anon$3$$anonfun$apply$2.apply(System.scala:47)
	at sbt.std.Transform$$anon$5.work(System.scala:67)
	at sbt.Execute$$anonfun$submit$1$$anonfun$apply$1.apply(Execute.scala:221)
	at sbt.Execute$$anonfun$submit$1$$anonfun$apply$1.apply(Execute.scala:221)
	at sbt.ErrorHandling$.wideConvert(ErrorHandling.scala:18)
	at sbt.Execute.work(Execute.scala:227)
	at sbt.Execute$$anonfun$submit$1.apply(Execute.scala:221)
	at sbt.Execute$$anonfun$submit$1.apply(Execute.scala:221)
	at sbt.CompletionService$$anon$1$$anon$2.call(CompletionService.scala:26)
	at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)
	at java.util.concurrent.FutureTask.run(Unknown Source)
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)
	at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)
	at java.util.concurrent.FutureTask.run(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)

[DEBUG] [12/06/2012 00:37:02.46] [pool-4-thread-3] [akka://SessionContentsSpec/user/Futures] started (com.ergodicity.core.session.SessionContentsSpec$$anonfun$1$$anonfun$apply$mcV$sp$2$$anonfun$3$$anon$2@5cff23)
[DEBUG] [12/06/2012 00:37:02.46] [pool-4-thread-3] [akka://SessionContentsSpec/user/Futures] now supervising Actor[akka://SessionContentsSpec/user/Futures/GMKR-6.12]
[DEBUG] [12/06/2012 00:37:02.46] [pool-4-thread-3] [akka://SessionContentsSpec/user/Futures] Get session instrument: FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future Contract); Result = Some((FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future Contract),Actor[akka://SessionContentsSpec/user/Futures/GMKR-6.12]))
[DEBUG] [12/06/2012 00:37:02.46] [SessionContentsSpec-akka.actor.default-dispatcher-2] [akka://SessionContentsSpec/system/testActor8] restarting
[DEBUG] [12/06/2012 00:37:02.47] [SessionContentsSpec-akka.actor.default-dispatcher-2] [akka://SessionContentsSpec/system/testActor8] restarted
[INFO] [12/06/2012 00:37:02.47] [SessionContentsSpec-akka.actor.default-dispatcher-2] [akka://SessionContentsSpec/user/Futures/GMKR-6.12] Started instrument for security = FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future Contract)
[DEBUG] [12/06/2012 00:37:02.47] [SessionContentsSpec-akka.actor.default-dispatcher-2] [akka://SessionContentsSpec/user/Futures/GMKR-6.12] started (com.ergodicity.core.session.FutureInstrument@1cc1503)
[DEBUG] [12/06/2012 00:37:02.47] [SessionContentsSpec-akka.actor.default-dispatcher-2] [akka://SessionContentsSpec/user/Futures/GMKR-6.12] processing Event(FutureParameters(100,Limits(100,100)),None) from TestActor[akka://SessionContentsSpec/user/Futures]
[DEBUG] [12/06/2012 00:37:02.47] [SessionContentsSpec-akka.actor.default-dispatcher-2] [akka://SessionContentsSpec/user/Futures/GMKR-6.12] processing Event(Suspended,Some(FutureParameters(100,Limits(100,100)))) from TestActor[akka://SessionContentsSpec/user/Futures]
[info] SessionContentsSpec:
[info] SessionContentes with FuturesManager 
[info] - must return None if instrument not found
[info] - must return instument reference if found
[INFO] [12/06/2012 00:37:02.50] [pool-4-thread-3] [akka://SessionContentsSpec/system/testActor4] Ref = Actor[akka://SessionContentsSpec/user/Futures/GMKR-6.12]
[DEBUG] [12/06/2012 00:37:02.62] [pool-4-thread-2] [EventStream(akka://OrdersTrackingSpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:37:02.62] [pool-4-thread-2] [EventStream(akka://OrdersTrackingSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:37:02.63] [pool-4-thread-3] [EventStream(akka://PositionsDispatcherSpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:37:02.63] [pool-4-thread-3] [EventStream(akka://PositionsDispatcherSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:37:02.65] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/system/testActor9] started (akka.testkit.TestActor@146d29a)
[DEBUG] [12/06/2012 00:37:02.65] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/system] now supervising Actor[akka://OrdersTrackingSpec/system/testActor9]
[DEBUG] [12/06/2012 00:37:02.67] [PositionsDispatcherSpec-akka.actor.default-dispatcher-3] [akka://PositionsDispatcherSpec/system/testActor10] started (akka.testkit.TestActor@1e179a3)
[DEBUG] [12/06/2012 00:37:02.67] [PositionsDispatcherSpec-akka.actor.default-dispatcher-3] [akka://PositionsDispatcherSpec/system] now supervising Actor[akka://PositionsDispatcherSpec/system/testActor10]
[DEBUG] [12/06/2012 00:37:02.75] [SessionContentsSpec-akka.actor.default-dispatcher-1] [akka://SessionContentsSpec/user/Futures] stopping
[DEBUG] [12/06/2012 00:37:02.75] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-3] [akka://FuturesContentsManagerSpec/user/Futures] stopping
[DEBUG] [12/06/2012 00:37:02.75] [SessionContentsSpec-akka.actor.default-dispatcher-1] [akka://SessionContentsSpec/user] stopping
[DEBUG] [12/06/2012 00:37:02.75] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-3] [akka://FuturesContentsManagerSpec/user] stopping
[DEBUG] [12/06/2012 00:37:02.81] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-2] [akka://FuturesContentsManagerSpec/user/Futures] stopped
[DEBUG] [12/06/2012 00:37:02.82] [SessionContentsSpec-akka.actor.default-dispatcher-3] [akka://SessionContentsSpec/user/Futures] stopped
[DEBUG] [12/06/2012 00:37:02.82] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-2] [akka://FuturesContentsManagerSpec/user/Futures/GMKR-6.12] stopped
[DEBUG] [12/06/2012 00:37:02.82] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-3] [akka://FuturesContentsManagerSpec/user] stopped
[DEBUG] [12/06/2012 00:37:02.83] [PositionsDispatcherSpec-akka.actor.default-dispatcher-1] [akka://PositionsDispatcherSpec/user] now supervising TestActor[akka://PositionsDispatcherSpec/user/PositionsDispatcher]
[DEBUG] [12/06/2012 00:37:02.84] [SessionContentsSpec-akka.actor.default-dispatcher-1] [akka://SessionContentsSpec/user] stopped
[DEBUG] [12/06/2012 00:37:02.84] [SessionContentsSpec-akka.actor.default-dispatcher-3] [akka://SessionContentsSpec/user/Futures/GMKR-6.12] stopped
[DEBUG] [12/06/2012 00:37:02.86] [PositionsDispatcherSpec-akka.actor.default-dispatcher-2] [akka://PositionsDispatcherSpec/system/testActor11] started (akka.testkit.TestActor@13835ce)
[DEBUG] [12/06/2012 00:37:02.86] [PositionsDispatcherSpec-akka.actor.default-dispatcher-2] [akka://PositionsDispatcherSpec/system] now supervising Actor[akka://PositionsDispatcherSpec/system/testActor11]
[DEBUG] [12/06/2012 00:37:02.87] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-4] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:02.87] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-4] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:02.88] [SessionContentsSpec-akka.actor.default-dispatcher-4] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:02.88] [SessionContentsSpec-akka.actor.default-dispatcher-4] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:02.89] [pool-4-thread-3] [akka://PositionsDispatcherSpec/user/PositionsDispatcher] started (com.ergodicity.core.PositionsDispatcher@1f7d7e4)
[DEBUG] [12/06/2012 00:37:02.90] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-4] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:37:02.91] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-2] [akka://FuturesContentsManagerSpec/system/log1-Logging$DefaultLogger] stopped
[DEBUG] [12/06/2012 00:37:02.91] [SessionContentsSpec-akka.actor.default-dispatcher-4] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:37:02.91] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-4] [akka://FuturesContentsManagerSpec/system/testActor1] stopped
[DEBUG] [12/06/2012 00:37:02.91] [SessionContentsSpec-akka.actor.default-dispatcher-2] [akka://SessionContentsSpec/system/log1-Logging$DefaultLogger] stopped
[DEBUG] [12/06/2012 00:37:02.91] [SessionContentsSpec-akka.actor.default-dispatcher-4] [akka://SessionContentsSpec/system/testActor4] stopped
[DEBUG] [12/06/2012 00:37:02.92] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/user] now supervising TestActor[akka://OrdersTrackingSpec/user/OrdersTracking]
[DEBUG] [12/06/2012 00:37:02.92] [PositionsDispatcherSpec-akka.actor.default-dispatcher-1] [akka://PositionsDispatcherSpec/user] now supervising TestActor[akka://PositionsDispatcherSpec/user/PositionsDispatcher]
[DEBUG] [12/06/2012 00:37:02.93] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-4] [akka://FuturesContentsManagerSpec/system/testActor5] stopped
[DEBUG] [12/06/2012 00:37:02.93] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-4] [akka://FuturesContentsManagerSpec/system/testActor7] stopped
[DEBUG] [12/06/2012 00:37:02.93] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-4] [akka://FuturesContentsManagerSpec/system] stopping
[DEBUG] [12/06/2012 00:37:02.94] [pool-4-thread-3] [akka://PositionsDispatcherSpec/user/PositionsDispatcher] started (com.ergodicity.core.PositionsDispatcher@138e583)
[DEBUG] [12/06/2012 00:37:02.94] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-4] [akka://FuturesContentsManagerSpec/system] stopped
[DEBUG] [12/06/2012 00:37:02.96] [SessionContentsSpec-akka.actor.default-dispatcher-4] [akka://SessionContentsSpec/system/testActor6] stopped
[DEBUG] [12/06/2012 00:37:02.96] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/system/testActor12] started (akka.testkit.TestActor@12ce69f)
[DEBUG] [12/06/2012 00:37:02.96] [SessionContentsSpec-akka.actor.default-dispatcher-4] [akka://SessionContentsSpec/system/testActor8] stopped
[DEBUG] [12/06/2012 00:37:02.96] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/system] now supervising Actor[akka://OrdersTrackingSpec/system/testActor12]
[DEBUG] [12/06/2012 00:37:02.97] [SessionContentsSpec-akka.actor.default-dispatcher-4] [akka://SessionContentsSpec/system] stopping
[DEBUG] [12/06/2012 00:37:02.97] [SessionContentsSpec-akka.actor.default-dispatcher-4] [akka://SessionContentsSpec/system] stopped
[DEBUG] [12/06/2012 00:37:02.97] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-4] [akka://FuturesContentsManagerSpec/] stopped
[DEBUG] [12/06/2012 00:37:02.97] [SessionContentsSpec-akka.actor.default-dispatcher-4] [akka://SessionContentsSpec/] stopped
[DEBUG] [12/06/2012 00:37:02.97] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/system/testActor13] started (akka.testkit.TestActor@1413367)
[DEBUG] [12/06/2012 00:37:02.97] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/system] now supervising Actor[akka://OrdersTrackingSpec/system/testActor13]
[DEBUG] [12/06/2012 00:37:02.107] [PositionsDispatcherSpec-akka.actor.default-dispatcher-1] [akka://PositionsDispatcherSpec/user] now supervising TestActor[akka://PositionsDispatcherSpec/user/PositionsDispatcher]
[DEBUG] [12/06/2012 00:37:02.107] [OrdersTrackingSpec-akka.actor.default-dispatcher-4] [akka://OrdersTrackingSpec/user/OrdersTracking/FutureOrdersDispatcher] started (com.ergodicity.core.order.FutureOrdersDispatcher@149617e)
[DEBUG] [12/06/2012 00:37:02.107] [pool-4-thread-3] [akka://PositionsDispatcherSpec/user/PositionsDispatcher] started (com.ergodicity.core.PositionsDispatcher@c4c0bb)
[DEBUG] [12/06/2012 00:37:02.110] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/user/OrdersTracking/OptionOrdersDispatcher] started (com.ergodicity.core.order.OptionOrdersDispatcher@16ef749)
[DEBUG] [12/06/2012 00:37:02.116] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] started (com.ergodicity.core.order.OrdersTracking@11c34a)
[DEBUG] [12/06/2012 00:37:02.116] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrdersTracking/FutureOrdersDispatcher]
[DEBUG] [12/06/2012 00:37:02.116] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrdersTracking/OptionOrdersDispatcher]
[DEBUG] [12/06/2012 00:37:02.117] [OrdersTrackingSpec-akka.actor.default-dispatcher-4] [akka://OrdersTrackingSpec/user] now supervising TestActor[akka://OrdersTrackingSpec/user/OrdersTracking]
[DEBUG] [12/06/2012 00:37:02.118] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/system/testActor14] started (akka.testkit.TestActor@1f3db5f)
[DEBUG] [12/06/2012 00:37:02.118] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/system] now supervising Actor[akka://OrdersTrackingSpec/system/testActor14]
[DEBUG] [12/06/2012 00:37:02.119] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/system/testActor15] started (akka.testkit.TestActor@208c2a)
[DEBUG] [12/06/2012 00:37:02.119] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/system] now supervising Actor[akka://OrdersTrackingSpec/system/testActor15]
[DEBUG] [12/06/2012 00:37:02.119] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] started (com.ergodicity.core.order.OrdersTracking@722a22)
[DEBUG] [12/06/2012 00:37:02.120] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrdersTracking/FutureOrdersDispatcher]
[DEBUG] [12/06/2012 00:37:02.120] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrdersTracking/OptionOrdersDispatcher]
[DEBUG] [12/06/2012 00:37:02.120] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/user/OrdersTracking/FutureOrdersDispatcher] started (com.ergodicity.core.order.FutureOrdersDispatcher@6aca9b)
[DEBUG] [12/06/2012 00:37:02.120] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/user/OrdersTracking/OptionOrdersDispatcher] started (com.ergodicity.core.order.OptionOrdersDispatcher@11b98ca)
[DEBUG] [12/06/2012 00:37:02.121] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] processing Event(OngoingSession(SessionId(100,100),Actor[akka://OrdersTrackingSpec/system/testActor9]),None) from Actor[akka://OrdersTrackingSpec/system/testActor9]
[DEBUG] [12/06/2012 00:37:02.121] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] transition CatchingOngoingSession -> Tracking
[DEBUG] [12/06/2012 00:37:02.122] [OrdersTrackingSpec-akka.actor.default-dispatcher-4] [akka://OrdersTrackingSpec/user] now supervising TestActor[akka://OrdersTrackingSpec/user/OrdersTracking]
[DEBUG] [12/06/2012 00:37:02.122] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/system/testActor16] started (akka.testkit.TestActor@72eee)
[DEBUG] [12/06/2012 00:37:02.122] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/system] now supervising Actor[akka://OrdersTrackingSpec/system/testActor16]
[DEBUG] [12/06/2012 00:37:02.122] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/system/testActor17] started (akka.testkit.TestActor@18261f6)
[DEBUG] [12/06/2012 00:37:02.123] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/system] now supervising Actor[akka://OrdersTrackingSpec/system/testActor17]
[DEBUG] [12/06/2012 00:37:02.124] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] started (com.ergodicity.core.order.OrdersTracking@5b2860)
[DEBUG] [12/06/2012 00:37:02.124] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/user/OrdersTracking/OptionOrdersDispatcher] started (com.ergodicity.core.order.OptionOrdersDispatcher@134f5cd)
[DEBUG] [12/06/2012 00:37:02.124] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/user/OrdersTracking/FutureOrdersDispatcher] started (com.ergodicity.core.order.FutureOrdersDispatcher@a55dd5)
[DEBUG] [12/06/2012 00:37:02.124] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrdersTracking/FutureOrdersDispatcher]
[DEBUG] [12/06/2012 00:37:02.124] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrdersTracking/OptionOrdersDispatcher]
[info] PositionsDispatcherSpec:
[info] Positions Dispatcher 
[info] - must subscribe stream events
[info] - must discard position
[info] - must update position
[DEBUG] [12/06/2012 00:37:02.165] [PositionsDispatcherSpec-akka.actor.default-dispatcher-1] [akka://PositionsDispatcherSpec/user/PositionsDispatcher] stopped
[DEBUG] [12/06/2012 00:37:02.166] [PositionsDispatcherSpec-akka.actor.default-dispatcher-1] [akka://PositionsDispatcherSpec/user] stopping
[DEBUG] [12/06/2012 00:37:02.166] [PositionsDispatcherSpec-akka.actor.default-dispatcher-1] [akka://PositionsDispatcherSpec/user] stopped
[DEBUG] [12/06/2012 00:37:02.166] [PositionsDispatcherSpec-akka.actor.default-dispatcher-4] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:02.166] [PositionsDispatcherSpec-akka.actor.default-dispatcher-4] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:02.167] [PositionsDispatcherSpec-akka.actor.default-dispatcher-4] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:37:02.167] [PositionsDispatcherSpec-akka.actor.default-dispatcher-4] [akka://PositionsDispatcherSpec/system/testActor10] stopped
[DEBUG] [12/06/2012 00:37:02.167] [PositionsDispatcherSpec-akka.actor.default-dispatcher-4] [akka://PositionsDispatcherSpec/system/testActor11] stopped
[DEBUG] [12/06/2012 00:37:02.167] [PositionsDispatcherSpec-akka.actor.default-dispatcher-4] [akka://PositionsDispatcherSpec/system] stopping
[DEBUG] [12/06/2012 00:37:02.168] [PositionsDispatcherSpec-akka.actor.default-dispatcher-4] [akka://PositionsDispatcherSpec/system] stopped
[DEBUG] [12/06/2012 00:37:02.168] [PositionsDispatcherSpec-akka.actor.default-dispatcher-2] [akka://PositionsDispatcherSpec/system/log1-Logging$DefaultLogger] stopped
[DEBUG] [12/06/2012 00:37:02.168] [PositionsDispatcherSpec-akka.actor.default-dispatcher-1] [akka://PositionsDispatcherSpec/] stopped
[DEBUG] [12/06/2012 00:37:02.176] [pool-4-thread-3] [EventStream(akka://OptionsContentsManagerSpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:37:02.176] [pool-4-thread-3] [EventStream(akka://OptionsContentsManagerSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:37:02.178] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-2] [akka://OptionsContentsManagerSpec/system/testActor18] started (akka.testkit.TestActor@14a6e1c)
[DEBUG] [12/06/2012 00:37:02.178] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-2] [akka://OptionsContentsManagerSpec/system] now supervising Actor[akka://OptionsContentsManagerSpec/system/testActor18]
[DEBUG] [12/06/2012 00:37:02.188] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-1] [akka://OptionsContentsManagerSpec/system/testActor19] started (akka.testkit.TestActor@183c42)
[DEBUG] [12/06/2012 00:37:02.189] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-1] [akka://OptionsContentsManagerSpec/system] now supervising Actor[akka://OptionsContentsManagerSpec/system/testActor19]
[DEBUG] [12/06/2012 00:37:02.190] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-2] [akka://OptionsContentsManagerSpec/user] now supervising TestActor[akka://OptionsContentsManagerSpec/user/Options]
[INFO] [12/06/2012 00:37:02.194] [pool-4-thread-3] [akka://OptionsContentsManagerSpec/user/Options] Start SessionContents
[DEBUG] [12/06/2012 00:37:02.194] [pool-4-thread-3] [akka://OptionsContentsManagerSpec/user/Options] started (com.ergodicity.core.session.OptionsContentsManagerSpec$$anonfun$1$$anonfun$apply$mcV$sp$1$$anonfun$2$$anon$1@b662b)
[DEBUG] [12/06/2012 00:37:02.199] [pool-4-thread-3] [akka://OptionsContentsManagerSpec/user/Options] now supervising Actor[akka://OptionsContentsManagerSpec/user/Options/RTS-6.12M150612PA@175000]
[DEBUG] [12/06/2012 00:37:02.201] [pool-4-thread-1] [akka://OrdersDispatchersSpec/user/$$c] processing Event(Transition(Actor[akka://OrdersDispatchersSpec/system/testActor3],Opened,Closed),(Some(100),Some(-0001-12-28T22:30:20.000+02:30:20),Map(1000 -> (Order(1,100,IsinId(0),Buy,0,0,4157),List())))) from Actor[akka://OrdersDispatchersSpec/system/testActor3]
[INFO] [12/06/2012 00:37:02.203] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-1] [akka://OptionsContentsManagerSpec/user/Options/RTS-6.12M150612PA@175000] Started instrument for security = OptionContract(IsinId(160734),Isin(RTS-6.12M150612PA 175000),ShortIsisn(RI175000BR2),Option Contract)
[DEBUG] [12/06/2012 00:37:02.203] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-1] [akka://OptionsContentsManagerSpec/user/Options/RTS-6.12M150612PA@175000] started (com.ergodicity.core.session.OptionInstrument@13ac7b2)
[DEBUG] [12/06/2012 00:37:02.203] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-1] [akka://OptionsContentsManagerSpec/user/Options/RTS-6.12M150612PA@175000] processing Event(OptionParameters(100),None) from TestActor[akka://OptionsContentsManagerSpec/user/Options]
[DEBUG] [12/06/2012 00:37:02.203] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-1] [akka://OptionsContentsManagerSpec/user/Options/RTS-6.12M150612PA@175000] processing Event(Online,Some(OptionParameters(100))) from TestActor[akka://OptionsContentsManagerSpec/user/Options]
[DEBUG] [12/06/2012 00:37:02.203] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-1] [akka://OptionsContentsManagerSpec/user/Options/RTS-6.12M150612PA@175000] transition Suspended -> Online
[DEBUG] [12/06/2012 00:37:02.203] [pool-4-thread-1] [akka://OrdersDispatchersSpec/user/$$c] transition Loading -> Loaded
[DEBUG] [12/06/2012 00:37:02.203] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-2] [akka://OptionsContentsManagerSpec/user/Options/RTS-6.12M150612PA@175000] processing Event(Suspended,Some(OptionParameters(100))) from TestActor[akka://OptionsContentsManagerSpec/user/Options]
[DEBUG] [12/06/2012 00:37:02.204] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-2] [akka://OptionsContentsManagerSpec/user/Options/RTS-6.12M150612PA@175000] transition Online -> Suspended
[DEBUG] [12/06/2012 00:37:02.204] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-1] [akka://OptionsContentsManagerSpec/user/Options/RTS-6.12M150612PA@175000] processing Event(Assigned,Some(OptionParameters(100))) from TestActor[akka://OptionsContentsManagerSpec/user/Options]
[DEBUG] [12/06/2012 00:37:02.204] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-1] [akka://OptionsContentsManagerSpec/user/Options/RTS-6.12M150612PA@175000] transition Suspended -> Assigned
[DEBUG] [12/06/2012 00:37:02.204] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-1] [akka://OptionsContentsManagerSpec/user/Options/RTS-6.12M150612PA@175000] processing Event(Canceled,Some(OptionParameters(100))) from TestActor[akka://OptionsContentsManagerSpec/user/Options]
[DEBUG] [12/06/2012 00:37:02.204] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-1] [akka://OptionsContentsManagerSpec/user/Options/RTS-6.12M150612PA@175000] transition Assigned -> Canceled
[info] OptionsContentsManagerSpec:
[info] OptionsContentsManager 
[info] - must track session state updates and propagate to instrument state
[info]   + When receive new instrument 
[info]   + Then should create actor for it 
[info]   + When session suspended 
[info]   + Then instrument should be suspended too 
[info]   + When session assigned 
[info]   + Then instrument should be assigned too 
[info]   + When session cancelled 
[info]   + Then instrument should be cancelled too 
[DEBUG] [12/06/2012 00:37:02.206] [pool-4-thread-1] [akka://OrdersDispatchersSpec/user/$$c] processing Event(GetOrdersSnapshot,(Some(100),Some(-0001-12-28T22:30:20.000+02:30:20),Map(1000 -> (Order(1,100,IsinId(0),Buy,0,0,4157),List())))) from Actor[akka://OrdersDispatchersSpec/temp/$a]
[DEBUG] [12/06/2012 00:37:02.206] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-2] [akka://OptionsContentsManagerSpec/user/Options] stopping
[DEBUG] [12/06/2012 00:37:02.207] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-2] [akka://OptionsContentsManagerSpec/user] stopping
[DEBUG] [12/06/2012 00:37:02.207] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-1] [akka://OptionsContentsManagerSpec/user/Options] stopped
[DEBUG] [12/06/2012 00:37:02.207] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-1] [akka://OptionsContentsManagerSpec/user/Options/RTS-6.12M150612PA@175000] stopped
[DEBUG] [12/06/2012 00:37:02.207] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-3] [akka://OptionsContentsManagerSpec/user] stopped
[DEBUG] [12/06/2012 00:37:02.207] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-3] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:02.208] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-3] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:37:02.208] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-3] [akka://OptionsContentsManagerSpec/system/testActor18] stopped
[DEBUG] [12/06/2012 00:37:02.207] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-3] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:02.208] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-3] [akka://OptionsContentsManagerSpec/system/testActor19] stopped
[DEBUG] [12/06/2012 00:37:02.209] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-2] [akka://OptionsContentsManagerSpec/system/log1-Logging$DefaultLogger] stopped
[DEBUG] [12/06/2012 00:37:02.209] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-3] [akka://OptionsContentsManagerSpec/system] stopping
[DEBUG] [12/06/2012 00:37:02.209] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-3] [akka://OptionsContentsManagerSpec/system] stopped
[DEBUG] [12/06/2012 00:37:02.209] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-2] [akka://OptionsContentsManagerSpec/] stopped
[DEBUG] [12/06/2012 00:37:02.213] [OrdersDispatchersSpec-akka.actor.default-dispatcher-3] [akka://OrdersDispatchersSpec/user] now supervising TestActor[akka://OrdersDispatchersSpec/user/$$f]
[DEBUG] [12/06/2012 00:37:02.213] [pool-4-thread-1] [akka://OrdersDispatchersSpec/user/$$f] started (com.ergodicity.core.order.OrdersSnapshotActor@4d91c5)
[DEBUG] [12/06/2012 00:37:02.213] [pool-4-thread-1] [akka://OrdersDispatchersSpec/user/$$f] processing Event(GetOrdersSnapshot,(None,None,Map())) from Actor[akka://OrdersDispatchersSpec/system/testActor3]
[DEBUG] [12/06/2012 00:37:02.213] [pool-4-thread-1] [akka://OrdersDispatchersSpec/user/$$f] processing Event(StreamData(0,java.nio.HeapByteBuffer[pos=61 lim=1000 cap=1000]),(None,None,Map())) from Actor[akka://OrdersDispatchersSpec/system/testActor3]
[DEBUG] [12/06/2012 00:37:02.213] [pool-4-thread-1] [akka://OrdersDispatchersSpec/user/$$f] processing Event(StreamData(1,java.nio.HeapByteBuffer[pos=50 lim=1000 cap=1000]),(None,None,Map(1000 -> (Order(1,100,IsinId(0),Buy,0,0,4157),List())))) from Actor[akka://OrdersDispatchersSpec/system/testActor3]
[DEBUG] [12/06/2012 00:37:02.214] [pool-4-thread-1] [akka://OrdersDispatchersSpec/user/$$f] processing Event(Transition(Actor[akka://OrdersDispatchersSpec/system/testActor3],Opened,Closed),(Some(100),Some(-0001-12-28T22:30:20.000+02:30:20),Map(1000 -> (Order(1,100,IsinId(0),Buy,0,0,4157),List())))) from Actor[akka://OrdersDispatchersSpec/system/testActor3]
[DEBUG] [12/06/2012 00:37:02.214] [pool-4-thread-1] [akka://OrdersDispatchersSpec/user/$$f] transition Loading -> Loaded
[info] OrderBookSnapshotSpec:
[info] Order Book Snapshot 
[info] - must subscribe stream events and transitions
[info] - must return snapshot immediately
[info] - must return snapshot after loaded
[DEBUG] [12/06/2012 00:37:02.215] [OrdersDispatchersSpec-akka.actor.default-dispatcher-3] [akka://OrdersDispatchersSpec/user/$$a] stopped
[DEBUG] [12/06/2012 00:37:02.215] [OrdersDispatchersSpec-akka.actor.default-dispatcher-3] [akka://OrdersDispatchersSpec/user/$$c] stopped
[DEBUG] [12/06/2012 00:37:02.215] [OrdersDispatchersSpec-akka.actor.default-dispatcher-3] [akka://OrdersDispatchersSpec/user/$$f] stopped
[DEBUG] [12/06/2012 00:37:02.215] [OrdersDispatchersSpec-akka.actor.default-dispatcher-3] [akka://OrdersDispatchersSpec/user] stopping
[DEBUG] [12/06/2012 00:37:02.216] [OrdersDispatchersSpec-akka.actor.default-dispatcher-3] [akka://OrdersDispatchersSpec/user] stopped
[DEBUG] [12/06/2012 00:37:02.216] [OrdersDispatchersSpec-akka.actor.default-dispatcher-1] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:02.216] [OrdersDispatchersSpec-akka.actor.default-dispatcher-1] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:02.216] [OrdersDispatchersSpec-akka.actor.default-dispatcher-1] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:37:02.216] [OrdersDispatchersSpec-akka.actor.default-dispatcher-2] [akka://OrdersDispatchersSpec/system/log1-Logging$DefaultLogger] stopped
[DEBUG] [12/06/2012 00:37:02.216] [OrdersDispatchersSpec-akka.actor.default-dispatcher-1] [akka://OrdersDispatchersSpec/system/testActor3] stopped
[DEBUG] [12/06/2012 00:37:02.217] [OrdersDispatchersSpec-akka.actor.default-dispatcher-1] [akka://OrdersDispatchersSpec/system] stopping
[DEBUG] [12/06/2012 00:37:02.217] [OrdersDispatchersSpec-akka.actor.default-dispatcher-1] [akka://OrdersDispatchersSpec/system] stopped
[DEBUG] [12/06/2012 00:37:02.217] [OrdersDispatchersSpec-akka.actor.default-dispatcher-2] [akka://OrdersDispatchersSpec/] stopped
[DEBUG] [12/06/2012 00:37:02.224] [pool-4-thread-1] [EventStream(akka://OrdersTrackingSpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:37:02.224] [pool-4-thread-1] [EventStream(akka://OrdersTrackingSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:37:02.226] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/system/testActor20] started (akka.testkit.TestActor@6a611d)
[DEBUG] [12/06/2012 00:37:02.226] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/system] now supervising Actor[akka://OrdersTrackingSpec/system/testActor20]
[info] ProtocolSpec:
[info] Protocol 
[info] - must handle errors
[info] - must handle flood
[info] - must fail on unexpected message
[info] FutAddOrder 
[info] - must handle order response
[info] OptAddOrder 
[info] - must handle order response
[DEBUG] [12/06/2012 00:37:02.501] [pool-4-thread-3] [EventStream(akka://PositionsTrackingSpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:37:02.502] [pool-4-thread-3] [EventStream(akka://PositionsTrackingSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:37:02.503] [PositionsTrackingSpec-akka.actor.default-dispatcher-1] [akka://PositionsTrackingSpec/system/testActor21] started (akka.testkit.TestActor@1363113)
[DEBUG] [12/06/2012 00:37:02.504] [PositionsTrackingSpec-akka.actor.default-dispatcher-1] [akka://PositionsTrackingSpec/system] now supervising Actor[akka://PositionsTrackingSpec/system/testActor21]
[DEBUG] [12/06/2012 00:37:02.531] [InstrumentActorSpec-akka.actor.default-dispatcher-2] [akka://InstrumentActorSpec/user] now supervising TestActor[akka://InstrumentActorSpec/user/$$g]
[INFO] [12/06/2012 00:37:02.531] [pool-4-thread-4] [akka://InstrumentActorSpec/user/$$g] Started instrument for security = FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),‘ьючерсный контракт GMKR-06.12)
[DEBUG] [12/06/2012 00:37:02.532] [pool-4-thread-4] [akka://InstrumentActorSpec/user/$$g] started (com.ergodicity.core.session.FutureInstrument@725fe6)
[DEBUG] [12/06/2012 00:37:02.532] [pool-4-thread-4] [akka://InstrumentActorSpec/user/$$g] processing Event(SubscribeInstrumentCallback(Actor[akka://InstrumentActorSpec/system/testActor2]),None) from Actor[akka://InstrumentActorSpec/system/testActor2]
[DEBUG] [12/06/2012 00:37:02.532] [pool-4-thread-4] [akka://InstrumentActorSpec/user/$$g] processing Event(FutureParameters(100,Limits(100,100)),None) from Actor[akka://InstrumentActorSpec/system/testActor2]
[info] InstrumentActorSpec:
[info] InstrumentActor 
[info] - must initialized in Suspended state
[info] - must support state updates
[info] - must don't respond with paraeters of they are not available
[info] - must handle paramters subscripbtion
[DEBUG] [12/06/2012 00:37:02.535] [InstrumentActorSpec-akka.actor.default-dispatcher-3] [akka://InstrumentActorSpec/user/$$b] stopped
[DEBUG] [12/06/2012 00:37:02.536] [InstrumentActorSpec-akka.actor.default-dispatcher-3] [akka://InstrumentActorSpec/user/$$d] stopped
[DEBUG] [12/06/2012 00:37:02.536] [InstrumentActorSpec-akka.actor.default-dispatcher-3] [akka://InstrumentActorSpec/user/$$e] stopped
[DEBUG] [12/06/2012 00:37:02.537] [InstrumentActorSpec-akka.actor.default-dispatcher-3] [akka://InstrumentActorSpec/user/$$g] stopped
[DEBUG] [12/06/2012 00:37:02.537] [InstrumentActorSpec-akka.actor.default-dispatcher-3] [akka://InstrumentActorSpec/user] stopping
[DEBUG] [12/06/2012 00:37:02.537] [InstrumentActorSpec-akka.actor.default-dispatcher-3] [akka://InstrumentActorSpec/user] stopped
[DEBUG] [12/06/2012 00:37:02.537] [InstrumentActorSpec-akka.actor.default-dispatcher-3] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:02.538] [InstrumentActorSpec-akka.actor.default-dispatcher-3] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:37:02.540] [InstrumentActorSpec-akka.actor.default-dispatcher-3] [akka://InstrumentActorSpec/system/testActor2] stopped
[DEBUG] [12/06/2012 00:37:02.540] [InstrumentActorSpec-akka.actor.default-dispatcher-3] [akka://InstrumentActorSpec/system] stopping
[DEBUG] [12/06/2012 00:37:02.541] [InstrumentActorSpec-akka.actor.default-dispatcher-4] [akka://InstrumentActorSpec/system/log1-Logging$DefaultLogger] stopped
[DEBUG] [12/06/2012 00:37:02.542] [InstrumentActorSpec-akka.actor.default-dispatcher-4] [akka://InstrumentActorSpec/system] stopped
[DEBUG] [12/06/2012 00:37:02.542] [InstrumentActorSpec-akka.actor.default-dispatcher-4] [akka://InstrumentActorSpec/] stopped
[DEBUG] [12/06/2012 00:37:02.625] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/system/testActor22] started (akka.testkit.TestActor@e49f22)
[DEBUG] [12/06/2012 00:37:02.625] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/system] now supervising Actor[akka://OrdersTrackingSpec/system/testActor22]
[DEBUG] [12/06/2012 00:37:02.626] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] processing Event(OngoingSessionTransition(OngoingSession(SessionId(100,100),Actor[akka://OrdersTrackingSpec/system/testActor9]),OngoingSession(SessionId(101,101),Actor[akka://OrdersTrackingSpec/system/testActor9])),Some(OngoingSession(SessionId(100,100),Actor[akka://OrdersTrackingSpec/system/testActor9]))) from Actor[akka://OrdersTrackingSpec/system/testActor9]
[INFO] [12/06/2012 00:37:02.627] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] Drop all orders from previous session = OngoingSession(SessionId(100,100),Actor[akka://OrdersTrackingSpec/system/testActor9])
[INFO] [12/06/2012 00:37:02.627] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] Switch to new session = OngoingSession(SessionId(101,101),Actor[akka://OrdersTrackingSpec/system/testActor9])
[DEBUG] [12/06/2012 00:37:02.631] [pool-4-thread-2] [akka://OrdersTrackingSpec/system/testActor22] stopped
[DEBUG] [12/06/2012 00:37:02.634] [OrdersTrackingSpec-akka.actor.default-dispatcher-5] [akka://OrdersTrackingSpec/user] now supervising TestActor[akka://OrdersTrackingSpec/user/OrdersTracking]
[DEBUG] [12/06/2012 00:37:02.634] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/system/testActor23] started (akka.testkit.TestActor@5fce7)
[DEBUG] [12/06/2012 00:37:02.634] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/system] now supervising Actor[akka://OrdersTrackingSpec/system/testActor23]
[DEBUG] [12/06/2012 00:37:02.634] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/system/testActor24] started (akka.testkit.TestActor@84cf67)
[DEBUG] [12/06/2012 00:37:02.635] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/system] now supervising Actor[akka://OrdersTrackingSpec/system/testActor24]
[DEBUG] [12/06/2012 00:37:02.635] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] started (com.ergodicity.core.order.OrdersTracking@dcf434)
[DEBUG] [12/06/2012 00:37:02.635] [OrdersTrackingSpec-akka.actor.default-dispatcher-5] [akka://OrdersTrackingSpec/user/OrdersTracking/FutureOrdersDispatcher] started (com.ergodicity.core.order.FutureOrdersDispatcher@8a9fad)
[DEBUG] [12/06/2012 00:37:02.635] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrdersTracking/FutureOrdersDispatcher]
[DEBUG] [12/06/2012 00:37:02.635] [OrdersTrackingSpec-akka.actor.default-dispatcher-6] [akka://OrdersTrackingSpec/user/OrdersTracking/OptionOrdersDispatcher] started (com.ergodicity.core.order.OptionOrdersDispatcher@c3639)
[DEBUG] [12/06/2012 00:37:02.635] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrdersTracking/OptionOrdersDispatcher]
[DEBUG] [12/06/2012 00:37:02.655] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] processing Event(OrderLog(100,OrderAction(0,Create(Mock for Order, hashCode: 16065032))),Some(OngoingSession(SessionId(100,100),Actor[akka://OrdersTrackingSpec/system/testActor9]))) from Actor[akka://OrdersTrackingSpec/system/testActor9]
[DEBUG] [12/06/2012 00:37:02.655] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] Create new order, id = 0
[DEBUG] [12/06/2012 00:37:02.657] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrdersTracking/0]
[DEBUG] [12/06/2012 00:37:02.657] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] processing Event(OrderLog(101,OrderAction(1,Create(Mock for Order, hashCode: 9639645))),Some(OngoingSession(SessionId(100,100),Actor[akka://OrdersTrackingSpec/system/testActor9]))) from Actor[akka://OrdersTrackingSpec/system/testActor9]
[WARN] [12/06/2012 00:37:02.659] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] unhandled event OrderLog(101,OrderAction(1,Create(Mock for Order, hashCode: 9639645))) in state Tracking
[DEBUG] [12/06/2012 00:37:02.659] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] processing Event(OrderLog(102,OrderAction(2,Create(Mock for Order, hashCode: 18250190))),Some(OngoingSession(SessionId(100,100),Actor[akka://OrdersTrackingSpec/system/testActor9]))) from Actor[akka://OrdersTrackingSpec/system/testActor9]
[WARN] [12/06/2012 00:37:02.659] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] unhandled event OrderLog(102,OrderAction(2,Create(Mock for Order, hashCode: 18250190))) in state Tracking
[DEBUG] [12/06/2012 00:37:02.659] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] processing Event(OrderLog(103,OrderAction(3,Create(Mock for Order, hashCode: 9885025))),Some(OngoingSession(SessionId(100,100),Actor[akka://OrdersTrackingSpec/system/testActor9]))) from Actor[akka://OrdersTrackingSpec/system/testActor9]
[WARN] [12/06/2012 00:37:02.659] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] unhandled event OrderLog(103,OrderAction(3,Create(Mock for Order, hashCode: 9885025))) in state Tracking
[DEBUG] [12/06/2012 00:37:02.660] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] processing Event(OrderLog(104,OrderAction(4,Create(Mock for Order, hashCode: 11066492))),Some(OngoingSession(SessionId(100,100),Actor[akka://OrdersTrackingSpec/system/testActor9]))) from Actor[akka://OrdersTrackingSpec/system/testActor9]
[WARN] [12/06/2012 00:37:02.660] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] unhandled event OrderLog(104,OrderAction(4,Create(Mock for Order, hashCode: 11066492))) in state Tracking
[DEBUG] [12/06/2012 00:37:02.660] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] processing Event(OrderLog(105,OrderAction(5,Create(Mock for Order, hashCode: 13856418))),Some(OngoingSession(SessionId(100,100),Actor[akka://OrdersTrackingSpec/system/testActor9]))) from Actor[akka://OrdersTrackingSpec/system/testActor9]
[WARN] [12/06/2012 00:37:02.660] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] unhandled event OrderLog(105,OrderAction(5,Create(Mock for Order, hashCode: 13856418))) in state Tracking
[DEBUG] [12/06/2012 00:37:02.660] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] processing Event(OrderLog(106,OrderAction(6,Create(Mock for Order, hashCode: 17063556))),Some(OngoingSession(SessionId(100,100),Actor[akka://OrdersTrackingSpec/system/testActor9]))) from Actor[akka://OrdersTrackingSpec/system/testActor9]
[WARN] [12/06/2012 00:37:02.660] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] unhandled event OrderLog(106,OrderAction(6,Create(Mock for Order, hashCode: 17063556))) in state Tracking
[DEBUG] [12/06/2012 00:37:02.661] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] processing Event(OrderLog(107,OrderAction(7,Create(Mock for Order, hashCode: 32706314))),Some(OngoingSession(SessionId(100,100),Actor[akka://OrdersTrackingSpec/system/testActor9]))) from Actor[akka://OrdersTrackingSpec/system/testActor9]
[WARN] [12/06/2012 00:37:02.661] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] unhandled event OrderLog(107,OrderAction(7,Create(Mock for Order, hashCode: 32706314))) in state Tracking
[DEBUG] [12/06/2012 00:37:02.661] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] processing Event(OrderLog(108,OrderAction(8,Create(Mock for Order, hashCode: 31343076))),Some(OngoingSession(SessionId(100,100),Actor[akka://OrdersTrackingSpec/system/testActor9]))) from Actor[akka://OrdersTrackingSpec/system/testActor9]
[WARN] [12/06/2012 00:37:02.661] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] unhandled event OrderLog(108,OrderAction(8,Create(Mock for Order, hashCode: 31343076))) in state Tracking
[DEBUG] [12/06/2012 00:37:02.661] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] processing Event(OrderLog(109,OrderAction(9,Create(Mock for Order, hashCode: 33082199))),Some(OngoingSession(SessionId(100,100),Actor[akka://OrdersTrackingSpec/system/testActor9]))) from Actor[akka://OrdersTrackingSpec/system/testActor9]
[WARN] [12/06/2012 00:37:02.661] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] unhandled event OrderLog(109,OrderAction(9,Create(Mock for Order, hashCode: 33082199))) in state Tracking
[DEBUG] [12/06/2012 00:37:02.662] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] processing Event(OrderLog(110,OrderAction(10,Create(Mock for Order, hashCode: 15596368))),Some(OngoingSession(SessionId(100,100),Actor[akka://OrdersTrackingSpec/system/testActor9]))) from Actor[akka://OrdersTrackingSpec/system/testActor9]
[WARN] [12/06/2012 00:37:02.662] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] unhandled event OrderLog(110,OrderAction(10,Create(Mock for Order, hashCode: 15596368))) in state Tracking
[DEBUG] [12/06/2012 00:37:02.664] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/user] now supervising TestActor[akka://OrdersTrackingSpec/user/OrdersTracking]
[DEBUG] [12/06/2012 00:37:02.664] [OrdersTrackingSpec-akka.actor.default-dispatcher-6] [akka://OrdersTrackingSpec/system/testActor25] started (akka.testkit.TestActor@228263)
[DEBUG] [12/06/2012 00:37:02.664] [OrdersTrackingSpec-akka.actor.default-dispatcher-6] [akka://OrdersTrackingSpec/system] now supervising Actor[akka://OrdersTrackingSpec/system/testActor25]
[DEBUG] [12/06/2012 00:37:02.664] [OrdersTrackingSpec-akka.actor.default-dispatcher-6] [akka://OrdersTrackingSpec/system/testActor26] started (akka.testkit.TestActor@5b17a6)
[DEBUG] [12/06/2012 00:37:02.665] [OrdersTrackingSpec-akka.actor.default-dispatcher-6] [akka://OrdersTrackingSpec/system] now supervising Actor[akka://OrdersTrackingSpec/system/testActor26]
[DEBUG] [12/06/2012 00:37:02.665] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] started (com.ergodicity.core.order.OrdersTracking@c79902)
[DEBUG] [12/06/2012 00:37:02.665] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/user/OrdersTracking/FutureOrdersDispatcher] started (com.ergodicity.core.order.FutureOrdersDispatcher@e8a19)
[DEBUG] [12/06/2012 00:37:02.665] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/user/OrdersTracking/OptionOrdersDispatcher] started (com.ergodicity.core.order.OptionOrdersDispatcher@9dd5b5)
[DEBUG] [12/06/2012 00:37:02.665] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrdersTracking/FutureOrdersDispatcher]
[DEBUG] [12/06/2012 00:37:02.665] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrdersTracking/OptionOrdersDispatcher]
[DEBUG] [12/06/2012 00:37:02.666] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] processing Event(OrderLog(100,OrderAction(12345,Create(Order(12345,100,IsinId(100),Buy,123,1,1)))),Some(OngoingSession(SessionId(100,100),Actor[akka://OrdersTrackingSpec/system/testActor9]))) from Actor[akka://OrdersTrackingSpec/system/testActor9]
[DEBUG] [12/06/2012 00:37:02.666] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] Create new order, id = 12345
[DEBUG] [12/06/2012 00:37:02.666] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrdersTracking/12345]
[DEBUG] [12/06/2012 00:37:02.669] [OrdersTrackingSpec-akka.actor.default-dispatcher-5] [akka://OrdersTrackingSpec/user] now supervising TestActor[akka://OrdersTrackingSpec/user/OrdersTracking]
[DEBUG] [12/06/2012 00:37:02.669] [OrdersTrackingSpec-akka.actor.default-dispatcher-5] [akka://OrdersTrackingSpec/system/testActor27] started (akka.testkit.TestActor@bfa43)
[DEBUG] [12/06/2012 00:37:02.670] [OrdersTrackingSpec-akka.actor.default-dispatcher-5] [akka://OrdersTrackingSpec/system] now supervising Actor[akka://OrdersTrackingSpec/system/testActor27]
[DEBUG] [12/06/2012 00:37:02.670] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/system/testActor28] started (akka.testkit.TestActor@cf701e)
[DEBUG] [12/06/2012 00:37:02.671] [OrdersTrackingSpec-akka.actor.default-dispatcher-4] [akka://OrdersTrackingSpec/user/OrdersTracking/FutureOrdersDispatcher] started (com.ergodicity.core.order.FutureOrdersDispatcher@12066d7)
[DEBUG] [12/06/2012 00:37:02.671] [OrdersTrackingSpec-akka.actor.default-dispatcher-6] [akka://OrdersTrackingSpec/user/OrdersTracking/OptionOrdersDispatcher] started (com.ergodicity.core.order.OptionOrdersDispatcher@3fe32c)
[DEBUG] [12/06/2012 00:37:02.671] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] started (com.ergodicity.core.order.OrdersTracking@afc7a9)
[DEBUG] [12/06/2012 00:37:02.671] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/system] now supervising Actor[akka://OrdersTrackingSpec/system/testActor28]
[DEBUG] [12/06/2012 00:37:02.671] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrdersTracking/FutureOrdersDispatcher]
[DEBUG] [12/06/2012 00:37:02.671] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrdersTracking/OptionOrdersDispatcher]
[DEBUG] [12/06/2012 00:37:02.671] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] processing Event(OrderLog(100,OrderAction(12345,Create(Order(12345,100,IsinId(100),Buy,123,1,1)))),Some(OngoingSession(SessionId(100,100),Actor[akka://OrdersTrackingSpec/system/testActor9]))) from Actor[akka://OrdersTrackingSpec/system/testActor9]
[DEBUG] [12/06/2012 00:37:02.671] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] Create new order, id = 12345
[DEBUG] [12/06/2012 00:37:02.671] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrdersTracking/12345]
[DEBUG] [12/06/2012 00:37:02.675] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/user] now supervising TestActor[akka://OrdersTrackingSpec/user/OrderBooksTracking]
[DEBUG] [12/06/2012 00:37:02.680] [OrdersTrackingSpec-akka.actor.default-dispatcher-6] [akka://OrdersTrackingSpec/user/OrdersTracking/12345] started (com.ergodicity.core.order.OrderActor@13e09de)
[DEBUG] [12/06/2012 00:37:02.680] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/user/OrdersTracking/12345] started (com.ergodicity.core.order.OrderActor@1f9ffb2)
[DEBUG] [12/06/2012 00:37:02.680] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/user/OrdersTracking/0] started (com.ergodicity.core.order.OrderActor@15d88b6)
[DEBUG] [12/06/2012 00:37:02.682] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] processing Event(OrderLog(100,OrderAction(12345,Cancel(1))),Some(OngoingSession(SessionId(100,100),Actor[akka://OrdersTrackingSpec/system/testActor9]))) from Actor[akka://OrdersTrackingSpec/system/testActor9]
[DEBUG] [12/06/2012 00:37:02.683] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] Cancel order, id = 12345
[DEBUG] [12/06/2012 00:37:02.684] [PositionsTrackingSpec-akka.actor.default-dispatcher-3] [akka://PositionsTrackingSpec/user] now supervising TestActor[akka://PositionsTrackingSpec/user/Positions]
[DEBUG] [12/06/2012 00:37:02.685] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/user/OrderBooksTracking/OrderLogDispatcher] started (com.ergodicity.core.order.OrderLogDispatcher@1223385)
[DEBUG] [12/06/2012 00:37:02.687] [PositionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://PositionsTrackingSpec/user] now supervising TestActor[akka://PositionsTrackingSpec/user/DataStream]
[DEBUG] [12/06/2012 00:37:02.689] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/user/OrdersTracking/12345] Order cancelled
[DEBUG] [12/06/2012 00:37:02.690] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/user] now supervising TestActor[akka://OrdersTrackingSpec/user/OrdersTracking]
[DEBUG] [12/06/2012 00:37:02.690] [OrdersTrackingSpec-akka.actor.default-dispatcher-6] [akka://OrdersTrackingSpec/system/testActor29] started (akka.testkit.TestActor@119953)
[DEBUG] [12/06/2012 00:37:02.691] [OrdersTrackingSpec-akka.actor.default-dispatcher-6] [akka://OrdersTrackingSpec/system] now supervising Actor[akka://OrdersTrackingSpec/system/testActor29]
[DEBUG] [12/06/2012 00:37:02.691] [OrdersTrackingSpec-akka.actor.default-dispatcher-8] [akka://OrdersTrackingSpec/system/testActor30] started (akka.testkit.TestActor@11309b8)
[DEBUG] [12/06/2012 00:37:02.691] [OrdersTrackingSpec-akka.actor.default-dispatcher-8] [akka://OrdersTrackingSpec/system] now supervising Actor[akka://OrdersTrackingSpec/system/testActor30]
[DEBUG] [12/06/2012 00:37:02.692] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/user/OrdersTracking/FutureOrdersDispatcher] started (com.ergodicity.core.order.FutureOrdersDispatcher@1d6c1d3)
[DEBUG] [12/06/2012 00:37:02.692] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] started (com.ergodicity.core.order.OrdersTracking@727256)
[DEBUG] [12/06/2012 00:37:02.692] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrdersTracking/FutureOrdersDispatcher]
[DEBUG] [12/06/2012 00:37:02.692] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/user/OrdersTracking/OptionOrdersDispatcher] started (com.ergodicity.core.order.OptionOrdersDispatcher@1b06d5b)
[DEBUG] [12/06/2012 00:37:02.692] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrdersTracking/OptionOrdersDispatcher]
[DEBUG] [12/06/2012 00:37:02.692] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] processing Event(OrderLog(100,OrderAction(12345,Create(Order(12345,100,IsinId(100),Buy,123,3,1)))),Some(OngoingSession(SessionId(100,100),Actor[akka://OrdersTrackingSpec/system/testActor9]))) from Actor[akka://OrdersTrackingSpec/system/testActor9]
[DEBUG] [12/06/2012 00:37:02.693] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] Create new order, id = 12345
[DEBUG] [12/06/2012 00:37:02.693] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrdersTracking/12345]
[DEBUG] [12/06/2012 00:37:02.693] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/user/OrdersTracking/12345] started (com.ergodicity.core.order.OrderActor@101bfc)
[DEBUG] [12/06/2012 00:37:02.698] [pool-4-thread-1] [akka://OrdersTrackingSpec/user/OrderBooksTracking] started (com.ergodicity.core.order.OrderBooksTracking@1e6c5f9)
[DEBUG] [12/06/2012 00:37:02.698] [pool-4-thread-1] [akka://OrdersTrackingSpec/user/OrderBooksTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrderBooksTracking/OrderLogDispatcher]
[DEBUG] [12/06/2012 00:37:02.699] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] processing Event(OrderLog(100,OrderAction(12345,Fill(2,1,None))),Some(OngoingSession(SessionId(100,100),Actor[akka://OrdersTrackingSpec/system/testActor9]))) from Actor[akka://OrdersTrackingSpec/system/testActor9]
[DEBUG] [12/06/2012 00:37:02.699] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] Fill order, id = 12345, amount = 2, rest = 1, deal = None
[DEBUG] [12/06/2012 00:37:02.699] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] processing Event(OrderLog(100,OrderAction(12345,Fill(1,0,None))),Some(OngoingSession(SessionId(100,100),Actor[akka://OrdersTrackingSpec/system/testActor9]))) from Actor[akka://OrdersTrackingSpec/system/testActor9]
[DEBUG] [12/06/2012 00:37:02.699] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] Fill order, id = 12345, amount = 1, rest = 0, deal = None
[DEBUG] [12/06/2012 00:37:02.699] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/user/OrdersTracking/12345] Order filled
[DEBUG] [12/06/2012 00:37:02.701] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/user] now supervising TestActor[akka://OrdersTrackingSpec/user/OrdersTracking]
[DEBUG] [12/06/2012 00:37:02.700] [pool-4-thread-1] [akka://OrdersTrackingSpec/user/OrderBooksTracking] started (com.ergodicity.core.order.OrderBooksTracking@17cfde8)
[DEBUG] [12/06/2012 00:37:02.701] [pool-4-thread-1] [akka://OrdersTrackingSpec/user/OrderBooksTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrderBooksTracking/OrderLogDispatcher]
[DEBUG] [12/06/2012 00:37:02.701] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/user] now supervising TestActor[akka://OrdersTrackingSpec/user/OrderBooksTracking]
[DEBUG] [12/06/2012 00:37:02.701] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/user/OrderBooksTracking/OrderLogDispatcher] started (com.ergodicity.core.order.OrderLogDispatcher@141a1)
[DEBUG] [12/06/2012 00:37:02.701] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/system/testActor31] started (akka.testkit.TestActor@e60f9b)
[DEBUG] [12/06/2012 00:37:02.701] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/system] now supervising Actor[akka://OrdersTrackingSpec/system/testActor31]
[DEBUG] [12/06/2012 00:37:02.701] [OrdersTrackingSpec-akka.actor.default-dispatcher-8] [akka://OrdersTrackingSpec/system/testActor32] started (akka.testkit.TestActor@560aa5)
[DEBUG] [12/06/2012 00:37:02.702] [OrdersTrackingSpec-akka.actor.default-dispatcher-8] [akka://OrdersTrackingSpec/system] now supervising Actor[akka://OrdersTrackingSpec/system/testActor32]
[DEBUG] [12/06/2012 00:37:02.702] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] started (com.ergodicity.core.order.OrdersTracking@1d9beec)
[DEBUG] [12/06/2012 00:37:02.702] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrdersTracking/FutureOrdersDispatcher]
[DEBUG] [12/06/2012 00:37:02.702] [OrdersTrackingSpec-akka.actor.default-dispatcher-8] [akka://OrdersTrackingSpec/user/OrdersTracking/FutureOrdersDispatcher] started (com.ergodicity.core.order.FutureOrdersDispatcher@14a69c5)
[DEBUG] [12/06/2012 00:37:02.702] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrdersTracking/OptionOrdersDispatcher]
[DEBUG] [12/06/2012 00:37:02.702] [OrdersTrackingSpec-akka.actor.default-dispatcher-7] [akka://OrdersTrackingSpec/user/OrdersTracking/OptionOrdersDispatcher] started (com.ergodicity.core.order.OptionOrdersDispatcher@112d2ea)
[DEBUG] [12/06/2012 00:37:02.703] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] processing Event(OrderLog(100,OrderAction(12345,Create(Order(12345,100,IsinId(100),Buy,123,1,1)))),Some(OngoingSession(SessionId(100,100),Actor[akka://OrdersTrackingSpec/system/testActor9]))) from Actor[akka://OrdersTrackingSpec/system/testActor9]
[DEBUG] [12/06/2012 00:37:02.703] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] Create new order, id = 12345
[DEBUG] [12/06/2012 00:37:02.703] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrdersTracking/12345]
[DEBUG] [12/06/2012 00:37:02.703] [OrdersTrackingSpec-akka.actor.default-dispatcher-6] [akka://OrdersTrackingSpec/user/OrdersTracking/12345] started (com.ergodicity.core.order.OrderActor@1a819a4)
[DEBUG] [12/06/2012 00:37:02.703] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] processing Event(GetOrder(12345),Some(OngoingSession(SessionId(100,100),Actor[akka://OrdersTrackingSpec/system/testActor9]))) from Actor[akka://OrdersTrackingSpec/system/testActor9]
[INFO] [12/06/2012 00:37:02.706] [pool-4-thread-2] [akka://OrdersTrackingSpec/system/testActor9] Got order = Order(12345,100,IsinId(100),Buy,123,1,1), ref = Actor[akka://OrdersTrackingSpec/user/OrdersTracking/12345]
[INFO] [12/06/2012 00:37:02.707] [pool-4-thread-1] [akka://OrdersTrackingSpec/user/OrderBooksTracking] Assigned contents; Size = 2
[DEBUG] [12/06/2012 00:37:02.708] [OrdersTrackingSpec-akka.actor.default-dispatcher-7] [akka://OrdersTrackingSpec/user] now supervising TestActor[akka://OrdersTrackingSpec/user/OrdersTracking]
[DEBUG] [12/06/2012 00:37:02.708] [OrdersTrackingSpec-akka.actor.default-dispatcher-6] [akka://OrdersTrackingSpec/system/testActor33] started (akka.testkit.TestActor@16f863c)
[DEBUG] [12/06/2012 00:37:02.708] [OrdersTrackingSpec-akka.actor.default-dispatcher-6] [akka://OrdersTrackingSpec/system] now supervising Actor[akka://OrdersTrackingSpec/system/testActor33]
[DEBUG] [12/06/2012 00:37:02.708] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/system/testActor34] started (akka.testkit.TestActor@108e5f1)
[DEBUG] [12/06/2012 00:37:02.709] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/system] now supervising Actor[akka://OrdersTrackingSpec/system/testActor34]
[DEBUG] [12/06/2012 00:37:02.709] [OrdersTrackingSpec-akka.actor.default-dispatcher-6] [akka://OrdersTrackingSpec/user/OrdersTracking/FutureOrdersDispatcher] started (com.ergodicity.core.order.FutureOrdersDispatcher@1304435)
[DEBUG] [12/06/2012 00:37:02.709] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] started (com.ergodicity.core.order.OrdersTracking@4ba679)
[DEBUG] [12/06/2012 00:37:02.709] [OrdersTrackingSpec-akka.actor.default-dispatcher-7] [akka://OrdersTrackingSpec/user/OrdersTracking/OptionOrdersDispatcher] started (com.ergodicity.core.order.OptionOrdersDispatcher@1c0280a)
[DEBUG] [12/06/2012 00:37:02.709] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrdersTracking/FutureOrdersDispatcher]
[DEBUG] [12/06/2012 00:37:02.709] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrdersTracking/OptionOrdersDispatcher]
[DEBUG] [12/06/2012 00:37:02.709] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] processing Event(GetOrder(12345),Some(OngoingSession(SessionId(100,100),Actor[akka://OrdersTrackingSpec/system/testActor9]))) from Actor[akka://OrdersTrackingSpec/system/testActor9]
[DEBUG] [12/06/2012 00:37:02.710] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] processing Event(OrderLog(100,OrderAction(12345,Create(Order(12345,100,IsinId(100),Buy,123,1,1)))),Some(OngoingSession(SessionId(100,100),Actor[akka://OrdersTrackingSpec/system/testActor9]))) from Actor[akka://OrdersTrackingSpec/system/testActor9]
[DEBUG] [12/06/2012 00:37:02.710] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] Create new order, id = 12345
[DEBUG] [12/06/2012 00:37:02.710] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrdersTracking/12345]
[DEBUG] [12/06/2012 00:37:02.710] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/user/OrdersTracking/12345] started (com.ergodicity.core.order.OrderActor@84cc4c)
[info] OrdersTrackingSpec:
[info] Orders tracking 
[info] - must initialize in CatchingOngoingSession state
[info] - must move to Tracking state when receive ongoing session
[info] - must kill all orders when OngoingSession changes
[info] - must handle Order actions only for ongoing session
[info] - must create new order
[info] - must cancel order
[info] - must fill order
[info] - must get order immediately
[info] - must get order after it's created
[DEBUG] [12/06/2012 00:37:02.711] [OrdersTrackingSpec-akka.actor.default-dispatcher-8] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:02.712] [OrdersTrackingSpec-akka.actor.default-dispatcher-8] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:37:02.712] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/user] stopped
[DEBUG] [12/06/2012 00:37:02.712] [OrdersTrackingSpec-akka.actor.default-dispatcher-8] [akka://OrdersTrackingSpec/system/testActor12] stopped
[DEBUG] [12/06/2012 00:37:02.712] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/DataStream] started (com.ergodicity.cgate.DataStream@5bfe0c)
[DEBUG] [12/06/2012 00:37:02.712] [OrdersTrackingSpec-akka.actor.default-dispatcher-8] [akka://OrdersTrackingSpec/system/testActor13] stopped
[INFO] [12/06/2012 00:37:02.710] [pool-4-thread-2] [akka://OrdersTrackingSpec/system/testActor9] Got order = Order(12345,100,IsinId(100),Buy,123,1,1), ref = Actor[akka://OrdersTrackingSpec/user/OrdersTracking/12345]
[DEBUG] [12/06/2012 00:37:02.713] [PositionsTrackingSpec-akka.actor.default-dispatcher-3] [akka://PositionsTrackingSpec/user/DataStream] processing Event(SubscribeStreamEvents(Actor[akka://PositionsTrackingSpec/user/Positions/PositionsDispatcher]),StreamEventSubscribers(Set())) from Actor[akka://PositionsTrackingSpec/user/Positions/PositionsDispatcher]
[DEBUG] [12/06/2012 00:37:02.714] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/system/log1-Logging$DefaultLogger] stopped
[DEBUG] [12/06/2012 00:37:02.713] [OrdersTrackingSpec-akka.actor.default-dispatcher-8] [akka://OrdersTrackingSpec/system/testActor14] stopped
[DEBUG] [12/06/2012 00:37:02.714] [PositionsTrackingSpec-akka.actor.default-dispatcher-3] [akka://PositionsTrackingSpec/user/Positions/PositionsDispatcher] started (com.ergodicity.core.PositionsDispatcher@1426afe)
[DEBUG] [12/06/2012 00:37:02.714] [OrdersTrackingSpec-akka.actor.default-dispatcher-8] [akka://OrdersTrackingSpec/system/testActor15] stopped
[DEBUG] [12/06/2012 00:37:02.715] [OrdersTrackingSpec-akka.actor.default-dispatcher-8] [akka://OrdersTrackingSpec/system/testActor16] stopped
[DEBUG] [12/06/2012 00:37:02.715] [OrdersTrackingSpec-akka.actor.default-dispatcher-8] [akka://OrdersTrackingSpec/system/testActor17] stopped
[DEBUG] [12/06/2012 00:37:02.715] [OrdersTrackingSpec-akka.actor.default-dispatcher-8] [akka://OrdersTrackingSpec/system/testActor23] stopped
[DEBUG] [12/06/2012 00:37:02.716] [OrdersTrackingSpec-akka.actor.default-dispatcher-8] [akka://OrdersTrackingSpec/system/testActor24] stopped
[DEBUG] [12/06/2012 00:37:02.716] [OrdersTrackingSpec-akka.actor.default-dispatcher-8] [akka://OrdersTrackingSpec/system/testActor25] stopped
[DEBUG] [12/06/2012 00:37:02.716] [OrdersTrackingSpec-akka.actor.default-dispatcher-8] [akka://OrdersTrackingSpec/system/testActor26] stopped
[DEBUG] [12/06/2012 00:37:02.716] [OrdersTrackingSpec-akka.actor.default-dispatcher-8] [akka://OrdersTrackingSpec/system/testActor27] stopped
[DEBUG] [12/06/2012 00:37:02.717] [OrdersTrackingSpec-akka.actor.default-dispatcher-8] [akka://OrdersTrackingSpec/system/testActor28] stopped
[DEBUG] [12/06/2012 00:37:02.717] [OrdersTrackingSpec-akka.actor.default-dispatcher-8] [akka://OrdersTrackingSpec/system/testActor29] stopped
[DEBUG] [12/06/2012 00:37:02.717] [OrdersTrackingSpec-akka.actor.default-dispatcher-8] [akka://OrdersTrackingSpec/system/testActor30] stopped
[DEBUG] [12/06/2012 00:37:02.717] [OrdersTrackingSpec-akka.actor.default-dispatcher-8] [akka://OrdersTrackingSpec/system/testActor31] stopped
[DEBUG] [12/06/2012 00:37:02.718] [OrdersTrackingSpec-akka.actor.default-dispatcher-8] [akka://OrdersTrackingSpec/system/testActor32] stopped
[DEBUG] [12/06/2012 00:37:02.718] [OrdersTrackingSpec-akka.actor.default-dispatcher-8] [akka://OrdersTrackingSpec/system/testActor33] stopped
[DEBUG] [12/06/2012 00:37:02.718] [OrdersTrackingSpec-akka.actor.default-dispatcher-8] [akka://OrdersTrackingSpec/system/testActor34] stopped
[DEBUG] [12/06/2012 00:37:02.719] [OrdersTrackingSpec-akka.actor.default-dispatcher-8] [akka://OrdersTrackingSpec/system/testActor9] stopped
[DEBUG] [12/06/2012 00:37:02.719] [OrdersTrackingSpec-akka.actor.default-dispatcher-8] [akka://OrdersTrackingSpec/system] stopping
[info] ActionSpec:
[info] Action 
[info] - must support FutAddOrder Buy
[info] - must support OptAddOrder Buy
[info] - must support FutDelOrder
[info] - must support OptDelOrder
[DEBUG] [12/06/2012 00:37:02.720] [OrdersTrackingSpec-akka.actor.default-dispatcher-8] [akka://OrdersTrackingSpec/system] stopped
[DEBUG] [12/06/2012 00:37:02.720] [OrdersTrackingSpec-akka.actor.default-dispatcher-8] [akka://OrdersTrackingSpec/] stopped
[DEBUG] [12/06/2012 00:37:02.721] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] started (com.ergodicity.core.PositionsTracking@193de09)
[DEBUG] [12/06/2012 00:37:02.721] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] now supervising Actor[akka://PositionsTrackingSpec/user/Positions/PositionsDispatcher]
[DEBUG] [12/06/2012 00:37:02.725] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] Assigned contents; Size = 1
[DEBUG] [12/06/2012 00:37:02.727] [pool-4-thread-2] [EventStream(akka://OrdersDispatchersSpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:37:02.727] [pool-4-thread-2] [EventStream(akka://OrdersDispatchersSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:37:02.727] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] Position updated; Security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(RIU2),Future contract)
[DEBUG] [12/06/2012 00:37:02.728] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] now supervising Actor[akka://PositionsTrackingSpec/user/Positions/RTS-9.12]
[DEBUG] [12/06/2012 00:37:02.730] [OrdersDispatchersSpec-akka.actor.default-dispatcher-3] [akka://OrdersDispatchersSpec/system/testActor35] started (akka.testkit.TestActor@f183)
[DEBUG] [12/06/2012 00:37:02.730] [OrdersDispatchersSpec-akka.actor.default-dispatcher-3] [akka://OrdersDispatchersSpec/system] now supervising Actor[akka://OrdersDispatchersSpec/system/testActor35]
[DEBUG] [12/06/2012 00:37:02.734] [pool-4-thread-1] [akka://OrdersTrackingSpec/user/OrderBooksTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrderBooksTracking/100]
[DEBUG] [12/06/2012 00:37:02.735] [pool-4-thread-1] [akka://OrdersTrackingSpec/user/OrderBooksTracking] stopping
[DEBUG] [12/06/2012 00:37:02.735] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/user/OrderBooksTracking/OrderLogDispatcher] stopped
[DEBUG] [12/06/2012 00:37:02.738] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/user/OrderBooksTracking/100] started (com.ergodicity.core.order.SessionOrderBooksTracking@10d630a)
[DEBUG] [12/06/2012 00:37:02.738] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/user/OrderBooksTracking] stopped
[DEBUG] [12/06/2012 00:37:02.738] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/user/OrderBooksTracking/100] stopped
[INFO] [12/06/2012 00:37:02.739] [PositionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://PositionsTrackingSpec/user/Positions/RTS-9.12] Opened position; Security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(RIU2),Future contract)
[DEBUG] [12/06/2012 00:37:02.739] [PositionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://PositionsTrackingSpec/user/Positions/RTS-9.12] started (com.ergodicity.core.position.PositionActor@160a24)
[DEBUG] [12/06/2012 00:37:02.740] [PositionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://PositionsTrackingSpec/user/Positions/RTS-9.12] Position updated to Position(1), dynamics = PositionDynamics(0,1,0,0,None)
[DEBUG] [12/06/2012 00:37:02.742] [OrdersDispatchersSpec-akka.actor.default-dispatcher-2] [akka://OrdersDispatchersSpec/user] now supervising TestActor[akka://OrdersDispatchersSpec/user/$$h]
[DEBUG] [12/06/2012 00:37:02.742] [PositionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://PositionsTrackingSpec/user] now supervising TestActor[akka://PositionsTrackingSpec/user/Positions]
[DEBUG] [12/06/2012 00:37:02.743] [OrdersDispatchersSpec-akka.actor.default-dispatcher-1] [akka://OrdersDispatchersSpec/system/testActor37] started (akka.testkit.TestActor@1a9f6ae)
[DEBUG] [12/06/2012 00:37:02.743] [OrdersDispatchersSpec-akka.actor.default-dispatcher-1] [akka://OrdersDispatchersSpec/system] now supervising Actor[akka://OrdersDispatchersSpec/system/testActor37]
[DEBUG] [12/06/2012 00:37:02.743] [PositionsTrackingSpec-akka.actor.default-dispatcher-1] [akka://PositionsTrackingSpec/user] now supervising TestActor[akka://PositionsTrackingSpec/user/DataStream]
[DEBUG] [12/06/2012 00:37:02.743] [pool-4-thread-2] [akka://OrdersDispatchersSpec/user/$$h] started (com.ergodicity.core.order.FutureOrdersDispatcher@19e113f)
[DEBUG] [12/06/2012 00:37:02.743] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/DataStream] started (com.ergodicity.cgate.DataStream@8cb42c)
[DEBUG] [12/06/2012 00:37:02.744] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] started (com.ergodicity.core.PositionsTracking@188ea53)
[DEBUG] [12/06/2012 00:37:02.744] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] now supervising Actor[akka://PositionsTrackingSpec/user/Positions/PositionsDispatcher]
[DEBUG] [12/06/2012 00:37:02.744] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] Assigned contents; Size = 1
[DEBUG] [12/06/2012 00:37:02.744] [PositionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://PositionsTrackingSpec/user/DataStream] processing Event(SubscribeStreamEvents(Actor[akka://PositionsTrackingSpec/user/Positions/PositionsDispatcher]),StreamEventSubscribers(Set())) from Actor[akka://PositionsTrackingSpec/user/Positions/PositionsDispatcher]
[DEBUG] [12/06/2012 00:37:02.744] [PositionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://PositionsTrackingSpec/user/Positions/PositionsDispatcher] started (com.ergodicity.core.PositionsDispatcher@1d02753)
[DEBUG] [12/06/2012 00:37:02.744] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] Position updated; Security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(RIU2),Future contract)
[DEBUG] [12/06/2012 00:37:02.744] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] now supervising Actor[akka://PositionsTrackingSpec/user/Positions/RTS-9.12]
[INFO] [12/06/2012 00:37:02.744] [PositionsTrackingSpec-akka.actor.default-dispatcher-1] [akka://PositionsTrackingSpec/user/Positions/RTS-9.12] Opened position; Security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(RIU2),Future contract)
[DEBUG] [12/06/2012 00:37:02.744] [OrdersDispatchersSpec-akka.actor.default-dispatcher-2] [akka://OrdersDispatchersSpec/user] now supervising TestActor[akka://OrdersDispatchersSpec/user/$$i]
[DEBUG] [12/06/2012 00:37:02.744] [PositionsTrackingSpec-akka.actor.default-dispatcher-1] [akka://PositionsTrackingSpec/user/Positions/RTS-9.12] started (com.ergodicity.core.position.PositionActor@1469b15)
[DEBUG] [12/06/2012 00:37:02.744] [PositionsTrackingSpec-akka.actor.default-dispatcher-1] [akka://PositionsTrackingSpec/user/Positions/RTS-9.12] Position updated to Position(1), dynamics = PositionDynamics(0,1,0,0,None)
[DEBUG] [12/06/2012 00:37:02.744] [OrdersDispatchersSpec-akka.actor.default-dispatcher-2] [akka://OrdersDispatchersSpec/system/testActor38] started (akka.testkit.TestActor@902919)
[DEBUG] [12/06/2012 00:37:02.745] [pool-4-thread-2] [akka://OrdersDispatchersSpec/user/$$i] started (com.ergodicity.core.order.FutureOrdersDispatcher@58b102)
[DEBUG] [12/06/2012 00:37:02.745] [OrdersDispatchersSpec-akka.actor.default-dispatcher-2] [akka://OrdersDispatchersSpec/system] now supervising Actor[akka://OrdersDispatchersSpec/system/testActor38]
[DEBUG] [12/06/2012 00:37:02.746] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] Position discarded; Security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(RIU2),Future contract)
[DEBUG] [12/06/2012 00:37:02.747] [pool-4-thread-2] [akka://OrdersDispatchersSpec/system/testActor35] Action = OrderLog(100,OrderAction(0,Create(Order(0,100,IsinId(0),Buy,0,0,4157))))
[DEBUG] [12/06/2012 00:37:02.748] [PositionsTrackingSpec-akka.actor.default-dispatcher-4] [akka://PositionsTrackingSpec/user/Positions/RTS-9.12] Position updated to Position(0), dynamics = PositionDynamics(0,0,0,0,None)
[DEBUG] [12/06/2012 00:37:02.748] [OrdersDispatchersSpec-akka.actor.default-dispatcher-2] [akka://OrdersDispatchersSpec/user] now supervising TestActor[akka://OrdersDispatchersSpec/user/$$j]
[DEBUG] [12/06/2012 00:37:02.749] [OrdersDispatchersSpec-akka.actor.default-dispatcher-1] [akka://OrdersDispatchersSpec/system/testActor40] started (akka.testkit.TestActor@11fd631)
[DEBUG] [12/06/2012 00:37:02.749] [OrdersDispatchersSpec-akka.actor.default-dispatcher-1] [akka://OrdersDispatchersSpec/system] now supervising Actor[akka://OrdersDispatchersSpec/system/testActor40]
[DEBUG] [12/06/2012 00:37:02.749] [pool-4-thread-2] [akka://OrdersDispatchersSpec/user/$$j] started (com.ergodicity.core.order.OptionOrdersDispatcher@127517f)
[info] OrdersDispatchersSpec:
[info] Future Orders dispatcher 
[info] - must subscribe stream events
[info] - must handle FutTrade stream events
[info] Option Orders dispatcher 
[info] - must handle OptTrade stream events
[DEBUG] [12/06/2012 00:37:02.751] [pool-4-thread-2] [akka://OrdersDispatchersSpec/system/testActor35] Action = OrderLog(100,OrderAction(0,Create(Order(0,100,IsinId(0),Buy,0,0,4157))))
[DEBUG] [12/06/2012 00:37:02.752] [OrdersDispatchersSpec-akka.actor.default-dispatcher-2] [akka://OrdersDispatchersSpec/user/$$h] stopped
[DEBUG] [12/06/2012 00:37:02.752] [OrdersDispatchersSpec-akka.actor.default-dispatcher-2] [akka://OrdersDispatchersSpec/user/$$i] stopped
[DEBUG] [12/06/2012 00:37:02.752] [OrdersDispatchersSpec-akka.actor.default-dispatcher-2] [akka://OrdersDispatchersSpec/user/$$j] stopped
[DEBUG] [12/06/2012 00:37:02.752] [OrdersDispatchersSpec-akka.actor.default-dispatcher-2] [akka://OrdersDispatchersSpec/user] stopping
[DEBUG] [12/06/2012 00:37:02.753] [OrdersDispatchersSpec-akka.actor.default-dispatcher-4] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:02.753] [OrdersDispatchersSpec-akka.actor.default-dispatcher-4] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:37:02.753] [PositionsTrackingSpec-akka.actor.default-dispatcher-4] [akka://PositionsTrackingSpec/user] now supervising TestActor[akka://PositionsTrackingSpec/user/Positions]
[DEBUG] [12/06/2012 00:37:02.753] [OrdersDispatchersSpec-akka.actor.default-dispatcher-2] [akka://OrdersDispatchersSpec/user] stopped
[DEBUG] [12/06/2012 00:37:02.753] [OrdersDispatchersSpec-akka.actor.default-dispatcher-3] [akka://OrdersDispatchersSpec/system/log1-Logging$DefaultLogger] stopped
[DEBUG] [12/06/2012 00:37:02.753] [OrdersDispatchersSpec-akka.actor.default-dispatcher-4] [akka://OrdersDispatchersSpec/system/testActor35] stopped
[DEBUG] [12/06/2012 00:37:02.754] [OrdersDispatchersSpec-akka.actor.default-dispatcher-4] [akka://OrdersDispatchersSpec/system/testActor37] stopped
[DEBUG] [12/06/2012 00:37:02.754] [OrdersDispatchersSpec-akka.actor.default-dispatcher-4] [akka://OrdersDispatchersSpec/system/testActor38] stopped
[DEBUG] [12/06/2012 00:37:02.754] [OrdersDispatchersSpec-akka.actor.default-dispatcher-4] [akka://OrdersDispatchersSpec/system/testActor40] stopped
[DEBUG] [12/06/2012 00:37:02.754] [OrdersDispatchersSpec-akka.actor.default-dispatcher-4] [akka://OrdersDispatchersSpec/system] stopping
[DEBUG] [12/06/2012 00:37:02.755] [OrdersDispatchersSpec-akka.actor.default-dispatcher-4] [akka://OrdersDispatchersSpec/system] stopped
[DEBUG] [12/06/2012 00:37:02.755] [OrdersDispatchersSpec-akka.actor.default-dispatcher-4] [akka://OrdersDispatchersSpec/] stopped
[DEBUG] [12/06/2012 00:37:02.756] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/DataStream] started (com.ergodicity.cgate.DataStream@3a7639)
[DEBUG] [12/06/2012 00:37:02.756] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] started (com.ergodicity.core.PositionsTracking@27d6e0)
[DEBUG] [12/06/2012 00:37:02.756] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] now supervising Actor[akka://PositionsTrackingSpec/user/Positions/PositionsDispatcher]
[DEBUG] [12/06/2012 00:37:02.756] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] Assigned contents; Size = 1
[DEBUG] [12/06/2012 00:37:02.756] [PositionsTrackingSpec-akka.actor.default-dispatcher-4] [akka://PositionsTrackingSpec/user] now supervising TestActor[akka://PositionsTrackingSpec/user/DataStream]
[DEBUG] [12/06/2012 00:37:02.757] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] Position updated; Security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(RIU2),Future contract)
[INFO] [12/06/2012 00:37:02.757] [PositionsTrackingSpec-akka.actor.default-dispatcher-3] [akka://PositionsTrackingSpec/user/Positions/RTS-9.12] Opened position; Security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(RIU2),Future contract)
[DEBUG] [12/06/2012 00:37:02.757] [PositionsTrackingSpec-akka.actor.default-dispatcher-3] [akka://PositionsTrackingSpec/user/Positions/RTS-9.12] started (com.ergodicity.core.position.PositionActor@23e777)
[DEBUG] [12/06/2012 00:37:02.757] [PositionsTrackingSpec-akka.actor.default-dispatcher-4] [akka://PositionsTrackingSpec/user/DataStream] processing Event(SubscribeStreamEvents(Actor[akka://PositionsTrackingSpec/user/Positions/PositionsDispatcher]),StreamEventSubscribers(Set())) from Actor[akka://PositionsTrackingSpec/user/Positions/PositionsDispatcher]
[DEBUG] [12/06/2012 00:37:02.757] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] now supervising Actor[akka://PositionsTrackingSpec/user/Positions/RTS-9.12]
[DEBUG] [12/06/2012 00:37:02.757] [PositionsTrackingSpec-akka.actor.default-dispatcher-4] [akka://PositionsTrackingSpec/user/Positions/PositionsDispatcher] started (com.ergodicity.core.PositionsDispatcher@1316c11)
[DEBUG] [12/06/2012 00:37:02.757] [PositionsTrackingSpec-akka.actor.default-dispatcher-4] [akka://PositionsTrackingSpec/user/Positions/RTS-9.12] Position updated to Position(1), dynamics = PositionDynamics(0,1,0,0,None)
[DEBUG] [12/06/2012 00:37:02.757] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] Position updated; Security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(RIU2),Future contract)
[DEBUG] [12/06/2012 00:37:02.757] [PositionsTrackingSpec-akka.actor.default-dispatcher-4] [akka://PositionsTrackingSpec/user/Positions/RTS-9.12] Position updated to Position(2), dynamics = PositionDynamics(0,2,0,0,None)
[DEBUG] [12/06/2012 00:37:02.758] [PositionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://PositionsTrackingSpec/user] now supervising TestActor[akka://PositionsTrackingSpec/user/Positions]
[DEBUG] [12/06/2012 00:37:02.760] [PositionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://PositionsTrackingSpec/user] now supervising TestActor[akka://PositionsTrackingSpec/user/DataStream]
[DEBUG] [12/06/2012 00:37:02.760] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/DataStream] started (com.ergodicity.cgate.DataStream@427737)
[DEBUG] [12/06/2012 00:37:02.760] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] started (com.ergodicity.core.PositionsTracking@1a0fca3)
[DEBUG] [12/06/2012 00:37:02.760] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] now supervising Actor[akka://PositionsTrackingSpec/user/Positions/PositionsDispatcher]
[DEBUG] [12/06/2012 00:37:02.760] [pool-4-thread-2] [EventStream(akka://SessionsDispatchersSpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:37:02.760] [PositionsTrackingSpec-akka.actor.default-dispatcher-5] [akka://PositionsTrackingSpec/user/DataStream] processing Event(SubscribeStreamEvents(Actor[akka://PositionsTrackingSpec/user/Positions/PositionsDispatcher]),StreamEventSubscribers(Set())) from Actor[akka://PositionsTrackingSpec/user/Positions/PositionsDispatcher]
[DEBUG] [12/06/2012 00:37:02.760] [pool-4-thread-2] [EventStream(akka://SessionsDispatchersSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:37:02.760] [PositionsTrackingSpec-akka.actor.default-dispatcher-5] [akka://PositionsTrackingSpec/user/Positions/PositionsDispatcher] started (com.ergodicity.core.PositionsDispatcher@1c434b8)
[DEBUG] [12/06/2012 00:37:02.761] [SessionsDispatchersSpec-akka.actor.default-dispatcher-1] [akka://SessionsDispatchersSpec/system/testActor42] started (akka.testkit.TestActor@3b4aa2)
[DEBUG] [12/06/2012 00:37:02.762] [SessionsDispatchersSpec-akka.actor.default-dispatcher-1] [akka://SessionsDispatchersSpec/system] now supervising Actor[akka://SessionsDispatchersSpec/system/testActor42]
[info] TradesDispatcherSpec:
[info] Fut Trades Dispatcher 
[info] - must subscribe stream events
[info] - must forward data messages
[info] Opt Trades Dispatcher 
[info] - must subscribe stream events
[info] - must forward data messages
[DEBUG] [12/06/2012 00:37:02.762] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] now supervising Actor[akka://PositionsTrackingSpec/user/Positions/RTS-9.12]
[INFO] [12/06/2012 00:37:02.762] [PositionsTrackingSpec-akka.actor.default-dispatcher-5] [akka://PositionsTrackingSpec/user/Positions/RTS-9.12] Opened position; Security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(RIU2),Future contract)
[DEBUG] [12/06/2012 00:37:02.763] [PositionsTrackingSpec-akka.actor.default-dispatcher-5] [akka://PositionsTrackingSpec/user/Positions/RTS-9.12] started (com.ergodicity.core.position.PositionActor@c90633)
[DEBUG] [12/06/2012 00:37:02.764] [PositionsTrackingSpec-akka.actor.default-dispatcher-4] [akka://PositionsTrackingSpec/user] now supervising TestActor[akka://PositionsTrackingSpec/user/Positions]
[DEBUG] [12/06/2012 00:37:02.765] [PositionsTrackingSpec-akka.actor.default-dispatcher-4] [akka://PositionsTrackingSpec/user] now supervising TestActor[akka://PositionsTrackingSpec/user/DataStream]
[DEBUG] [12/06/2012 00:37:02.766] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/DataStream] started (com.ergodicity.cgate.DataStream@183a9d)
[DEBUG] [12/06/2012 00:37:02.766] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] started (com.ergodicity.core.PositionsTracking@1e6bb12)
[DEBUG] [12/06/2012 00:37:02.766] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] now supervising Actor[akka://PositionsTrackingSpec/user/Positions/PositionsDispatcher]
[DEBUG] [12/06/2012 00:37:02.766] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] Assigned contents; Size = 1
[DEBUG] [12/06/2012 00:37:02.766] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] Position updated; Security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(RIU2),Future contract)
[DEBUG] [12/06/2012 00:37:02.766] [PositionsTrackingSpec-akka.actor.default-dispatcher-4] [akka://PositionsTrackingSpec/user/DataStream] processing Event(SubscribeStreamEvents(Actor[akka://PositionsTrackingSpec/user/Positions/PositionsDispatcher]),StreamEventSubscribers(Set())) from Actor[akka://PositionsTrackingSpec/user/Positions/PositionsDispatcher]
[DEBUG] [12/06/2012 00:37:02.766] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] now supervising Actor[akka://PositionsTrackingSpec/user/Positions/RTS-9.12]
[DEBUG] [12/06/2012 00:37:02.766] [PositionsTrackingSpec-akka.actor.default-dispatcher-4] [akka://PositionsTrackingSpec/user/Positions/PositionsDispatcher] started (com.ergodicity.core.PositionsDispatcher@5a2d92)
[INFO] [12/06/2012 00:37:02.766] [PositionsTrackingSpec-akka.actor.default-dispatcher-4] [akka://PositionsTrackingSpec/user/Positions/RTS-9.12] Opened position; Security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(RIU2),Future contract)
[DEBUG] [12/06/2012 00:37:02.767] [PositionsTrackingSpec-akka.actor.default-dispatcher-4] [akka://PositionsTrackingSpec/user/Positions/RTS-9.12] started (com.ergodicity.core.position.PositionActor@10a6982)
[DEBUG] [12/06/2012 00:37:02.767] [PositionsTrackingSpec-akka.actor.default-dispatcher-4] [akka://PositionsTrackingSpec/user/Positions/RTS-9.12] Position updated to Position(1), dynamics = PositionDynamics(0,1,0,0,None)
[DEBUG] [12/06/2012 00:37:02.767] [PositionsTrackingSpec-akka.actor.default-dispatcher-5] [akka://PositionsTrackingSpec/user] now supervising TestActor[akka://PositionsTrackingSpec/user/Positions]
[DEBUG] [12/06/2012 00:37:02.769] [PositionsTrackingSpec-akka.actor.default-dispatcher-5] [akka://PositionsTrackingSpec/user] now supervising TestActor[akka://PositionsTrackingSpec/user/DataStream]
[DEBUG] [12/06/2012 00:37:02.769] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/DataStream] started (com.ergodicity.cgate.DataStream@1381822)
[DEBUG] [12/06/2012 00:37:02.769] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] started (com.ergodicity.core.PositionsTracking@55ec63)
[DEBUG] [12/06/2012 00:37:02.769] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] now supervising Actor[akka://PositionsTrackingSpec/user/Positions/PositionsDispatcher]
[DEBUG] [12/06/2012 00:37:02.769] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] Assigned contents; Size = 1
[DEBUG] [12/06/2012 00:37:02.769] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] Position updated; Security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(RIU2),Future contract)
[DEBUG] [12/06/2012 00:37:02.769] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] now supervising Actor[akka://PositionsTrackingSpec/user/Positions/RTS-9.12]
[DEBUG] [12/06/2012 00:37:02.769] [PositionsTrackingSpec-akka.actor.default-dispatcher-5] [akka://PositionsTrackingSpec/user/DataStream] processing Event(SubscribeStreamEvents(Actor[akka://PositionsTrackingSpec/user/Positions/PositionsDispatcher]),StreamEventSubscribers(Set())) from Actor[akka://PositionsTrackingSpec/user/Positions/PositionsDispatcher]
[DEBUG] [12/06/2012 00:37:02.769] [PositionsTrackingSpec-akka.actor.default-dispatcher-5] [akka://PositionsTrackingSpec/user/Positions/PositionsDispatcher] started (com.ergodicity.core.PositionsDispatcher@12de844)
[INFO] [12/06/2012 00:37:02.770] [PositionsTrackingSpec-akka.actor.default-dispatcher-5] [akka://PositionsTrackingSpec/user/Positions/RTS-9.12] Opened position; Security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(RIU2),Future contract)
[DEBUG] [12/06/2012 00:37:02.770] [PositionsTrackingSpec-akka.actor.default-dispatcher-5] [akka://PositionsTrackingSpec/user/Positions/RTS-9.12] started (com.ergodicity.core.position.PositionActor@edd056)
[DEBUG] [12/06/2012 00:37:02.770] [PositionsTrackingSpec-akka.actor.default-dispatcher-5] [akka://PositionsTrackingSpec/user/Positions/RTS-9.12] Position updated to Position(1), dynamics = PositionDynamics(0,1,0,0,None)
[DEBUG] [12/06/2012 00:37:02.771] [SessionsDispatchersSpec-akka.actor.default-dispatcher-2] [akka://SessionsDispatchersSpec/user] now supervising TestActor[akka://SessionsDispatchersSpec/user/Dispatcher]
[DEBUG] [12/06/2012 00:37:02.773] [pool-4-thread-4] [EventStream(akka://SessionsTrackingSpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:37:02.773] [pool-4-thread-4] [EventStream(akka://SessionsTrackingSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:37:02.773] [SessionsDispatchersSpec-akka.actor.default-dispatcher-2] [akka://SessionsDispatchersSpec/system/testActor43] started (akka.testkit.TestActor@12432a5)
[DEBUG] [12/06/2012 00:37:02.773] [SessionsDispatchersSpec-akka.actor.default-dispatcher-2] [akka://SessionsDispatchersSpec/system] now supervising Actor[akka://SessionsDispatchersSpec/system/testActor43]
[DEBUG] [12/06/2012 00:37:02.775] [SessionsTrackingSpec-akka.actor.default-dispatcher-3] [akka://SessionsTrackingSpec/system/testActor44] started (akka.testkit.TestActor@548759)
[DEBUG] [12/06/2012 00:37:02.775] [SessionsTrackingSpec-akka.actor.default-dispatcher-3] [akka://SessionsTrackingSpec/system] now supervising Actor[akka://SessionsTrackingSpec/system/testActor44]
[DEBUG] [12/06/2012 00:37:02.775] [pool-4-thread-2] [akka://SessionsDispatchersSpec/user/Dispatcher] started (com.ergodicity.core.FutInfoDispatcher@37675d)
[DEBUG] [12/06/2012 00:37:02.776] [SessionsDispatchersSpec-akka.actor.default-dispatcher-3] [akka://SessionsDispatchersSpec/user] now supervising TestActor[akka://SessionsDispatchersSpec/user/Dispatcher]
[DEBUG] [12/06/2012 00:37:02.776] [pool-4-thread-2] [akka://SessionsDispatchersSpec/user/Dispatcher] started (com.ergodicity.core.FutInfoDispatcher@1696c8b)
[DEBUG] [12/06/2012 00:37:02.787] [SessionsDispatchersSpec-akka.actor.default-dispatcher-3] [akka://SessionsDispatchersSpec/user] now supervising TestActor[akka://SessionsDispatchersSpec/user/Dispatcher]
[DEBUG] [12/06/2012 00:37:02.787] [pool-4-thread-2] [akka://SessionsDispatchersSpec/user/Dispatcher] started (com.ergodicity.core.FutInfoDispatcher@2325eb)
[DEBUG] [12/06/2012 00:37:02.787] [SessionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://SessionsTrackingSpec/user] now supervising TestActor[akka://SessionsTrackingSpec/user/SessionsTracking]
[info] PositionsTrackingSpec:
[info] Positions Tracking 
[info] - must handle positions updates
[info] - must close discarded positions
[info]   + When position created 
[info]   + Then should create actor for if 
[info]   + When position discarded 
[info]   + Then positions size should remain the same 
[info]   + And notified on position transition 
[info] - must update existing positions
[info]   + When position updated 
[info]   + Then should get transtition notification 
[info] - must create new positions if it doesn't exists
[info] - must return existing position on track position event
[info] - must get all opened positions
[DEBUG] [12/06/2012 00:37:02.790] [PositionsTrackingSpec-akka.actor.default-dispatcher-4] [akka://PositionsTrackingSpec/user/DataStream] stopped
[DEBUG] [12/06/2012 00:37:02.790] [SessionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://SessionsTrackingSpec/system/testActor45] started (akka.testkit.TestActor@9d9f17)
[DEBUG] [12/06/2012 00:37:02.791] [SessionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://SessionsTrackingSpec/system] now supervising Actor[akka://SessionsTrackingSpec/system/testActor45]
[DEBUG] [12/06/2012 00:37:02.805] [SessionsTrackingSpec-akka.actor.default-dispatcher-1] [akka://SessionsTrackingSpec/system/testActor46] started (akka.testkit.TestActor@16e4aee)
[DEBUG] [12/06/2012 00:37:02.805] [SessionsTrackingSpec-akka.actor.default-dispatcher-1] [akka://SessionsTrackingSpec/system] now supervising Actor[akka://SessionsTrackingSpec/system/testActor46]
[DEBUG] [12/06/2012 00:37:02.813] [PositionsTrackingSpec-akka.actor.default-dispatcher-4] [akka://PositionsTrackingSpec/user/Positions] stopping
[DEBUG] [12/06/2012 00:37:02.813] [PositionsTrackingSpec-akka.actor.default-dispatcher-4] [akka://PositionsTrackingSpec/user] stopping
[DEBUG] [12/06/2012 00:37:02.813] [PositionsTrackingSpec-akka.actor.default-dispatcher-4] [akka://PositionsTrackingSpec/user/Positions/PositionsDispatcher] stopped
[DEBUG] [12/06/2012 00:37:02.814] [PositionsTrackingSpec-akka.actor.default-dispatcher-4] [akka://PositionsTrackingSpec/user/Positions] stopped
[DEBUG] [12/06/2012 00:37:02.814] [pool-4-thread-3] [EventStream(akka://OrderActorSpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:37:02.814] [pool-4-thread-3] [EventStream(akka://OrderActorSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:37:02.814] [PositionsTrackingSpec-akka.actor.default-dispatcher-3] [akka://PositionsTrackingSpec/user] stopped
[DEBUG] [12/06/2012 00:37:02.814] [PositionsTrackingSpec-akka.actor.default-dispatcher-2] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:02.815] [PositionsTrackingSpec-akka.actor.default-dispatcher-2] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:02.815] [PositionsTrackingSpec-akka.actor.default-dispatcher-2] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:37:02.815] [PositionsTrackingSpec-akka.actor.default-dispatcher-6] [akka://PositionsTrackingSpec/system/log1-Logging$DefaultLogger] stopped
[DEBUG] [12/06/2012 00:37:02.815] [OrderActorSpec-akka.actor.default-dispatcher-3] [akka://OrderActorSpec/system/testActor47] started (akka.testkit.TestActor@1822471)
[DEBUG] [12/06/2012 00:37:02.815] [OrderActorSpec-akka.actor.default-dispatcher-3] [akka://OrderActorSpec/system] now supervising Actor[akka://OrderActorSpec/system/testActor47]
[DEBUG] [12/06/2012 00:37:02.815] [PositionsTrackingSpec-akka.actor.default-dispatcher-4] [akka://PositionsTrackingSpec/user/Positions/RTS-9.12] stopped
[DEBUG] [12/06/2012 00:37:02.815] [PositionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://PositionsTrackingSpec/system/testActor21] stopped
[DEBUG] [12/06/2012 00:37:02.816] [PositionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://PositionsTrackingSpec/system] stopping
[DEBUG] [12/06/2012 00:37:02.816] [PositionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://PositionsTrackingSpec/system] stopped
[DEBUG] [12/06/2012 00:37:02.816] [PositionsTrackingSpec-akka.actor.default-dispatcher-4] [akka://PositionsTrackingSpec/] stopped
[DEBUG] [12/06/2012 00:37:02.819] [SessionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://SessionsTrackingSpec/user/SessionsTracking/FutInfoDispatcher] started (com.ergodicity.core.FutInfoDispatcher@1fc4640)
[INFO] [12/06/2012 00:37:02.820] [pool-4-thread-4] [akka://SessionsTrackingSpec/user/SessionsTracking] Start session tracking
[DEBUG] [12/06/2012 00:37:02.820] [pool-4-thread-4] [akka://SessionsTrackingSpec/user/SessionsTracking] started (com.ergodicity.core.SessionsTracking@848c4)
[DEBUG] [12/06/2012 00:37:02.820] [pool-4-thread-4] [akka://SessionsTrackingSpec/user/SessionsTracking] now supervising Actor[akka://SessionsTrackingSpec/user/SessionsTracking/FutInfoDispatcher]
[DEBUG] [12/06/2012 00:37:02.820] [pool-4-thread-4] [akka://SessionsTrackingSpec/user/SessionsTracking] now supervising Actor[akka://SessionsTrackingSpec/user/SessionsTracking/OptInfoDispatcher]
[DEBUG] [12/06/2012 00:37:02.823] [SessionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://SessionsTrackingSpec/user/SessionsTracking/OptInfoDispatcher] started (com.ergodicity.core.OptInfoDispatcher@1fcebbe)
[DEBUG] [12/06/2012 00:37:02.825] [OrderActorSpec-akka.actor.default-dispatcher-1] [akka://OrderActorSpec/user] now supervising TestActor[akka://OrderActorSpec/user/TestOrder]
[DEBUG] [12/06/2012 00:37:02.826] [pool-4-thread-3] [akka://OrderActorSpec/user/TestOrder] started (com.ergodicity.core.order.OrderActor@ea6811)
[DEBUG] [12/06/2012 00:37:02.827] [OrderActorSpec-akka.actor.default-dispatcher-1] [akka://OrderActorSpec/user] now supervising TestActor[akka://OrderActorSpec/user/TestOrder]
[DEBUG] [12/06/2012 00:37:02.827] [pool-4-thread-3] [akka://OrderActorSpec/user/TestOrder] started (com.ergodicity.core.order.OrderActor@1f8823d)
[DEBUG] [12/06/2012 00:37:02.829] [pool-4-thread-3] [akka://OrderActorSpec/user/TestOrder] Order filled
[DEBUG] [12/06/2012 00:37:02.829] [SessionsTrackingSpec-akka.actor.default-dispatcher-1] [akka://SessionsTrackingSpec/user] now supervising TestActor[akka://SessionsTrackingSpec/user/SessionsTracking]
[DEBUG] [12/06/2012 00:37:02.829] [SessionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://SessionsTrackingSpec/system/testActor48] started (akka.testkit.TestActor@55d1b5)
[DEBUG] [12/06/2012 00:37:02.829] [SessionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://SessionsTrackingSpec/system] now supervising Actor[akka://SessionsTrackingSpec/system/testActor48]
[DEBUG] [12/06/2012 00:37:02.830] [SessionsTrackingSpec-akka.actor.default-dispatcher-1] [akka://SessionsTrackingSpec/system/testActor49] started (akka.testkit.TestActor@1439efc)
[DEBUG] [12/06/2012 00:37:02.830] [SessionsTrackingSpec-akka.actor.default-dispatcher-1] [akka://SessionsTrackingSpec/system] now supervising Actor[akka://SessionsTrackingSpec/system/testActor49]
[INFO] [12/06/2012 00:37:02.830] [pool-4-thread-4] [akka://SessionsTrackingSpec/user/SessionsTracking] Start session tracking
[DEBUG] [12/06/2012 00:37:02.830] [pool-4-thread-4] [akka://SessionsTrackingSpec/user/SessionsTracking] started (com.ergodicity.core.SessionsTracking@7ae447)
[DEBUG] [12/06/2012 00:37:02.830] [SessionsTrackingSpec-akka.actor.default-dispatcher-3] [akka://SessionsTrackingSpec/user/SessionsTracking/FutInfoDispatcher] started (com.ergodicity.core.FutInfoDispatcher@2100f3)
[DEBUG] [12/06/2012 00:37:02.830] [pool-4-thread-4] [akka://SessionsTrackingSpec/user/SessionsTracking] now supervising Actor[akka://SessionsTrackingSpec/user/SessionsTracking/FutInfoDispatcher]
[DEBUG] [12/06/2012 00:37:02.830] [pool-4-thread-4] [akka://SessionsTrackingSpec/user/SessionsTracking] now supervising Actor[akka://SessionsTrackingSpec/user/SessionsTracking/OptInfoDispatcher]
[DEBUG] [12/06/2012 00:37:02.830] [SessionsTrackingSpec-akka.actor.default-dispatcher-1] [akka://SessionsTrackingSpec/user/SessionsTracking/OptInfoDispatcher] started (com.ergodicity.core.OptInfoDispatcher@c55cde)
[DEBUG] [12/06/2012 00:37:02.830] [OrderActorSpec-akka.actor.default-dispatcher-2] [akka://OrderActorSpec/user] now supervising TestActor[akka://OrderActorSpec/user/TestOrder]
[DEBUG] [12/06/2012 00:37:02.830] [pool-4-thread-3] [akka://OrderActorSpec/user/TestOrder] started (com.ergodicity.core.order.OrderActor@10a93c2)
[DEBUG] [12/06/2012 00:37:02.831] [pool-4-thread-3] [akka://OrderActorSpec/user/TestOrder] Order filled
[DEBUG] [12/06/2012 00:37:02.832] [OrderActorSpec-akka.actor.default-dispatcher-2] [akka://OrderActorSpec/user] now supervising TestActor[akka://OrderActorSpec/user/TestOrder]
[DEBUG] [12/06/2012 00:37:02.832] [pool-4-thread-3] [akka://OrderActorSpec/user/TestOrder] started (com.ergodicity.core.order.OrderActor@3f4126)
[DEBUG] [12/06/2012 00:37:02.835] [OrderActorSpec-akka.actor.default-dispatcher-2] [akka://OrderActorSpec/user] now supervising TestActor[akka://OrderActorSpec/user/TestOrder]
[DEBUG] [12/06/2012 00:37:02.835] [pool-4-thread-3] [akka://OrderActorSpec/user/TestOrder] started (com.ergodicity.core.order.OrderActor@14dd3d1)
[DEBUG] [12/06/2012 00:37:02.835] [pool-4-thread-3] [akka://OrderActorSpec/user/TestOrder] Order cancelled
[DEBUG] [12/06/2012 00:37:02.835] [SessionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://SessionsTrackingSpec/user] now supervising TestActor[akka://SessionsTrackingSpec/user/SessionsTracking]
[DEBUG] [12/06/2012 00:37:02.835] [SessionsTrackingSpec-akka.actor.default-dispatcher-1] [akka://SessionsTrackingSpec/system/testActor50] started (akka.testkit.TestActor@7c75c6)
[DEBUG] [12/06/2012 00:37:02.835] [SessionsTrackingSpec-akka.actor.default-dispatcher-1] [akka://SessionsTrackingSpec/system] now supervising Actor[akka://SessionsTrackingSpec/system/testActor50]
[DEBUG] [12/06/2012 00:37:02.836] [SessionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://SessionsTrackingSpec/system/testActor51] started (akka.testkit.TestActor@32f1d)
[DEBUG] [12/06/2012 00:37:02.836] [SessionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://SessionsTrackingSpec/system] now supervising Actor[akka://SessionsTrackingSpec/system/testActor51]
[DEBUG] [12/06/2012 00:37:02.836] [OrderActorSpec-akka.actor.default-dispatcher-1] [akka://OrderActorSpec/user] now supervising TestActor[akka://OrderActorSpec/user/TestOrder]
[DEBUG] [12/06/2012 00:37:02.836] [pool-4-thread-3] [akka://OrderActorSpec/user/TestOrder] started (com.ergodicity.core.order.OrderActor@e9f104)
[DEBUG] [12/06/2012 00:37:02.836] [pool-4-thread-3] [akka://OrderActorSpec/user/TestOrder] Order cancelled
[INFO] [12/06/2012 00:37:02.836] [pool-4-thread-4] [akka://SessionsTrackingSpec/user/SessionsTracking] Start session tracking
[DEBUG] [12/06/2012 00:37:02.836] [pool-4-thread-4] [akka://SessionsTrackingSpec/user/SessionsTracking] started (com.ergodicity.core.SessionsTracking@ce5acd)
[DEBUG] [12/06/2012 00:37:02.836] [pool-4-thread-4] [akka://SessionsTrackingSpec/user/SessionsTracking] now supervising Actor[akka://SessionsTrackingSpec/user/SessionsTracking/FutInfoDispatcher]
[DEBUG] [12/06/2012 00:37:02.836] [SessionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://SessionsTrackingSpec/user/SessionsTracking/FutInfoDispatcher] started (com.ergodicity.core.FutInfoDispatcher@1ab4c38)
[DEBUG] [12/06/2012 00:37:02.836] [pool-4-thread-4] [akka://SessionsTrackingSpec/user/SessionsTracking] now supervising Actor[akka://SessionsTrackingSpec/user/SessionsTracking/OptInfoDispatcher]
[DEBUG] [12/06/2012 00:37:02.836] [SessionsTrackingSpec-akka.actor.default-dispatcher-1] [akka://SessionsTrackingSpec/user/SessionsTracking/OptInfoDispatcher] started (com.ergodicity.core.OptInfoDispatcher@1191c78)
[info] OrderActorSpec:
[info] Order 
[info] - must select order type base on status
[info] Order actor 
[info] - must create new order in New state
[info] - must move from Active to Filled
[info]   + When subscribed for order events 
[info]   + And order filled 
[info]   + Then order should be in Filled state 
[info]   + And receive OrderEvent 
[info] - must stay in Active and move to Filled later
[info]   + When subscribe to already filled order 
[info]   + Then should return all order events history 
[info] - must fail to fill more then rest amount
[info] - must cancel order
[info] - must fail cancel order twice
[DEBUG] [12/06/2012 00:37:02.837] [OrderActorSpec-akka.actor.default-dispatcher-2] [akka://OrderActorSpec/user/TestOrder] stopped
[DEBUG] [12/06/2012 00:37:02.837] [OrderActorSpec-akka.actor.default-dispatcher-2] [akka://OrderActorSpec/user] stopping
[DEBUG] [12/06/2012 00:37:02.838] [OrderActorSpec-akka.actor.default-dispatcher-2] [akka://OrderActorSpec/user] stopped
[DEBUG] [12/06/2012 00:37:02.838] [OrderActorSpec-akka.actor.default-dispatcher-3] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:02.838] [OrderActorSpec-akka.actor.default-dispatcher-3] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:02.838] [OrderActorSpec-akka.actor.default-dispatcher-3] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:37:02.838] [OrderActorSpec-akka.actor.default-dispatcher-3] [akka://OrderActorSpec/system/testActor47] stopped
[DEBUG] [12/06/2012 00:37:02.838] [OrderActorSpec-akka.actor.default-dispatcher-3] [akka://OrderActorSpec/system] stopping
[DEBUG] [12/06/2012 00:37:02.838] [pool-4-thread-1] [akka://OrdersTrackingSpec/user/OrderBooksTracking] started (com.ergodicity.core.order.OrderBooksTracking@2d14b2)
[DEBUG] [12/06/2012 00:37:02.839] [OrderActorSpec-akka.actor.default-dispatcher-3] [akka://OrderActorSpec/system/log1-Logging$DefaultLogger] stopped
[DEBUG] [12/06/2012 00:37:02.839] [OrderActorSpec-akka.actor.default-dispatcher-3] [akka://OrderActorSpec/system] stopped
[DEBUG] [12/06/2012 00:37:02.839] [pool-4-thread-1] [akka://OrdersTrackingSpec/user/OrderBooksTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrderBooksTracking/OrderLogDispatcher]
[DEBUG] [12/06/2012 00:37:02.839] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/user] now supervising TestActor[akka://OrdersTrackingSpec/user/OrderBooksTracking]
[DEBUG] [12/06/2012 00:37:02.839] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/user/OrderBooksTracking/OrderLogDispatcher] started (com.ergodicity.core.order.OrderLogDispatcher@18126d0)
[INFO] [12/06/2012 00:37:02.839] [pool-4-thread-1] [akka://OrdersTrackingSpec/user/OrderBooksTracking] Assigned contents; Size = 2
[DEBUG] [12/06/2012 00:37:02.839] [OrderActorSpec-akka.actor.default-dispatcher-3] [akka://OrderActorSpec/] stopped
[DEBUG] [12/06/2012 00:37:02.839] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/user/OrderBooksTracking/100] started (com.ergodicity.core.order.SessionOrderBooksTracking@1e23b81)
[DEBUG] [12/06/2012 00:37:02.840] [pool-4-thread-1] [akka://OrdersTrackingSpec/user/OrderBooksTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrderBooksTracking/100]
[DEBUG] [12/06/2012 00:37:02.842] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/user/OrderBooksTracking/100] now supervising Actor[akka://OrdersTrackingSpec/user/OrderBooksTracking/100/RTS-9.12]
[DEBUG] [12/06/2012 00:37:02.843] [SessionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://SessionsTrackingSpec/user] now supervising TestActor[akka://SessionsTrackingSpec/user/SessionsTracking]
[DEBUG] [12/06/2012 00:37:02.843] [SessionsTrackingSpec-akka.actor.default-dispatcher-3] [akka://SessionsTrackingSpec/system/testActor52] started (akka.testkit.TestActor@b1959)
[DEBUG] [12/06/2012 00:37:02.844] [SessionsTrackingSpec-akka.actor.default-dispatcher-3] [akka://SessionsTrackingSpec/system] now supervising Actor[akka://SessionsTrackingSpec/system/testActor52]
[DEBUG] [12/06/2012 00:37:02.844] [SessionsTrackingSpec-akka.actor.default-dispatcher-3] [akka://SessionsTrackingSpec/system/testActor53] started (akka.testkit.TestActor@5e1db8)
[DEBUG] [12/06/2012 00:37:02.844] [SessionsTrackingSpec-akka.actor.default-dispatcher-3] [akka://SessionsTrackingSpec/system] now supervising Actor[akka://SessionsTrackingSpec/system/testActor53]
[DEBUG] [12/06/2012 00:37:02.844] [SessionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://SessionsTrackingSpec/user/SessionsTracking/FutInfoDispatcher] started (com.ergodicity.core.FutInfoDispatcher@1d2b7a8)
[INFO] [12/06/2012 00:37:02.844] [pool-4-thread-4] [akka://SessionsTrackingSpec/user/SessionsTracking] Start session tracking
[DEBUG] [12/06/2012 00:37:02.844] [pool-4-thread-4] [akka://SessionsTrackingSpec/user/SessionsTracking] started (com.ergodicity.core.SessionsTracking@2073e6)
[DEBUG] [12/06/2012 00:37:02.844] [pool-4-thread-4] [akka://SessionsTrackingSpec/user/SessionsTracking] now supervising Actor[akka://SessionsTrackingSpec/user/SessionsTracking/FutInfoDispatcher]
[DEBUG] [12/06/2012 00:37:02.844] [SessionsTrackingSpec-akka.actor.default-dispatcher-4] [akka://SessionsTrackingSpec/user/SessionsTracking/OptInfoDispatcher] started (com.ergodicity.core.OptInfoDispatcher@990d69)
[DEBUG] [12/06/2012 00:37:02.844] [pool-4-thread-4] [akka://SessionsTrackingSpec/user/SessionsTracking] now supervising Actor[akka://SessionsTrackingSpec/user/SessionsTracking/OptInfoDispatcher]
[INFO] [12/06/2012 00:37:02.849] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/user/OrderBooksTracking/100/RTS-9.12] Start OrderBook for security = FutureContract(IsinId(1),Isin(RTS-9.12),ShortIsisn(),Future contract)
[DEBUG] [12/06/2012 00:37:02.850] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/user/OrderBooksTracking/100/RTS-9.12] started (com.ergodicity.core.order.OrderBookActor@3ba54b)
[DEBUG] [12/06/2012 00:37:02.850] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/user/OrderBooksTracking/100/RTS-9.12] Create new order, id = 1, noSystem = false
[DEBUG] [12/06/2012 00:37:02.850] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/user/OrderBooksTracking/100/RTS-9.12] now supervising Actor[akka://OrdersTrackingSpec/user/OrderBooksTracking/100/RTS-9.12/1]
[DEBUG] [12/06/2012 00:37:02.850] [OrdersTrackingSpec-akka.actor.default-dispatcher-4] [akka://OrdersTrackingSpec/user/OrderBooksTracking/100/RTS-9.12/1] started (com.ergodicity.core.order.OrderActor@52a517)
[DEBUG] [12/06/2012 00:37:02.850] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/user/OrderBooksTracking/100/RTS-9.12] Fill order, id = 1, amount = 1, rest = 0, deal = None
[DEBUG] [12/06/2012 00:37:02.850] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/user/OrderBooksTracking/100/RTS-9.12/1] Order filled
[DEBUG] [12/06/2012 00:37:02.851] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/user/OrderBooksTracking/100/RTS-9.12/1] stopped
[DEBUG] [12/06/2012 00:37:02.944] [pool-4-thread-1] [LocalActorRefProvider(akka://OrdersTrackingSpec)] look-up of path sequence 'List(user, OrderBooksTracking, 100, RTS-9.12, 1)' failed
[DEBUG] [12/06/2012 00:37:02.948] [OrdersTrackingSpec-akka.actor.default-dispatcher-5] [akka://OrdersTrackingSpec/user] now supervising TestActor[akka://OrdersTrackingSpec/user/OrderBooksTracking]
[DEBUG] [12/06/2012 00:37:02.949] [pool-4-thread-1] [akka://OrdersTrackingSpec/user/OrderBooksTracking] started (com.ergodicity.core.order.OrderBooksTracking@170e546)
[DEBUG] [12/06/2012 00:37:02.950] [pool-4-thread-1] [akka://OrdersTrackingSpec/user/OrderBooksTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrderBooksTracking/OrderLogDispatcher]
[DEBUG] [12/06/2012 00:37:02.950] [OrdersTrackingSpec-akka.actor.default-dispatcher-5] [akka://OrdersTrackingSpec/user/OrderBooksTracking/OrderLogDispatcher] started (com.ergodicity.core.order.OrderLogDispatcher@168edfc)
[INFO] [12/06/2012 00:37:02.950] [pool-4-thread-1] [akka://OrdersTrackingSpec/user/OrderBooksTracking] Assigned contents; Size = 2
[INFO] [12/06/2012 00:37:02.989] [pool-4-thread-4] [akka://SessionsTrackingSpec/user/SessionsTracking] Synchonized event = SynchronizedEvent(SessionDataReady(1,100),SessionDataReady(1,200))
[INFO] [12/06/2012 00:37:03.0] [SessionsTrackingSpec-akka.actor.default-dispatcher-4] [akka://SessionsTrackingSpec/user/SessionsTracking/100/Futures] Start SessionContents
[DEBUG] [12/06/2012 00:37:03.0] [SessionsTrackingSpec-akka.actor.default-dispatcher-4] [akka://SessionsTrackingSpec/user/SessionsTracking/100/Futures] started (com.ergodicity.core.session.SessionActor$$anonfun$4$$anon$1@11db01b)
[INFO] [12/06/2012 00:37:03.1] [SessionsTrackingSpec-akka.actor.default-dispatcher-3] [akka://SessionsTrackingSpec/user/SessionsTracking/100/Options] Start SessionContents
[DEBUG] [12/06/2012 00:37:03.1] [SessionsTrackingSpec-akka.actor.default-dispatcher-3] [akka://SessionsTrackingSpec/user/SessionsTracking/100/Options] started (com.ergodicity.core.session.SessionActor$$anonfun$5$$anon$2@7ee8a6)
[DEBUG] [12/06/2012 00:37:03.6] [SessionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://SessionsTrackingSpec/user/SessionsTracking/100/IntradayClearing] started (com.ergodicity.core.session.IntradayClearing@df60d8)
[DEBUG] [12/06/2012 00:37:03.11] [pool-4-thread-4] [akka://SessionsTrackingSpec/user/SessionsTracking] now supervising Actor[akka://SessionsTrackingSpec/user/SessionsTracking/100]
[DEBUG] [12/06/2012 00:37:03.14] [SessionsTrackingSpec-akka.actor.default-dispatcher-5] [akka://SessionsTrackingSpec/user/SessionsTracking/100] started (SessionActor(Session(SessionId(100,200),2012-12-06T00:37:02.950/2012-12-06T00:37:02.950,None,None,2012-12-06T00:37:02.950/2012-12-06T00:37:02.950)))
[DEBUG] [12/06/2012 00:37:03.14] [SessionsTrackingSpec-akka.actor.default-dispatcher-5] [akka://SessionsTrackingSpec/user/SessionsTracking/100] now supervising Actor[akka://SessionsTrackingSpec/user/SessionsTracking/100/IntradayClearing]
[DEBUG] [12/06/2012 00:37:03.14] [SessionsTrackingSpec-akka.actor.default-dispatcher-5] [akka://SessionsTrackingSpec/user/SessionsTracking/100] now supervising Actor[akka://SessionsTrackingSpec/user/SessionsTracking/100/Futures]
[DEBUG] [12/06/2012 00:37:03.14] [SessionsTrackingSpec-akka.actor.default-dispatcher-5] [akka://SessionsTrackingSpec/user/SessionsTracking/100] now supervising Actor[akka://SessionsTrackingSpec/user/SessionsTracking/100/Options]
[DEBUG] [12/06/2012 00:37:03.15] [SessionsTrackingSpec-akka.actor.default-dispatcher-5] [akka://SessionsTrackingSpec/user/SessionsTracking/100] processing Event(Assigned,()) from TestActor[akka://SessionsTrackingSpec/user/SessionsTracking]
[DEBUG] [12/06/2012 00:37:03.15] [SessionsTrackingSpec-akka.actor.default-dispatcher-5] [akka://SessionsTrackingSpec/user/SessionsTracking/100] processing Event(Oncoming,()) from TestActor[akka://SessionsTrackingSpec/user/SessionsTracking]
[DEBUG] [12/06/2012 00:37:03.15] [SessionsTrackingSpec-akka.actor.default-dispatcher-5] [akka://SessionsTrackingSpec/user/SessionsTracking/100] processing Event(FutSessContents(100,FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future Contract),FutureParameters(100,Limits(100,100)),Assigned),()) from TestActor[akka://SessionsTrackingSpec/user/SessionsTracking]
[DEBUG] [12/06/2012 00:37:03.15] [SessionsTrackingSpec-akka.actor.default-dispatcher-3] [akka://SessionsTrackingSpec/user/SessionsTracking/100/IntradayClearing] processing Event(Oncoming,()) from Actor[akka://SessionsTrackingSpec/user/SessionsTracking/100]
[DEBUG] [12/06/2012 00:37:03.15] [SessionsTrackingSpec-akka.actor.default-dispatcher-5] [akka://SessionsTrackingSpec/user/SessionsTracking/100] processing Event(OptSessContents(200,OptionContract(IsinId(160734),Isin(RTS-6.12M150612PA 175000),ShortIsisn(RI175000BR2),Option Contract),OptionParameters(100)),()) from TestActor[akka://SessionsTrackingSpec/user/SessionsTracking]
[DEBUG] [12/06/2012 00:37:03.15] [SessionsTrackingSpec-akka.actor.default-dispatcher-3] [akka://SessionsTrackingSpec/user/SessionsTracking/100/IntradayClearing] transition Undefined -> Oncoming
[DEBUG] [12/06/2012 00:37:03.15] [SessionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://SessionsTrackingSpec/user/SessionsTracking/100/Futures] now supervising Actor[akka://SessionsTrackingSpec/user/SessionsTracking/100/Futures/GMKR-6.12]
[INFO] [12/06/2012 00:37:03.15] [SessionsTrackingSpec-akka.actor.default-dispatcher-3] [akka://SessionsTrackingSpec/user/SessionsTracking/100/Futures/GMKR-6.12] Started instrument for security = FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future Contract)
[DEBUG] [12/06/2012 00:37:03.16] [SessionsTrackingSpec-akka.actor.default-dispatcher-3] [akka://SessionsTrackingSpec/user/SessionsTracking/100/Futures/GMKR-6.12] started (com.ergodicity.core.session.FutureInstrument@da1667)
[INFO] [12/06/2012 00:37:03.16] [SessionsTrackingSpec-akka.actor.default-dispatcher-1] [akka://SessionsTrackingSpec/user/SessionsTracking/100/Options/RTS-6.12M150612PA@175000] Started instrument for security = OptionContract(IsinId(160734),Isin(RTS-6.12M150612PA 175000),ShortIsisn(RI175000BR2),Option Contract)
[DEBUG] [12/06/2012 00:37:03.16] [SessionsTrackingSpec-akka.actor.default-dispatcher-1] [akka://SessionsTrackingSpec/user/SessionsTracking/100/Options/RTS-6.12M150612PA@175000] started (com.ergodicity.core.session.OptionInstrument@1f4df4c)
[DEBUG] [12/06/2012 00:37:03.16] [SessionsTrackingSpec-akka.actor.default-dispatcher-3] [akka://SessionsTrackingSpec/user/SessionsTracking/100/Futures/GMKR-6.12] processing Event(FutureParameters(100,Limits(100,100)),None) from Actor[akka://SessionsTrackingSpec/user/SessionsTracking/100/Futures]
[DEBUG] [12/06/2012 00:37:03.16] [SessionsTrackingSpec-akka.actor.default-dispatcher-3] [akka://SessionsTrackingSpec/user/SessionsTracking/100/Futures/GMKR-6.12] processing Event(Suspended,Some(FutureParameters(100,Limits(100,100)))) from Actor[akka://SessionsTrackingSpec/user/SessionsTracking/100/Futures]
[DEBUG] [12/06/2012 00:37:03.16] [SessionsTrackingSpec-akka.actor.default-dispatcher-6] [akka://SessionsTrackingSpec/user/SessionsTracking/100/Options/RTS-6.12M150612PA@175000] processing Event(OptionParameters(100),None) from Actor[akka://SessionsTrackingSpec/user/SessionsTracking/100/Options]
[DEBUG] [12/06/2012 00:37:03.16] [SessionsTrackingSpec-akka.actor.default-dispatcher-6] [akka://SessionsTrackingSpec/user/SessionsTracking/100/Options/RTS-6.12M150612PA@175000] processing Event(Suspended,Some(OptionParameters(100))) from Actor[akka://SessionsTrackingSpec/user/SessionsTracking/100/Options]
[DEBUG] [12/06/2012 00:37:03.16] [SessionsTrackingSpec-akka.actor.default-dispatcher-4] [akka://SessionsTrackingSpec/user/SessionsTracking/100/Options] now supervising Actor[akka://SessionsTrackingSpec/user/SessionsTracking/100/Options/RTS-6.12M150612PA@175000]
[DEBUG] [12/06/2012 00:37:03.16] [SessionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://SessionsTrackingSpec/user/SessionsTracking/100/Futures/GMKR-6.12] processing Event(Assigned,Some(FutureParameters(100,Limits(100,100)))) from Actor[akka://SessionsTrackingSpec/user/SessionsTracking/100/Futures]
[DEBUG] [12/06/2012 00:37:03.16] [SessionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://SessionsTrackingSpec/user/SessionsTracking/100/Futures/GMKR-6.12] transition Suspended -> Assigned
[DEBUG] [12/06/2012 00:37:03.16] [SessionsTrackingSpec-akka.actor.default-dispatcher-4] [akka://SessionsTrackingSpec/user/SessionsTracking/100/Options/RTS-6.12M150612PA@175000] processing Event(Assigned,Some(OptionParameters(100))) from Actor[akka://SessionsTrackingSpec/user/SessionsTracking/100/Options]
[DEBUG] [12/06/2012 00:37:03.16] [SessionsTrackingSpec-akka.actor.default-dispatcher-4] [akka://SessionsTrackingSpec/user/SessionsTracking/100/Options/RTS-6.12M150612PA@175000] transition Suspended -> Assigned
[DEBUG] [12/06/2012 00:37:03.111] [pool-4-thread-4] [akka://SessionsTrackingSpec/system/testActor44] now monitoring Actor[akka://SessionsTrackingSpec/user/SessionsTracking/100]
[DEBUG] [12/06/2012 00:37:03.112] [SessionsTrackingSpec-akka.actor.default-dispatcher-8] [akka://SessionsTrackingSpec/user/SessionsTracking/100] processing Event(GetAssignedContents,()) from Actor[akka://SessionsTrackingSpec/temp/$a]
[DEBUG] [12/06/2012 00:37:03.116] [SessionsDispatchersSpec-akka.actor.default-dispatcher-1] [akka://SessionsDispatchersSpec/user] now supervising TestActor[akka://SessionsDispatchersSpec/user/Dispatcher]
[DEBUG] [12/06/2012 00:37:03.116] [pool-4-thread-2] [akka://SessionsDispatchersSpec/user/Dispatcher] started (com.ergodicity.core.FutInfoDispatcher@10c75f8)
[INFO] [12/06/2012 00:37:03.119] [pool-4-thread-4] [akka://SessionsTrackingSpec/system/testActor44] Assigned contents = AssignedContents(Set(FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future Contract), OptionContract(IsinId(160734),Isin(RTS-6.12M150612PA 175000),ShortIsisn(RI175000BR2),Option Contract)))
[INFO] [12/06/2012 00:37:03.119] [pool-4-thread-4] [akka://SessionsTrackingSpec/user/SessionsTracking] Synchonized event = SynchronizedEvent(SessionDataReady(2,101),SessionDataReady(2,201))
[DEBUG] [12/06/2012 00:37:03.120] [SessionsTrackingSpec-akka.actor.default-dispatcher-8] [akka://SessionsTrackingSpec/user/SessionsTracking/101/IntradayClearing] started (com.ergodicity.core.session.IntradayClearing@14ad229)
[DEBUG] [12/06/2012 00:37:03.120] [SessionsTrackingSpec-akka.actor.default-dispatcher-9] [akka://SessionsTrackingSpec/user/SessionsTracking/101] started (SessionActor(Session(SessionId(101,201),2012-12-06T00:37:03.119/2012-12-06T00:37:03.119,None,None,2012-12-06T00:37:03.119/2012-12-06T00:37:03.119)))
[DEBUG] [12/06/2012 00:37:03.120] [SessionsTrackingSpec-akka.actor.default-dispatcher-9] [akka://SessionsTrackingSpec/user/SessionsTracking/101] now supervising Actor[akka://SessionsTrackingSpec/user/SessionsTracking/101/IntradayClearing]
[DEBUG] [12/06/2012 00:37:03.120] [SessionsTrackingSpec-akka.actor.default-dispatcher-9] [akka://SessionsTrackingSpec/user/SessionsTracking/101] now supervising Actor[akka://SessionsTrackingSpec/user/SessionsTracking/101/Futures]
[DEBUG] [12/06/2012 00:37:03.120] [SessionsTrackingSpec-akka.actor.default-dispatcher-9] [akka://SessionsTrackingSpec/user/SessionsTracking/101] now supervising Actor[akka://SessionsTrackingSpec/user/SessionsTracking/101/Options]
[DEBUG] [12/06/2012 00:37:03.120] [SessionsTrackingSpec-akka.actor.default-dispatcher-9] [akka://SessionsTrackingSpec/user/SessionsTracking/101] processing Event(Assigned,()) from TestActor[akka://SessionsTrackingSpec/user/SessionsTracking]
[DEBUG] [12/06/2012 00:37:03.120] [SessionsTrackingSpec-akka.actor.default-dispatcher-9] [akka://SessionsTrackingSpec/user/SessionsTracking/101] processing Event(Oncoming,()) from TestActor[akka://SessionsTrackingSpec/user/SessionsTracking]
[DEBUG] [12/06/2012 00:37:03.120] [SessionsTrackingSpec-akka.actor.default-dispatcher-9] [akka://SessionsTrackingSpec/user/SessionsTracking/101] processing Event(FutSessContents(101,FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future Contract),FutureParameters(100,Limits(100,100)),Assigned),()) from TestActor[akka://SessionsTrackingSpec/user/SessionsTracking]
[INFO] [12/06/2012 00:37:03.120] [SessionsTrackingSpec-akka.actor.default-dispatcher-8] [akka://SessionsTrackingSpec/user/SessionsTracking/101/Futures] Start SessionContents
[DEBUG] [12/06/2012 00:37:03.121] [SessionsTrackingSpec-akka.actor.default-dispatcher-8] [akka://SessionsTrackingSpec/user/SessionsTracking/101/Futures] started (com.ergodicity.core.session.SessionActor$$anonfun$4$$anon$1@220f1b)
[DEBUG] [12/06/2012 00:37:03.121] [SessionsTrackingSpec-akka.actor.default-dispatcher-9] [akka://SessionsTrackingSpec/user/SessionsTracking/101] processing Event(OptSessContents(201,OptionContract(IsinId(160734),Isin(RTS-6.12M150612PA 175000),ShortIsisn(RI175000BR2),Option Contract),OptionParameters(100)),()) from TestActor[akka://SessionsTrackingSpec/user/SessionsTracking]
[DEBUG] [12/06/2012 00:37:03.121] [SessionsTrackingSpec-akka.actor.default-dispatcher-8] [akka://SessionsTrackingSpec/user/SessionsTracking/101/Futures] now supervising Actor[akka://SessionsTrackingSpec/user/SessionsTracking/101/Futures/GMKR-6.12]
[INFO] [12/06/2012 00:37:03.121] [SessionsTrackingSpec-akka.actor.default-dispatcher-8] [akka://SessionsTrackingSpec/user/SessionsTracking/101/Options] Start SessionContents
[DEBUG] [12/06/2012 00:37:03.121] [SessionsTrackingSpec-akka.actor.default-dispatcher-8] [akka://SessionsTrackingSpec/user/SessionsTracking/101/Options] started (com.ergodicity.core.session.SessionActor$$anonfun$5$$anon$2@db5ae)
[DEBUG] [12/06/2012 00:37:03.121] [SessionsTrackingSpec-akka.actor.default-dispatcher-3] [akka://SessionsTrackingSpec/user/SessionsTracking/101/IntradayClearing] processing Event(Oncoming,()) from Actor[akka://SessionsTrackingSpec/user/SessionsTracking/101]
[DEBUG] [12/06/2012 00:37:03.121] [SessionsTrackingSpec-akka.actor.default-dispatcher-3] [akka://SessionsTrackingSpec/user/SessionsTracking/101/IntradayClearing] transition Undefined -> Oncoming
[INFO] [12/06/2012 00:37:03.121] [SessionsTrackingSpec-akka.actor.default-dispatcher-3] [akka://SessionsTrackingSpec/user/SessionsTracking/101/Options/RTS-6.12M150612PA@175000] Started instrument for security = OptionContract(IsinId(160734),Isin(RTS-6.12M150612PA 175000),ShortIsisn(RI175000BR2),Option Contract)
[DEBUG] [12/06/2012 00:37:03.122] [SessionsTrackingSpec-akka.actor.default-dispatcher-3] [akka://SessionsTrackingSpec/user/SessionsTracking/101/Options/RTS-6.12M150612PA@175000] started (com.ergodicity.core.session.OptionInstrument@1d0be7c)
[DEBUG] [12/06/2012 00:37:03.122] [SessionsTrackingSpec-akka.actor.default-dispatcher-8] [akka://SessionsTrackingSpec/user/SessionsTracking/101/Options] now supervising Actor[akka://SessionsTrackingSpec/user/SessionsTracking/101/Options/RTS-6.12M150612PA@175000]
[DEBUG] [12/06/2012 00:37:03.122] [SessionsTrackingSpec-akka.actor.default-dispatcher-8] [akka://SessionsTrackingSpec/user/SessionsTracking/101/Options/RTS-6.12M150612PA@175000] processing Event(OptionParameters(100),None) from Actor[akka://SessionsTrackingSpec/user/SessionsTracking/101/Options]
[DEBUG] [12/06/2012 00:37:03.122] [SessionsTrackingSpec-akka.actor.default-dispatcher-8] [akka://SessionsTrackingSpec/user/SessionsTracking/101/Options/RTS-6.12M150612PA@175000] processing Event(Suspended,Some(OptionParameters(100))) from Actor[akka://SessionsTrackingSpec/user/SessionsTracking/101/Options]
[DEBUG] [12/06/2012 00:37:03.122] [SessionsTrackingSpec-akka.actor.default-dispatcher-8] [akka://SessionsTrackingSpec/user/SessionsTracking/101/Options/RTS-6.12M150612PA@175000] processing Event(Assigned,Some(OptionParameters(100))) from Actor[akka://SessionsTrackingSpec/user/SessionsTracking/101/Options]
[DEBUG] [12/06/2012 00:37:03.122] [SessionsTrackingSpec-akka.actor.default-dispatcher-8] [akka://SessionsTrackingSpec/user/SessionsTracking/101/Options/RTS-6.12M150612PA@175000] transition Suspended -> Assigned
[INFO] [12/06/2012 00:37:03.122] [SessionsTrackingSpec-akka.actor.default-dispatcher-7] [akka://SessionsTrackingSpec/user/SessionsTracking/101/Futures/GMKR-6.12] Started instrument for security = FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future Contract)
[DEBUG] [12/06/2012 00:37:03.122] [SessionsTrackingSpec-akka.actor.default-dispatcher-7] [akka://SessionsTrackingSpec/user/SessionsTracking/101/Futures/GMKR-6.12] started (com.ergodicity.core.session.FutureInstrument@13a8f15)
[DEBUG] [12/06/2012 00:37:03.122] [SessionsTrackingSpec-akka.actor.default-dispatcher-7] [akka://SessionsTrackingSpec/user/SessionsTracking/101/Futures/GMKR-6.12] processing Event(FutureParameters(100,Limits(100,100)),None) from Actor[akka://SessionsTrackingSpec/user/SessionsTracking/101/Futures]
[DEBUG] [12/06/2012 00:37:03.122] [SessionsTrackingSpec-akka.actor.default-dispatcher-7] [akka://SessionsTrackingSpec/user/SessionsTracking/101/Futures/GMKR-6.12] processing Event(Suspended,Some(FutureParameters(100,Limits(100,100)))) from Actor[akka://SessionsTrackingSpec/user/SessionsTracking/101/Futures]
[DEBUG] [12/06/2012 00:37:03.122] [SessionsTrackingSpec-akka.actor.default-dispatcher-7] [akka://SessionsTrackingSpec/user/SessionsTracking/101/Futures/GMKR-6.12] processing Event(Assigned,Some(FutureParameters(100,Limits(100,100)))) from Actor[akka://SessionsTrackingSpec/user/SessionsTracking/101/Futures]
[DEBUG] [12/06/2012 00:37:03.122] [SessionsTrackingSpec-akka.actor.default-dispatcher-7] [akka://SessionsTrackingSpec/user/SessionsTracking/101/Futures/GMKR-6.12] transition Suspended -> Assigned
[DEBUG] [12/06/2012 00:37:03.122] [pool-4-thread-4] [akka://SessionsTrackingSpec/user/SessionsTracking] now supervising Actor[akka://SessionsTrackingSpec/user/SessionsTracking/101]
[DEBUG] [12/06/2012 00:37:03.124] [SessionsTrackingSpec-akka.actor.default-dispatcher-9] [akka://SessionsTrackingSpec/user/SessionsTracking/100] stopping
[DEBUG] [12/06/2012 00:37:03.124] [SessionsTrackingSpec-akka.actor.default-dispatcher-7] [akka://SessionsTrackingSpec/user/SessionsTracking/100/Futures] stopping
[DEBUG] [12/06/2012 00:37:03.124] [SessionsTrackingSpec-akka.actor.default-dispatcher-9] [akka://SessionsTrackingSpec/user/SessionsTracking/100/IntradayClearing] stopped
[DEBUG] [12/06/2012 00:37:03.124] [SessionsTrackingSpec-akka.actor.default-dispatcher-7] [akka://SessionsTrackingSpec/user/SessionsTracking/100/Futures/GMKR-6.12] stopped
[DEBUG] [12/06/2012 00:37:03.124] [SessionsTrackingSpec-akka.actor.default-dispatcher-7] [akka://SessionsTrackingSpec/user/SessionsTracking/100/Futures] stopped
[DEBUG] [12/06/2012 00:37:03.124] [SessionsTrackingSpec-akka.actor.default-dispatcher-9] [akka://SessionsTrackingSpec/user/SessionsTracking/100/Options] stopping
[DEBUG] [12/06/2012 00:37:03.124] [SessionsDispatchersSpec-akka.actor.default-dispatcher-3] [akka://SessionsDispatchersSpec/user] now supervising TestActor[akka://SessionsDispatchersSpec/user/Dispatcher]
[DEBUG] [12/06/2012 00:37:03.125] [SessionsDispatchersSpec-akka.actor.default-dispatcher-2] [akka://SessionsDispatchersSpec/system/testActor57] started (akka.testkit.TestActor@30f829)
[DEBUG] [12/06/2012 00:37:03.124] [SessionsTrackingSpec-akka.actor.default-dispatcher-9] [akka://SessionsTrackingSpec/user/SessionsTracking/100/Options/RTS-6.12M150612PA@175000] stopped
[DEBUG] [12/06/2012 00:37:03.125] [SessionsTrackingSpec-akka.actor.default-dispatcher-7] [akka://SessionsTrackingSpec/user/SessionsTracking/100/Options] stopped
[DEBUG] [12/06/2012 00:37:03.125] [SessionsTrackingSpec-akka.actor.default-dispatcher-9] [akka://SessionsTrackingSpec/user/SessionsTracking/100] stopped
[DEBUG] [12/06/2012 00:37:03.125] [pool-4-thread-2] [akka://SessionsDispatchersSpec/user/Dispatcher] started (com.ergodicity.core.OptInfoDispatcher@336f1a)
[DEBUG] [12/06/2012 00:37:03.125] [SessionsDispatchersSpec-akka.actor.default-dispatcher-2] [akka://SessionsDispatchersSpec/system] now supervising Actor[akka://SessionsDispatchersSpec/system/testActor57]
[DEBUG] [12/06/2012 00:37:03.126] [SessionsDispatchersSpec-akka.actor.default-dispatcher-4] [akka://SessionsDispatchersSpec/user] now supervising TestActor[akka://SessionsDispatchersSpec/user/Dispatcher]
[DEBUG] [12/06/2012 00:37:03.126] [pool-4-thread-2] [akka://SessionsDispatchersSpec/user/Dispatcher] started (com.ergodicity.core.OptInfoDispatcher@9b13e1)
[info] SessionsTrackingSpec:
[info] SessionsTracking 
[info] - must forward session state to session actor
[info] - must forward FutSessContents to session actor
[info] - must forward OptSessContents to session actor
[info] - must track sessions
[info]   + When subscribe for ongoing sessions 
[info]   + Then nothing returned as no ongoing session available 
[info]   + When receive contents for nonexistent session 
[info]   + Then should postpone them 
[info]   + When receive session event for nonexisten session 
[info]   + Then should postpone it too 
[info]   + When receive SysEvents for both Futures and Options 
[info]   + Then should consume previously postponed events 
[info]   + And create actor for session 
[info]   + And should be notified about ongoing session 
[info]   + And session's state should be Assigned 
[info]   + And it should contain AssignedContents 
[info]   + When receive session events for nex session 
[info]   + Then should postpone them all 
[info]   + When new session is ready 
[info]   + Then should create actor for new session 
[info]   + And should change ongoing session to new one 
[info]   + When asked to drop session 
[info]   + Then session actor should be terminated 
[DEBUG] [12/06/2012 00:37:03.127] [SessionsTrackingSpec-akka.actor.default-dispatcher-11] [akka://SessionsTrackingSpec/user/SessionsTracking] stopping
[DEBUG] [12/06/2012 00:37:03.128] [SessionsTrackingSpec-akka.actor.default-dispatcher-9] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:03.128] [SessionsTrackingSpec-akka.actor.default-dispatcher-11] [akka://SessionsTrackingSpec/user] stopping
[DEBUG] [12/06/2012 00:37:03.128] [SessionsTrackingSpec-akka.actor.default-dispatcher-1] [akka://SessionsTrackingSpec/user/SessionsTracking/FutInfoDispatcher] stopped
[DEBUG] [12/06/2012 00:37:03.128] [SessionsTrackingSpec-akka.actor.default-dispatcher-9] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:37:03.128] [SessionsTrackingSpec-akka.actor.default-dispatcher-1] [akka://SessionsTrackingSpec/system/log1-Logging$DefaultLogger] stopped
[DEBUG] [12/06/2012 00:37:03.128] [SessionsTrackingSpec-akka.actor.default-dispatcher-9] [akka://SessionsTrackingSpec/system/testActor44] stopped
[DEBUG] [12/06/2012 00:37:03.129] [SessionsTrackingSpec-akka.actor.default-dispatcher-9] [akka://SessionsTrackingSpec/system/testActor45] stopped
[DEBUG] [12/06/2012 00:37:03.129] [SessionsTrackingSpec-akka.actor.default-dispatcher-9] [akka://SessionsTrackingSpec/system/testActor46] stopped
[DEBUG] [12/06/2012 00:37:03.129] [SessionsTrackingSpec-akka.actor.default-dispatcher-9] [akka://SessionsTrackingSpec/system/testActor48] stopped
[DEBUG] [12/06/2012 00:37:03.129] [SessionsTrackingSpec-akka.actor.default-dispatcher-9] [akka://SessionsTrackingSpec/system/testActor49] stopped
[DEBUG] [12/06/2012 00:37:03.130] [SessionsTrackingSpec-akka.actor.default-dispatcher-9] [akka://SessionsTrackingSpec/system/testActor50] stopped
[DEBUG] [12/06/2012 00:37:03.130] [SessionsTrackingSpec-akka.actor.default-dispatcher-9] [akka://SessionsTrackingSpec/system/testActor51] stopped
[DEBUG] [12/06/2012 00:37:03.130] [SessionsTrackingSpec-akka.actor.default-dispatcher-9] [akka://SessionsTrackingSpec/system/testActor52] stopped
[DEBUG] [12/06/2012 00:37:03.130] [SessionsTrackingSpec-akka.actor.default-dispatcher-9] [akka://SessionsTrackingSpec/system/testActor53] stopped
[DEBUG] [12/06/2012 00:37:03.130] [SessionsTrackingSpec-akka.actor.default-dispatcher-9] [akka://SessionsTrackingSpec/system] stopping
[DEBUG] [12/06/2012 00:37:03.131] [SessionsTrackingSpec-akka.actor.default-dispatcher-9] [akka://SessionsTrackingSpec/system] stopped
[DEBUG] [12/06/2012 00:37:03.131] [SessionsTrackingSpec-akka.actor.default-dispatcher-1] [akka://SessionsTrackingSpec/] stopped
[DEBUG] [12/06/2012 00:37:03.135] [pool-4-thread-4] [EventStream(akka://OrderBookActorSpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:37:03.135] [pool-4-thread-4] [EventStream(akka://OrderBookActorSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:37:03.136] [OrderBookActorSpec-akka.actor.default-dispatcher-3] [akka://OrderBookActorSpec/system/testActor58] started (akka.testkit.TestActor@62f8bc)
[DEBUG] [12/06/2012 00:37:03.136] [OrderBookActorSpec-akka.actor.default-dispatcher-3] [akka://OrderBookActorSpec/system] now supervising Actor[akka://OrderBookActorSpec/system/testActor58]
[DEBUG] [12/06/2012 00:37:03.140] [OrderBookActorSpec-akka.actor.default-dispatcher-2] [akka://OrderBookActorSpec/user] now supervising TestActor[akka://OrderBookActorSpec/user/OrderBookActor]
[INFO] [12/06/2012 00:37:03.140] [pool-4-thread-4] [akka://OrderBookActorSpec/user/OrderBookActor] Start OrderBook for security = FutureContract(IsinId(1),Isin(RTS-9.12),ShortIsisn(),Future contract)
[DEBUG] [12/06/2012 00:37:03.140] [pool-4-thread-4] [akka://OrderBookActorSpec/user/OrderBookActor] started (com.ergodicity.core.order.OrderBookActor@18fed4a)
[DEBUG] [12/06/2012 00:37:03.140] [pool-4-thread-4] [akka://OrderBookActorSpec/user/OrderBookActor] Create new order, id = 100, noSystem = false
[DEBUG] [12/06/2012 00:37:03.140] [pool-4-thread-4] [akka://OrderBookActorSpec/user/OrderBookActor] now supervising Actor[akka://OrderBookActorSpec/user/OrderBookActor/100]
[DEBUG] [12/06/2012 00:37:03.140] [OrderBookActorSpec-akka.actor.default-dispatcher-2] [akka://OrderBookActorSpec/user/OrderBookActor/100] started (com.ergodicity.core.order.OrderActor@23b7ed)
[DEBUG] [12/06/2012 00:37:03.141] [OrderBookActorSpec-akka.actor.default-dispatcher-3] [akka://OrderBookActorSpec/user] now supervising TestActor[akka://OrderBookActorSpec/user/OrderBookActor]
[INFO] [12/06/2012 00:37:03.141] [pool-4-thread-4] [akka://OrderBookActorSpec/user/OrderBookActor] Start OrderBook for security = FutureContract(IsinId(1),Isin(RTS-9.12),ShortIsisn(),Future contract)
[DEBUG] [12/06/2012 00:37:03.141] [pool-4-thread-4] [akka://OrderBookActorSpec/user/OrderBookActor] started (com.ergodicity.core.order.OrderBookActor@160c0b3)
[DEBUG] [12/06/2012 00:37:03.141] [pool-4-thread-4] [akka://OrderBookActorSpec/user/OrderBookActor] Create new order, id = 100, noSystem = false
[DEBUG] [12/06/2012 00:37:03.141] [pool-4-thread-4] [akka://OrderBookActorSpec/user/OrderBookActor] now supervising Actor[akka://OrderBookActorSpec/user/OrderBookActor/100]
[DEBUG] [12/06/2012 00:37:03.141] [OrderBookActorSpec-akka.actor.default-dispatcher-2] [akka://OrderBookActorSpec/user/OrderBookActor/100] started (com.ergodicity.core.order.OrderActor@10b2d9a)
[DEBUG] [12/06/2012 00:37:03.142] [pool-4-thread-4] [akka://OrderBookActorSpec/system/testActor58] now monitoring Actor[akka://OrderBookActorSpec/user/OrderBookActor/100]
[DEBUG] [12/06/2012 00:37:03.142] [pool-4-thread-4] [akka://OrderBookActorSpec/user/OrderBookActor] Cancel order, id = 100
[DEBUG] [12/06/2012 00:37:03.142] [OrderBookActorSpec-akka.actor.default-dispatcher-3] [akka://OrderBookActorSpec/user/OrderBookActor/100] Order cancelled
[DEBUG] [12/06/2012 00:37:03.142] [OrderBookActorSpec-akka.actor.default-dispatcher-3] [akka://OrderBookActorSpec/user/OrderBookActor/100] stopped
[DEBUG] [12/06/2012 00:37:03.143] [OrderBookActorSpec-akka.actor.default-dispatcher-2] [akka://OrderBookActorSpec/user] now supervising TestActor[akka://OrderBookActorSpec/user/OrderBookActor]
[INFO] [12/06/2012 00:37:03.143] [pool-4-thread-4] [akka://OrderBookActorSpec/user/OrderBookActor] Start OrderBook for security = FutureContract(IsinId(1),Isin(RTS-9.12),ShortIsisn(),Future contract)
[DEBUG] [12/06/2012 00:37:03.143] [pool-4-thread-4] [akka://OrderBookActorSpec/user/OrderBookActor] started (com.ergodicity.core.order.OrderBookActor@1097ff2)
[DEBUG] [12/06/2012 00:37:03.143] [pool-4-thread-4] [akka://OrderBookActorSpec/user/OrderBookActor] Create new order, id = 100, noSystem = false
[DEBUG] [12/06/2012 00:37:03.143] [OrderBookActorSpec-akka.actor.default-dispatcher-2] [akka://OrderBookActorSpec/user/OrderBookActor/100] started (com.ergodicity.core.order.OrderActor@aef094)
[DEBUG] [12/06/2012 00:37:03.143] [pool-4-thread-4] [akka://OrderBookActorSpec/user/OrderBookActor] now supervising Actor[akka://OrderBookActorSpec/user/OrderBookActor/100]
[DEBUG] [12/06/2012 00:37:03.143] [pool-4-thread-4] [akka://OrderBookActorSpec/user/OrderBookActor] Fill order, id = 100, amount = 2, rest = 1, deal = None
[DEBUG] [12/06/2012 00:37:03.143] [pool-4-thread-4] [akka://OrderBookActorSpec/user/OrderBookActor] Fill order, id = 100, amount = 1, rest = 0, deal = None
[DEBUG] [12/06/2012 00:37:03.144] [OrderBookActorSpec-akka.actor.default-dispatcher-3] [akka://OrderBookActorSpec/user/OrderBookActor/100] Order filled
[info] OrderBookActorSpec:
[info] OrderBookActor 
[info] - must create new order
[info] - must cancel order
[info] - must fill order
[DEBUG] [12/06/2012 00:37:03.144] [OrderBookActorSpec-akka.actor.default-dispatcher-3] [akka://OrderBookActorSpec/user/OrderBookActor/100] stopped
[DEBUG] [12/06/2012 00:37:03.144] [OrderBookActorSpec-akka.actor.default-dispatcher-3] [akka://OrderBookActorSpec/user/OrderBookActor] stopping
[DEBUG] [12/06/2012 00:37:03.144] [OrderBookActorSpec-akka.actor.default-dispatcher-3] [akka://OrderBookActorSpec/user] stopping
[DEBUG] [12/06/2012 00:37:03.144] [OrderBookActorSpec-akka.actor.default-dispatcher-1] [akka://OrderBookActorSpec/user/OrderBookActor] stopped
[DEBUG] [12/06/2012 00:37:03.144] [OrderBookActorSpec-akka.actor.default-dispatcher-1] [akka://OrderBookActorSpec/user/OrderBookActor/100] stopped
[DEBUG] [12/06/2012 00:37:03.144] [OrderBookActorSpec-akka.actor.default-dispatcher-3] [akka://OrderBookActorSpec/user] stopped
[DEBUG] [12/06/2012 00:37:03.145] [OrderBookActorSpec-akka.actor.default-dispatcher-3] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:03.145] [OrderBookActorSpec-akka.actor.default-dispatcher-3] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:03.145] [OrderBookActorSpec-akka.actor.default-dispatcher-3] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:37:03.145] [OrderBookActorSpec-akka.actor.default-dispatcher-4] [akka://OrderBookActorSpec/system/log1-Logging$DefaultLogger] stopped
[DEBUG] [12/06/2012 00:37:03.145] [OrderBookActorSpec-akka.actor.default-dispatcher-3] [akka://OrderBookActorSpec/system/testActor58] stopped
[DEBUG] [12/06/2012 00:37:03.145] [OrderBookActorSpec-akka.actor.default-dispatcher-3] [akka://OrderBookActorSpec/system] stopping
[DEBUG] [12/06/2012 00:37:03.145] [OrderBookActorSpec-akka.actor.default-dispatcher-3] [akka://OrderBookActorSpec/system] stopped
[DEBUG] [12/06/2012 00:37:03.145] [OrderBookActorSpec-akka.actor.default-dispatcher-4] [akka://OrderBookActorSpec/] stopped
[DEBUG] [12/06/2012 00:37:03.151] [pool-4-thread-4] [EventStream(akka://BrokerSpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:37:03.151] [pool-4-thread-4] [EventStream(akka://BrokerSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:37:03.152] [BrokerSpec-akka.actor.default-dispatcher-1] [akka://BrokerSpec/system/testActor59] started (akka.testkit.TestActor@1536b1d)
[DEBUG] [12/06/2012 00:37:03.152] [BrokerSpec-akka.actor.default-dispatcher-1] [akka://BrokerSpec/system] now supervising Actor[akka://BrokerSpec/system/testActor59]
[DEBUG] [12/06/2012 00:37:03.160] [BrokerSpec-akka.actor.default-dispatcher-3] [akka://BrokerSpec/user] now supervising TestActor[akka://BrokerSpec/user/Broker]
[info] TradesTrackingSpec:
[info] Trades Tracking 
[info] - must forward trades for subscribed securities
[DEBUG] [12/06/2012 00:37:03.168] [pool-4-thread-3] [EventStream(akka://SessionOrderBooksTrackingSpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:37:03.168] [pool-4-thread-3] [EventStream(akka://SessionOrderBooksTrackingSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:37:03.169] [SessionOrderBooksTrackingSpec-akka.actor.default-dispatcher-1] [akka://SessionOrderBooksTrackingSpec/system/testActor60] started (akka.testkit.TestActor@12b9182)
[DEBUG] [12/06/2012 00:37:03.169] [SessionOrderBooksTrackingSpec-akka.actor.default-dispatcher-1] [akka://SessionOrderBooksTrackingSpec/system] now supervising Actor[akka://SessionOrderBooksTrackingSpec/system/testActor60]
[DEBUG] [12/06/2012 00:37:03.174] [SessionOrderBooksTrackingSpec-akka.actor.default-dispatcher-3] [akka://SessionOrderBooksTrackingSpec/user] now supervising TestActor[akka://SessionOrderBooksTrackingSpec/user/SessionOrderBooksTracking]
[DEBUG] [12/06/2012 00:37:03.174] [pool-4-thread-3] [akka://SessionOrderBooksTrackingSpec/user/SessionOrderBooksTracking] started (com.ergodicity.core.order.SessionOrderBooksTracking@a60941)
[DEBUG] [12/06/2012 00:37:03.174] [pool-4-thread-3] [akka://SessionOrderBooksTrackingSpec/user/SessionOrderBooksTracking] now supervising Actor[akka://SessionOrderBooksTrackingSpec/user/SessionOrderBooksTracking/RTS-9.12]
[INFO] [12/06/2012 00:37:03.174] [SessionOrderBooksTrackingSpec-akka.actor.default-dispatcher-3] [akka://SessionOrderBooksTrackingSpec/user/SessionOrderBooksTracking/RTS-9.12] Start OrderBook for security = FutureContract(IsinId(1),Isin(RTS-9.12),ShortIsisn(),Future contract)
[DEBUG] [12/06/2012 00:37:03.174] [SessionOrderBooksTrackingSpec-akka.actor.default-dispatcher-3] [akka://SessionOrderBooksTrackingSpec/user/SessionOrderBooksTracking/RTS-9.12] started (com.ergodicity.core.order.OrderBookActor@a9a046)
[DEBUG] [12/06/2012 00:37:03.174] [SessionOrderBooksTrackingSpec-akka.actor.default-dispatcher-3] [akka://SessionOrderBooksTrackingSpec/user/SessionOrderBooksTracking/RTS-9.12] Create new order, id = 1000, noSystem = false
[DEBUG] [12/06/2012 00:37:03.174] [SessionOrderBooksTrackingSpec-akka.actor.default-dispatcher-3] [akka://SessionOrderBooksTrackingSpec/user/SessionOrderBooksTracking/RTS-9.12] now supervising Actor[akka://SessionOrderBooksTrackingSpec/user/SessionOrderBooksTracking/RTS-9.12/1000]
[DEBUG] [12/06/2012 00:37:03.174] [SessionOrderBooksTrackingSpec-akka.actor.default-dispatcher-3] [akka://SessionOrderBooksTrackingSpec/user/SessionOrderBooksTracking/RTS-9.12/1000] started (com.ergodicity.core.order.OrderActor@599294)
[DEBUG] [12/06/2012 00:37:03.176] [SessionOrderBooksTrackingSpec-akka.actor.default-dispatcher-5] [akka://SessionOrderBooksTrackingSpec/user] now supervising TestActor[akka://SessionOrderBooksTrackingSpec/user/SessionOrderBooksTracking]
[DEBUG] [12/06/2012 00:37:03.176] [pool-4-thread-3] [akka://SessionOrderBooksTrackingSpec/user/SessionOrderBooksTracking] started (com.ergodicity.core.order.SessionOrderBooksTracking@1643c07)
[DEBUG] [12/06/2012 00:37:03.176] [pool-4-thread-4] [akka://BrokerSpec/user/Broker] started (com.ergodicity.core.broker.Broker@1a0fea4)
[INFO] [12/06/2012 00:37:03.176] [pool-4-thread-4] [akka://BrokerSpec/system/testActor59] State: Closed
[info] SessionOrderBooksTrackingSpec:
[info] SessionOrderBooksTracking 
[info] - must create order book on request
[info] - must pass through all acction to OrderBook actor
[DEBUG] [12/06/2012 00:37:03.176] [SessionOrderBooksTrackingSpec-akka.actor.default-dispatcher-5] [akka://SessionOrderBooksTrackingSpec/user/SessionOrderBooksTracking] stopping
[DEBUG] [12/06/2012 00:37:03.176] [SessionOrderBooksTrackingSpec-akka.actor.default-dispatcher-5] [akka://SessionOrderBooksTrackingSpec/user] stopping
[DEBUG] [12/06/2012 00:37:03.176] [SessionOrderBooksTrackingSpec-akka.actor.default-dispatcher-4] [akka://SessionOrderBooksTrackingSpec/user/SessionOrderBooksTracking/RTS-9.12] stopping
[DEBUG] [12/06/2012 00:37:03.176] [SessionOrderBooksTrackingSpec-akka.actor.default-dispatcher-4] [akka://SessionOrderBooksTrackingSpec/user/SessionOrderBooksTracking/RTS-9.12/1000] stopped
[DEBUG] [12/06/2012 00:37:03.177] [BrokerSpec-akka.actor.default-dispatcher-1] [akka://BrokerSpec/user] now supervising TestActor[akka://BrokerSpec/user/Broker]
[DEBUG] [12/06/2012 00:37:03.177] [pool-4-thread-4] [akka://BrokerSpec/user/Broker] started (com.ergodicity.core.broker.Broker@1b02ae1)
[DEBUG] [12/06/2012 00:37:03.179] [SessionOrderBooksTrackingSpec-akka.actor.default-dispatcher-2] [akka://SessionOrderBooksTrackingSpec/user] stopped
[DEBUG] [12/06/2012 00:37:03.179] [SessionOrderBooksTrackingSpec-akka.actor.default-dispatcher-2] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:03.179] [SessionOrderBooksTrackingSpec-akka.actor.default-dispatcher-4] [akka://SessionOrderBooksTrackingSpec/user/SessionOrderBooksTracking] stopped
[DEBUG] [12/06/2012 00:37:03.179] [SessionOrderBooksTrackingSpec-akka.actor.default-dispatcher-4] [akka://SessionOrderBooksTrackingSpec/user/SessionOrderBooksTracking/RTS-9.12] stopped
[DEBUG] [12/06/2012 00:37:03.179] [SessionOrderBooksTrackingSpec-akka.actor.default-dispatcher-2] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:03.179] [SessionOrderBooksTrackingSpec-akka.actor.default-dispatcher-2] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:37:03.179] [SessionOrderBooksTrackingSpec-akka.actor.default-dispatcher-5] [akka://SessionOrderBooksTrackingSpec/system/log1-Logging$DefaultLogger] stopped
[DEBUG] [12/06/2012 00:37:03.180] [SessionOrderBooksTrackingSpec-akka.actor.default-dispatcher-2] [akka://SessionOrderBooksTrackingSpec/system/testActor60] stopped
[DEBUG] [12/06/2012 00:37:03.180] [SessionOrderBooksTrackingSpec-akka.actor.default-dispatcher-2] [akka://SessionOrderBooksTrackingSpec/system] stopping
[DEBUG] [12/06/2012 00:37:03.180] [SessionOrderBooksTrackingSpec-akka.actor.default-dispatcher-2] [akka://SessionOrderBooksTrackingSpec/system] stopped
[DEBUG] [12/06/2012 00:37:03.180] [SessionOrderBooksTrackingSpec-akka.actor.default-dispatcher-2] [akka://SessionOrderBooksTrackingSpec/] stopped
[DEBUG] [12/06/2012 00:37:03.183] [BrokerSpec-akka.actor.default-dispatcher-1] [akka://BrokerSpec/user] now supervising TestActor[akka://BrokerSpec/user/Broker]
[DEBUG] [12/06/2012 00:37:03.183] [pool-4-thread-4] [akka://BrokerSpec/user/Broker] started (com.ergodicity.core.broker.Broker@11d0c83)
[DEBUG] [12/06/2012 00:37:03.183] [pool-4-thread-4] [akka://BrokerSpec/system/testActor59] now monitoring TestActor[akka://BrokerSpec/user/Broker]
[DEBUG] [12/06/2012 00:37:03.185] [pool-4-thread-3] [EventStream(akka://PositionActorSpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:37:03.185] [pool-4-thread-3] [EventStream(akka://PositionActorSpec)] Default Loggers started
[WARN] [12/06/2012 00:37:03.186] [pool-4-thread-4] [akka://BrokerSpec/user/Broker] unhandled event Close in state Closed
[DEBUG] [12/06/2012 00:37:03.186] [PositionActorSpec-akka.actor.default-dispatcher-3] [akka://PositionActorSpec/system/testActor61] started (akka.testkit.TestActor@c15d44)
[DEBUG] [12/06/2012 00:37:03.186] [PositionActorSpec-akka.actor.default-dispatcher-3] [akka://PositionActorSpec/system] now supervising Actor[akka://PositionActorSpec/system/testActor61]
[DEBUG] [12/06/2012 00:37:03.187] [BrokerSpec-akka.actor.default-dispatcher-1] [akka://BrokerSpec/user] now supervising TestActor[akka://BrokerSpec/user/Broker]
[DEBUG] [12/06/2012 00:37:03.187] [pool-4-thread-4] [akka://BrokerSpec/user/Broker] started (com.ergodicity.core.broker.Broker@137efb6)
[INFO] [12/06/2012 00:37:03.187] [pool-4-thread-4] [akka://BrokerSpec/user/Broker] Opening publisher
[DEBUG] [12/06/2012 00:37:03.189] [BrokerSpec-akka.actor.default-dispatcher-1] [akka://BrokerSpec/user] now supervising TestActor[akka://BrokerSpec/user/Broker]
[DEBUG] [12/06/2012 00:37:03.189] [pool-4-thread-4] [akka://BrokerSpec/user/Broker] started (com.ergodicity.core.broker.Broker@debb2d)
[INFO] [12/06/2012 00:37:03.189] [pool-4-thread-4] [akka://BrokerSpec/user/Broker] Publisher opened
[DEBUG] [12/06/2012 00:37:03.189] [pool-4-thread-4] [akka://BrokerSpec/user/Broker] Execute command: AddOrder(Isin(isin),1,100,GoodTillCancelled,Buy)
[DEBUG] [12/06/2012 00:37:03.191] [PositionActorSpec-akka.actor.default-dispatcher-2] [akka://PositionActorSpec/user] now supervising TestActor[akka://PositionActorSpec/user/$$k]
[INFO] [12/06/2012 00:37:03.192] [pool-4-thread-3] [akka://PositionActorSpec/user/$$k] Opened position; Security = FutureContract(IsinId(111),Isin(RTS-9.12),ShortIsisn(RIU2),Future contract)
[DEBUG] [12/06/2012 00:37:03.192] [pool-4-thread-3] [akka://PositionActorSpec/user/$$k] started (com.ergodicity.core.position.PositionActor@372d8b)
[DEBUG] [12/06/2012 00:37:03.193] [PositionActorSpec-akka.actor.default-dispatcher-2] [akka://PositionActorSpec/user] now supervising TestActor[akka://PositionActorSpec/user/$$l]
[INFO] [12/06/2012 00:37:03.193] [pool-4-thread-3] [akka://PositionActorSpec/user/$$l] Opened position; Security = FutureContract(IsinId(111),Isin(RTS-9.12),ShortIsisn(RIU2),Future contract)
[DEBUG] [12/06/2012 00:37:03.193] [pool-4-thread-3] [akka://PositionActorSpec/user/$$l] started (com.ergodicity.core.position.PositionActor@160a506)
[DEBUG] [12/06/2012 00:37:03.194] [PositionActorSpec-akka.actor.default-dispatcher-2] [akka://PositionActorSpec/user] now supervising TestActor[akka://PositionActorSpec/user/$$m]
[INFO] [12/06/2012 00:37:03.194] [pool-4-thread-3] [akka://PositionActorSpec/user/$$m] Opened position; Security = FutureContract(IsinId(111),Isin(RTS-9.12),ShortIsisn(RIU2),Future contract)
[DEBUG] [12/06/2012 00:37:03.194] [pool-4-thread-3] [akka://PositionActorSpec/user/$$m] started (com.ergodicity.core.position.PositionActor@182e8cd)
[DEBUG] [12/06/2012 00:37:03.194] [pool-4-thread-3] [akka://PositionActorSpec/user/$$m] Position updated to Position(10), dynamics = PositionDynamics(0,10,0,0,None)
[DEBUG] [12/06/2012 00:37:03.195] [PositionActorSpec-akka.actor.default-dispatcher-2] [akka://PositionActorSpec/user] now supervising TestActor[akka://PositionActorSpec/user/$$n]
[INFO] [12/06/2012 00:37:03.195] [pool-4-thread-3] [akka://PositionActorSpec/user/$$n] Opened position; Security = FutureContract(IsinId(111),Isin(RTS-9.12),ShortIsisn(RIU2),Future contract)
[DEBUG] [12/06/2012 00:37:03.195] [pool-4-thread-3] [akka://PositionActorSpec/user/$$n] started (com.ergodicity.core.position.PositionActor@6a0889)
[DEBUG] [12/06/2012 00:37:03.195] [pool-4-thread-3] [akka://PositionActorSpec/user/$$n] Position updated to Position(10), dynamics = PositionDynamics(0,10,0,0,None)
[DEBUG] [12/06/2012 00:37:03.195] [pool-4-thread-3] [akka://PositionActorSpec/user/$$n] Position updated to Position(-2), dynamics = PositionDynamics(0,10,12,0,None)
[DEBUG] [12/06/2012 00:37:03.195] [pool-4-thread-3] [akka://PositionActorSpec/user/$$n] Position updated to Position(0), dynamics = PositionDynamics(0,12,12,0,None)
[info] PositionActorSpec:
[info] PositionActor 
[info] - must initialied in Position.flat state
[info] - must stay in Position.flat position on update with position = 0
[info] - must go to Long position on update
[info] - must handle position updates
[DEBUG] [12/06/2012 00:37:03.195] [PositionActorSpec-akka.actor.default-dispatcher-2] [akka://PositionActorSpec/user/$$k] stopped
[DEBUG] [12/06/2012 00:37:03.195] [PositionActorSpec-akka.actor.default-dispatcher-2] [akka://PositionActorSpec/user/$$l] stopped
[DEBUG] [12/06/2012 00:37:03.196] [PositionActorSpec-akka.actor.default-dispatcher-2] [akka://PositionActorSpec/user/$$m] stopped
[DEBUG] [12/06/2012 00:37:03.196] [PositionActorSpec-akka.actor.default-dispatcher-2] [akka://PositionActorSpec/user/$$n] stopped
[DEBUG] [12/06/2012 00:37:03.196] [PositionActorSpec-akka.actor.default-dispatcher-2] [akka://PositionActorSpec/user] stopping
[DEBUG] [12/06/2012 00:37:03.196] [PositionActorSpec-akka.actor.default-dispatcher-2] [akka://PositionActorSpec/user] stopped
[DEBUG] [12/06/2012 00:37:03.196] [PositionActorSpec-akka.actor.default-dispatcher-1] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:03.196] [PositionActorSpec-akka.actor.default-dispatcher-1] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:03.196] [PositionActorSpec-akka.actor.default-dispatcher-1] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:37:03.196] [PositionActorSpec-akka.actor.default-dispatcher-2] [akka://PositionActorSpec/system/log1-Logging$DefaultLogger] stopped
[DEBUG] [12/06/2012 00:37:03.197] [PositionActorSpec-akka.actor.default-dispatcher-1] [akka://PositionActorSpec/system/testActor61] stopped
[DEBUG] [12/06/2012 00:37:03.197] [PositionActorSpec-akka.actor.default-dispatcher-1] [akka://PositionActorSpec/system] stopping
[DEBUG] [12/06/2012 00:37:03.197] [PositionActorSpec-akka.actor.default-dispatcher-1] [akka://PositionActorSpec/system] stopped
[DEBUG] [12/06/2012 00:37:03.197] [PositionActorSpec-akka.actor.default-dispatcher-2] [akka://PositionActorSpec/] stopped
[DEBUG] [12/06/2012 00:37:03.201] [pool-4-thread-3] [EventStream(akka://SessionActorSpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:37:03.202] [pool-4-thread-3] [EventStream(akka://SessionActorSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:37:03.202] [SessionActorSpec-akka.actor.default-dispatcher-2] [akka://SessionActorSpec/system/testActor62] started (akka.testkit.TestActor@b2c0d7)
[DEBUG] [12/06/2012 00:37:03.203] [SessionActorSpec-akka.actor.default-dispatcher-2] [akka://SessionActorSpec/system] now supervising Actor[akka://SessionActorSpec/system/testActor62]
[DEBUG] [12/06/2012 00:37:03.210] [SessionActorSpec-akka.actor.default-dispatcher-3] [akka://SessionActorSpec/user] now supervising TestActor[akka://SessionActorSpec/user/IntradayClearing]
[DEBUG] [12/06/2012 00:37:03.211] [pool-4-thread-3] [akka://SessionActorSpec/user/IntradayClearing] started (com.ergodicity.core.session.IntradayClearing@16454e1)
[DEBUG] [12/06/2012 00:37:03.211] [pool-4-thread-3] [akka://SessionActorSpec/user/IntradayClearing] processing Event(Completed,()) from Actor[akka://SessionActorSpec/system/testActor62]
[DEBUG] [12/06/2012 00:37:03.211] [pool-4-thread-3] [akka://SessionActorSpec/user/IntradayClearing] transition Undefined -> Completed
[INFO] [12/06/2012 00:37:03.211] [pool-4-thread-3] [akka://SessionActorSpec/system/testActor62] State: Completed
[DEBUG] [12/06/2012 00:37:03.212] [SessionActorSpec-akka.actor.default-dispatcher-3] [akka://SessionActorSpec/user] now supervising TestActor[akka://SessionActorSpec/user/Session]
[INFO] [12/06/2012 00:37:03.212] [SessionActorSpec-akka.actor.default-dispatcher-2] [akka://SessionActorSpec/user/Session/Futures] Start SessionContents
[DEBUG] [12/06/2012 00:37:03.212] [SessionActorSpec-akka.actor.default-dispatcher-3] [akka://SessionActorSpec/user/Session/IntradayClearing] started (com.ergodicity.core.session.IntradayClearing@ca6240)
[INFO] [12/06/2012 00:37:03.212] [SessionActorSpec-akka.actor.default-dispatcher-1] [akka://SessionActorSpec/user/Session/Options] Start SessionContents
[DEBUG] [12/06/2012 00:37:03.212] [pool-4-thread-3] [akka://SessionActorSpec/user/Session] started (SessionActor(Session(SessionId(100,101),2012-12-06T00:37:03.202/2012-12-06T00:37:03.202,None,None,2012-12-06T00:37:03.202/2012-12-06T00:37:03.202)))
[DEBUG] [12/06/2012 00:37:03.212] [pool-4-thread-3] [akka://SessionActorSpec/user/Session] now supervising Actor[akka://SessionActorSpec/user/Session/IntradayClearing]
[DEBUG] [12/06/2012 00:37:03.212] [pool-4-thread-3] [akka://SessionActorSpec/user/Session] now supervising Actor[akka://SessionActorSpec/user/Session/Futures]
[DEBUG] [12/06/2012 00:37:03.212] [pool-4-thread-3] [akka://SessionActorSpec/user/Session] now supervising Actor[akka://SessionActorSpec/user/Session/Options]
[DEBUG] [12/06/2012 00:37:03.212] [SessionActorSpec-akka.actor.default-dispatcher-2] [akka://SessionActorSpec/user/Session/Futures] started (com.ergodicity.core.session.SessionActor$$anonfun$4$$anon$1@161bdc8)
[DEBUG] [12/06/2012 00:37:03.212] [SessionActorSpec-akka.actor.default-dispatcher-1] [akka://SessionActorSpec/user/Session/Options] started (com.ergodicity.core.session.SessionActor$$anonfun$5$$anon$2@1f2c143)
[DEBUG] [12/06/2012 00:37:03.213] [SessionActorSpec-akka.actor.default-dispatcher-5] [akka://SessionActorSpec/user] now supervising TestActor[akka://SessionActorSpec/user/Session]
[INFO] [12/06/2012 00:37:03.214] [SessionActorSpec-akka.actor.default-dispatcher-2] [akka://SessionActorSpec/user/Session/Futures] Start SessionContents
[DEBUG] [12/06/2012 00:37:03.214] [SessionActorSpec-akka.actor.default-dispatcher-5] [akka://SessionActorSpec/user/Session/IntradayClearing] started (com.ergodicity.core.session.IntradayClearing@7f9122)
[INFO] [12/06/2012 00:37:03.214] [SessionActorSpec-akka.actor.default-dispatcher-3] [akka://SessionActorSpec/user/Session/Options] Start SessionContents
[DEBUG] [12/06/2012 00:37:03.214] [pool-4-thread-3] [akka://SessionActorSpec/user/Session] started (SessionActor(Session(SessionId(100,101),2012-12-06T00:37:03.202/2012-12-06T00:37:03.202,None,None,2012-12-06T00:37:03.202/2012-12-06T00:37:03.202)))
[DEBUG] [12/06/2012 00:37:03.214] [pool-4-thread-3] [akka://SessionActorSpec/user/Session] now supervising Actor[akka://SessionActorSpec/user/Session/IntradayClearing]
[DEBUG] [12/06/2012 00:37:03.214] [pool-4-thread-3] [akka://SessionActorSpec/user/Session] now supervising Actor[akka://SessionActorSpec/user/Session/Futures]
[DEBUG] [12/06/2012 00:37:03.214] [pool-4-thread-3] [akka://SessionActorSpec/user/Session] now supervising Actor[akka://SessionActorSpec/user/Session/Options]
[DEBUG] [12/06/2012 00:37:03.214] [SessionActorSpec-akka.actor.default-dispatcher-2] [akka://SessionActorSpec/user/Session/Futures] started (com.ergodicity.core.session.SessionActor$$anonfun$4$$anon$1@1116e35)
[DEBUG] [12/06/2012 00:37:03.214] [SessionActorSpec-akka.actor.default-dispatcher-3] [akka://SessionActorSpec/user/Session/Options] started (com.ergodicity.core.session.SessionActor$$anonfun$5$$anon$2@15a8848)
[DEBUG] [12/06/2012 00:37:03.214] [pool-4-thread-3] [akka://SessionActorSpec/user/Session] processing Event(Suspended,()) from Actor[akka://SessionActorSpec/system/testActor62]
[DEBUG] [12/06/2012 00:37:03.214] [pool-4-thread-3] [akka://SessionActorSpec/user/Session] transition Assigned -> Suspended
[DEBUG] [12/06/2012 00:37:03.214] [pool-4-thread-3] [akka://SessionActorSpec/user/Session] processing Event(Running,()) from Actor[akka://SessionActorSpec/system/testActor62]
[DEBUG] [12/06/2012 00:37:03.214] [SessionActorSpec-akka.actor.default-dispatcher-3] [akka://SessionActorSpec/user/Session/IntradayClearing] processing Event(Running,()) from TestActor[akka://SessionActorSpec/user/Session]
[DEBUG] [12/06/2012 00:37:03.214] [SessionActorSpec-akka.actor.default-dispatcher-3] [akka://SessionActorSpec/user/Session/IntradayClearing] transition Undefined -> Running
[DEBUG] [12/06/2012 00:37:03.215] [SessionActorSpec-akka.actor.default-dispatcher-3] [akka://SessionActorSpec/user] now supervising TestActor[akka://SessionActorSpec/user/Session2]
[INFO] [12/06/2012 00:37:03.215] [SessionActorSpec-akka.actor.default-dispatcher-2] [akka://SessionActorSpec/user/Session2/Futures] Start SessionContents
[DEBUG] [12/06/2012 00:37:03.215] [SessionActorSpec-akka.actor.default-dispatcher-3] [akka://SessionActorSpec/user/Session2/IntradayClearing] started (com.ergodicity.core.session.IntradayClearing@166dfed)
[INFO] [12/06/2012 00:37:03.215] [SessionActorSpec-akka.actor.default-dispatcher-4] [akka://SessionActorSpec/user/Session2/Options] Start SessionContents
[DEBUG] [12/06/2012 00:37:03.215] [pool-4-thread-3] [akka://SessionActorSpec/user/Session2] started (SessionActor(Session(SessionId(100,101),2012-12-06T00:37:03.202/2012-12-06T00:37:03.202,None,None,2012-12-06T00:37:03.202/2012-12-06T00:37:03.202)))
[DEBUG] [12/06/2012 00:37:03.215] [pool-4-thread-3] [akka://SessionActorSpec/user/Session2] now supervising Actor[akka://SessionActorSpec/user/Session2/IntradayClearing]
[DEBUG] [12/06/2012 00:37:03.215] [pool-4-thread-3] [akka://SessionActorSpec/user/Session2] now supervising Actor[akka://SessionActorSpec/user/Session2/Futures]
[DEBUG] [12/06/2012 00:37:03.216] [pool-4-thread-3] [akka://SessionActorSpec/user/Session2] now supervising Actor[akka://SessionActorSpec/user/Session2/Options]
[DEBUG] [12/06/2012 00:37:03.216] [SessionActorSpec-akka.actor.default-dispatcher-2] [akka://SessionActorSpec/user/Session2/Futures] started (com.ergodicity.core.session.SessionActor$$anonfun$4$$anon$1@f74da2)
[DEBUG] [12/06/2012 00:37:03.216] [SessionActorSpec-akka.actor.default-dispatcher-4] [akka://SessionActorSpec/user/Session2/Options] started (com.ergodicity.core.session.SessionActor$$anonfun$5$$anon$2@9dfcb)
[DEBUG] [12/06/2012 00:37:03.216] [pool-4-thread-3] [akka://SessionActorSpec/user/Session2] processing Event(FutSessContents(100,FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future Contract),FutureParameters(100,Limits(100,100)),Suspended),()) from Actor[akka://SessionActorSpec/system/testActor62]
[DEBUG] [12/06/2012 00:37:03.216] [SessionActorSpec-akka.actor.default-dispatcher-4] [akka://SessionActorSpec/user/Session2/Futures] now supervising Actor[akka://SessionActorSpec/user/Session2/Futures/GMKR-6.12]
[INFO] [12/06/2012 00:37:03.216] [SessionActorSpec-akka.actor.default-dispatcher-3] [akka://SessionActorSpec/user/Session2/Futures/GMKR-6.12] Started instrument for security = FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future Contract)
[DEBUG] [12/06/2012 00:37:03.216] [SessionActorSpec-akka.actor.default-dispatcher-3] [akka://SessionActorSpec/user/Session2/Futures/GMKR-6.12] started (com.ergodicity.core.session.FutureInstrument@197643c)
[DEBUG] [12/06/2012 00:37:03.216] [SessionActorSpec-akka.actor.default-dispatcher-3] [akka://SessionActorSpec/user/Session2/Futures/GMKR-6.12] processing Event(FutureParameters(100,Limits(100,100)),None) from Actor[akka://SessionActorSpec/user/Session2/Futures]
[DEBUG] [12/06/2012 00:37:03.216] [SessionActorSpec-akka.actor.default-dispatcher-3] [akka://SessionActorSpec/user/Session2/Futures/GMKR-6.12] processing Event(Suspended,Some(FutureParameters(100,Limits(100,100)))) from Actor[akka://SessionActorSpec/user/Session2/Futures]
[DEBUG] [12/06/2012 00:37:03.314] [BrokerSpec-akka.actor.default-dispatcher-1] [akka://BrokerSpec/user] now supervising TestActor[akka://BrokerSpec/user/Broker]
[DEBUG] [12/06/2012 00:37:03.314] [pool-4-thread-4] [akka://BrokerSpec/user/Broker] started (com.ergodicity.core.broker.Broker@709095)
[INFO] [12/06/2012 00:37:03.314] [pool-4-thread-4] [akka://BrokerSpec/user/Broker] Publisher opened
[DEBUG] [12/06/2012 00:37:03.315] [pool-4-thread-4] [akka://BrokerSpec/user/Broker] Execute command: AddOrder(Isin(isin),1,100,GoodTillCancelled,Buy)
[DEBUG] [12/06/2012 00:37:03.319] [BrokerSpec-akka.actor.default-dispatcher-1] [akka://BrokerSpec/user] now supervising TestActor[akka://BrokerSpec/user/Broker]
[DEBUG] [12/06/2012 00:37:03.319] [pool-4-thread-4] [akka://BrokerSpec/user/Broker] started (com.ergodicity.core.broker.Broker@f919be)
[INFO] [12/06/2012 00:37:03.319] [pool-4-thread-4] [akka://BrokerSpec/user/Broker] Publisher opened
[DEBUG] [12/06/2012 00:37:03.319] [pool-4-thread-4] [akka://BrokerSpec/user/Broker] Execute command: AddOrder(Isin(isin),1,100,GoodTillCancelled,Buy)
[DEBUG] [12/06/2012 00:37:03.323] [BrokerSpec-akka.actor.default-dispatcher-1] [akka://BrokerSpec/user] now supervising TestActor[akka://BrokerSpec/user/Broker]
[DEBUG] [12/06/2012 00:37:03.323] [pool-4-thread-4] [akka://BrokerSpec/user/Broker] started (com.ergodicity.core.broker.Broker@195a938)
[INFO] [12/06/2012 00:37:03.323] [pool-4-thread-4] [akka://BrokerSpec/user/Broker] Publisher opened
[DEBUG] [12/06/2012 00:37:03.323] [pool-4-thread-4] [akka://BrokerSpec/user/Broker] Execute command: AddOrder(Isin(isin),1,100,GoodTillCancelled,Buy)
[DEBUG] [12/06/2012 00:37:03.326] [BrokerSpec-akka.actor.default-dispatcher-3] [akka://BrokerSpec/user] now supervising TestActor[akka://BrokerSpec/user/Broker]
[DEBUG] [12/06/2012 00:37:03.327] [pool-4-thread-4] [akka://BrokerSpec/user/Broker] started (com.ergodicity.core.broker.Broker@612f2c)
[INFO] [12/06/2012 00:37:03.327] [pool-4-thread-4] [akka://BrokerSpec/user/Broker] Publisher opened
[DEBUG] [12/06/2012 00:37:03.327] [pool-4-thread-4] [akka://BrokerSpec/user/Broker] Execute command: AddOrder(Isin(isin),1,100,GoodTillCancelled,Buy)
[info] BrokerSpec:
[info] Broker 
[info] - must be initialized in Closed state
[info] - must fail on Publisher gone to Error state
[info] - must return to Closed state after Close broker sent
[info] - must fail on FSM.StateTimeout in Opening state
[info] - must execute market command
[info] - must handle Timeout failures
[info] - must handle Flood failures
[info] - must handle Error failures
[info] - must handle order response
[ERROR] [12/06/2012 00:37:03.329] [BrokerSpec-akka.actor.default-dispatcher-3] [akka://BrokerSpec/user/Broker] Publisher failed, reason = Shutdown
[DEBUG] [12/06/2012 00:37:03.330] [BrokerSpec-akka.actor.default-dispatcher-3] [akka://BrokerSpec/user/Broker] stopped
[DEBUG] [12/06/2012 00:37:03.330] [BrokerSpec-akka.actor.default-dispatcher-3] [akka://BrokerSpec/user] stopping
[DEBUG] [12/06/2012 00:37:03.330] [BrokerSpec-akka.actor.default-dispatcher-3] [akka://BrokerSpec/user] stopped
[DEBUG] [12/06/2012 00:37:03.331] [BrokerSpec-akka.actor.default-dispatcher-1] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:03.331] [BrokerSpec-akka.actor.default-dispatcher-1] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:03.331] [BrokerSpec-akka.actor.default-dispatcher-1] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:37:03.331] [BrokerSpec-akka.actor.default-dispatcher-3] [akka://BrokerSpec/system/log1-Logging$DefaultLogger] stopped
[DEBUG] [12/06/2012 00:37:03.331] [BrokerSpec-akka.actor.default-dispatcher-1] [akka://BrokerSpec/system/testActor59] stopped
[DEBUG] [12/06/2012 00:37:03.331] [BrokerSpec-akka.actor.default-dispatcher-1] [akka://BrokerSpec/system] stopping
[DEBUG] [12/06/2012 00:37:03.332] [BrokerSpec-akka.actor.default-dispatcher-1] [akka://BrokerSpec/system] stopped
[DEBUG] [12/06/2012 00:37:03.332] [BrokerSpec-akka.actor.default-dispatcher-3] [akka://BrokerSpec/] stopped
[DEBUG] [12/06/2012 00:37:03.387] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/user] now supervising TestActor[akka://OrdersTrackingSpec/user/OrderBooksTracking]
[DEBUG] [12/06/2012 00:37:03.630] [SessionsDispatchersSpec-akka.actor.default-dispatcher-2] [akka://SessionsDispatchersSpec/user] now supervising TestActor[akka://SessionsDispatchersSpec/user/Dispatcher]
[DEBUG] [12/06/2012 00:37:03.630] [pool-4-thread-2] [akka://SessionsDispatchersSpec/user/Dispatcher] started (com.ergodicity.core.OptInfoDispatcher@1a75fff)
[DEBUG] [12/06/2012 00:37:03.630] [pool-4-thread-1] [akka://OrdersTrackingSpec/user/OrderBooksTracking] started (com.ergodicity.core.order.OrderBooksTracking@6b2a5c)
[DEBUG] [12/06/2012 00:37:03.630] [pool-4-thread-1] [akka://OrdersTrackingSpec/user/OrderBooksTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrderBooksTracking/OrderLogDispatcher]
[DEBUG] [12/06/2012 00:37:03.630] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/user/OrderBooksTracking/OrderLogDispatcher] started (com.ergodicity.core.order.OrderLogDispatcher@94ccb9)
[info] SessionsDispatchersSpec:
[info] FutInfo Dispatcher 
[info] - must subscribe for stream events
[info] - must dispatch sessions
[info] - must dispatch only futures and skip repo
[info] - must dispatch sys events
[info] OptInfo Dispatcher 
[info] - must subscribe for stream events
[info] - must dispatch options
[info] - must dispatch sys events
[info] OrderBooksTrackingSpec:
[info] OrderBooksTracking 
[info] - must wait for Orders snapshots after start up
[info] - must consume orders snapshots
[info] - must consume orders snapshots with Fill action
[info] - must discard orders with smaller revision
[info]   + When get message with bigger revision 
[info]   + Then should forward it to session order books 
[info]   + When get message with bigger revision 
[info]   + Then should forward it to session order books 
[info] - must go to online state where receive message with revision greater then max of snapshots
[info]   + When get message with big revision 
[info]   + Then should forward it to session order books 
[info]   + And go to Online state 
[DEBUG] [12/06/2012 00:37:03.633] [pool-4-thread-3] [akka://SessionActorSpec/user/Session2] processing Event(GetInstrument(FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future Contract)),()) from Actor[akka://SessionActorSpec/temp/$a]
[DEBUG] [12/06/2012 00:37:03.634] [SessionActorSpec-akka.actor.default-dispatcher-3] [akka://SessionActorSpec/user/Session2/Futures] Get session instrument: FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future Contract); Result = Some((FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future Contract),Actor[akka://SessionActorSpec/user/Session2/Futures/GMKR-6.12]))
[DEBUG] [12/06/2012 00:37:03.634] [SessionActorSpec-akka.actor.default-dispatcher-2] [akka://SessionActorSpec/user/Session2/Options] Get session instrument: FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future Contract); Result = None
[DEBUG] [12/06/2012 00:37:03.634] [SessionsDispatchersSpec-akka.actor.default-dispatcher-4] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:03.635] [SessionsDispatchersSpec-akka.actor.default-dispatcher-4] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:37:03.636] [SessionsDispatchersSpec-akka.actor.default-dispatcher-4] [akka://SessionsDispatchersSpec/system/testActor42] stopped
[DEBUG] [12/06/2012 00:37:03.636] [SessionsDispatchersSpec-akka.actor.default-dispatcher-4] [akka://SessionsDispatchersSpec/system/testActor43] stopped
[DEBUG] [12/06/2012 00:37:03.636] [SessionsDispatchersSpec-akka.actor.default-dispatcher-4] [akka://SessionsDispatchersSpec/system/testActor57] stopped
[DEBUG] [12/06/2012 00:37:03.637] [SessionsDispatchersSpec-akka.actor.default-dispatcher-4] [akka://SessionsDispatchersSpec/system] stopping
[INFO] [12/06/2012 00:37:03.633] [pool-4-thread-1] [akka://OrdersTrackingSpec/user/OrderBooksTracking] Assigned contents; Size = 2
[DEBUG] [12/06/2012 00:37:03.633] [SessionsDispatchersSpec-akka.actor.default-dispatcher-4] [akka://SessionsDispatchersSpec/user/Dispatcher] stopped
[info] Passed: : Total 18, Failed 0, Errors 0, Passed 18, Skipped 0
[DEBUG] [12/06/2012 00:37:03.637] [SessionsDispatchersSpec-akka.actor.default-dispatcher-3] [akka://SessionsDispatchersSpec/system/log1-Logging$DefaultLogger] stopped
[DEBUG] [12/06/2012 00:37:03.637] [SessionsDispatchersSpec-akka.actor.default-dispatcher-3] [akka://SessionsDispatchersSpec/system] stopped
[DEBUG] [12/06/2012 00:37:03.639] [SessionActorSpec-akka.actor.default-dispatcher-3] [akka://SessionActorSpec/user] now supervising TestActor[akka://SessionActorSpec/user/Session2]
[DEBUG] [12/06/2012 00:37:03.639] [SessionActorSpec-akka.actor.default-dispatcher-3] [akka://SessionActorSpec/user/Session2/IntradayClearing] started (com.ergodicity.core.session.IntradayClearing@19da1de)
[INFO] [12/06/2012 00:37:03.639] [SessionActorSpec-akka.actor.default-dispatcher-2] [akka://SessionActorSpec/user/Session2/Futures] Start SessionContents
[DEBUG] [12/06/2012 00:37:03.640] [OrdersTrackingSpec-akka.actor.default-dispatcher-5] [akka://OrdersTrackingSpec/user/OrderBooksTracking] stopping
[DEBUG] [12/06/2012 00:37:03.640] [OrdersTrackingSpec-akka.actor.default-dispatcher-4] [akka://OrdersTrackingSpec/user/OrderBooksTracking/100/RTS-9.12] stopped
[DEBUG] [12/06/2012 00:37:03.640] [OrdersTrackingSpec-akka.actor.default-dispatcher-5] [akka://OrdersTrackingSpec/user] stopping
[DEBUG] [12/06/2012 00:37:03.641] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/user/OrderBooksTracking/OrderLogDispatcher] stopped
[DEBUG] [12/06/2012 00:37:03.644] [pool-4-thread-3] [akka://SessionActorSpec/user/Session2] started (SessionActor(Session(SessionId(100,101),2012-12-06T00:37:03.202/2012-12-06T00:37:03.202,None,None,2012-12-06T00:37:03.202/2012-12-06T00:37:03.202)))
[DEBUG] [12/06/2012 00:37:03.644] [pool-4-thread-3] [akka://SessionActorSpec/user/Session2] now supervising Actor[akka://SessionActorSpec/user/Session2/IntradayClearing]
[DEBUG] [12/06/2012 00:37:03.644] [pool-4-thread-3] [akka://SessionActorSpec/user/Session2] now supervising Actor[akka://SessionActorSpec/user/Session2/Futures]
[DEBUG] [12/06/2012 00:37:03.644] [pool-4-thread-3] [akka://SessionActorSpec/user/Session2] now supervising Actor[akka://SessionActorSpec/user/Session2/Options]
[INFO] [12/06/2012 00:37:03.644] [SessionActorSpec-akka.actor.default-dispatcher-3] [akka://SessionActorSpec/user/Session2/Options] Start SessionContents
[DEBUG] [12/06/2012 00:37:03.644] [pool-4-thread-3] [akka://SessionActorSpec/user/Session2] processing Event(FutSessContents(100,FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future Contract),FutureParameters(100,Limits(100,100)),Assigned),()) from Actor[akka://SessionActorSpec/system/testActor62]
[DEBUG] [12/06/2012 00:37:03.644] [pool-4-thread-3] [akka://SessionActorSpec/user/Session2] processing Event(OptSessContents(100,OptionContract(IsinId(160734),Isin(RTS-6.12M150612PA 175000),ShortIsisn(RI175000BR2),Option Contract),OptionParameters(100)),()) from Actor[akka://SessionActorSpec/system/testActor62]
[DEBUG] [12/06/2012 00:37:03.644] [SessionActorSpec-akka.actor.default-dispatcher-2] [akka://SessionActorSpec/user/Session2/Futures] started (com.ergodicity.core.session.SessionActor$$anonfun$4$$anon$1@43c5b)
[DEBUG] [12/06/2012 00:37:03.644] [SessionActorSpec-akka.actor.default-dispatcher-2] [akka://SessionActorSpec/user/Session2/Futures] now supervising Actor[akka://SessionActorSpec/user/Session2/Futures/GMKR-6.12]
[INFO] [12/06/2012 00:37:03.644] [SessionActorSpec-akka.actor.default-dispatcher-2] [akka://SessionActorSpec/user/Session2/Futures/GMKR-6.12] Started instrument for security = FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future Contract)
[DEBUG] [12/06/2012 00:37:03.645] [SessionActorSpec-akka.actor.default-dispatcher-2] [akka://SessionActorSpec/user/Session2/Futures/GMKR-6.12] started (com.ergodicity.core.session.FutureInstrument@fe23b7)
[DEBUG] [12/06/2012 00:37:03.645] [SessionActorSpec-akka.actor.default-dispatcher-2] [akka://SessionActorSpec/user/Session2/Futures/GMKR-6.12] processing Event(FutureParameters(100,Limits(100,100)),None) from Actor[akka://SessionActorSpec/user/Session2/Futures]
[DEBUG] [12/06/2012 00:37:03.645] [SessionActorSpec-akka.actor.default-dispatcher-2] [akka://SessionActorSpec/user/Session2/Futures/GMKR-6.12] processing Event(Suspended,Some(FutureParameters(100,Limits(100,100)))) from Actor[akka://SessionActorSpec/user/Session2/Futures]
[DEBUG] [12/06/2012 00:37:03.645] [SessionActorSpec-akka.actor.default-dispatcher-2] [akka://SessionActorSpec/user/Session2/Futures/GMKR-6.12] processing Event(Assigned,Some(FutureParameters(100,Limits(100,100)))) from Actor[akka://SessionActorSpec/user/Session2/Futures]
[DEBUG] [12/06/2012 00:37:03.645] [SessionActorSpec-akka.actor.default-dispatcher-2] [akka://SessionActorSpec/user/Session2/Futures/GMKR-6.12] transition Suspended -> Assigned
[DEBUG] [12/06/2012 00:37:03.645] [SessionActorSpec-akka.actor.default-dispatcher-3] [akka://SessionActorSpec/user/Session2/Options] started (com.ergodicity.core.session.SessionActor$$anonfun$5$$anon$2@7c867a)
[INFO] [12/06/2012 00:37:03.645] [SessionActorSpec-akka.actor.default-dispatcher-1] [akka://SessionActorSpec/user/Session2/Options/RTS-6.12M150612PA@175000] Started instrument for security = OptionContract(IsinId(160734),Isin(RTS-6.12M150612PA 175000),ShortIsisn(RI175000BR2),Option Contract)
[DEBUG] [12/06/2012 00:37:03.645] [SessionActorSpec-akka.actor.default-dispatcher-1] [akka://SessionActorSpec/user/Session2/Options/RTS-6.12M150612PA@175000] started (com.ergodicity.core.session.OptionInstrument@1f42ccf)
[DEBUG] [12/06/2012 00:37:03.648] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/user/OrderBooksTracking/100] stopping
[DEBUG] [12/06/2012 00:37:03.648] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/user/OrderBooksTracking] stopped
[DEBUG] [12/06/2012 00:37:03.648] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/user/OrderBooksTracking/100] stopped
[DEBUG] [12/06/2012 00:37:03.649] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:03.649] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:37:03.649] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/system/testActor20] stopped
[DEBUG] [12/06/2012 00:37:03.649] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/system] stopping
[DEBUG] [12/06/2012 00:37:03.649] [OrdersTrackingSpec-akka.actor.default-dispatcher-4] [akka://OrdersTrackingSpec/system/log1-Logging$DefaultLogger] stopped
[DEBUG] [12/06/2012 00:37:03.650] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/system] stopped
[DEBUG] [12/06/2012 00:37:03.651] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/] stopped
[DEBUG] [12/06/2012 00:37:03.652] [SessionsDispatchersSpec-akka.actor.default-dispatcher-3] [akka://SessionsDispatchersSpec/] stopped
[DEBUG] [12/06/2012 00:37:03.655] [SessionActorSpec-akka.actor.default-dispatcher-3] [akka://SessionActorSpec/user/Session2/Options] now supervising Actor[akka://SessionActorSpec/user/Session2/Options/RTS-6.12M150612PA@175000]
[DEBUG] [12/06/2012 00:37:03.655] [SessionActorSpec-akka.actor.default-dispatcher-3] [akka://SessionActorSpec/user/Session2/Options/RTS-6.12M150612PA@175000] processing Event(OptionParameters(100),None) from Actor[akka://SessionActorSpec/user/Session2/Options]
[DEBUG] [12/06/2012 00:37:03.655] [SessionActorSpec-akka.actor.default-dispatcher-3] [akka://SessionActorSpec/user/Session2/Options/RTS-6.12M150612PA@175000] processing Event(Suspended,Some(OptionParameters(100))) from Actor[akka://SessionActorSpec/user/Session2/Options]
[DEBUG] [12/06/2012 00:37:03.655] [SessionActorSpec-akka.actor.default-dispatcher-3] [akka://SessionActorSpec/user/Session2/Options/RTS-6.12M150612PA@175000] processing Event(Assigned,Some(OptionParameters(100))) from Actor[akka://SessionActorSpec/user/Session2/Options]
[DEBUG] [12/06/2012 00:37:03.655] [SessionActorSpec-akka.actor.default-dispatcher-3] [akka://SessionActorSpec/user/Session2/Options/RTS-6.12M150612PA@175000] transition Suspended -> Assigned
Setting up data.
[DEBUG] [12/06/2012 00:37:03.743] [pool-4-thread-3] [akka://SessionActorSpec/user/Session2] processing Event(GetAssignedContents,()) from Actor[akka://SessionActorSpec/temp/$b]
[INFO] [12/06/2012 00:37:03.744] [pool-4-thread-3] [akka://SessionActorSpec/system/testActor62] Assigned contents = AssignedContents(Set(FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future Contract), OptionContract(IsinId(160734),Isin(RTS-6.12M150612PA 175000),ShortIsisn(RI175000BR2),Option Contract)))
[DEBUG] [12/06/2012 00:37:03.746] [SessionActorSpec-akka.actor.default-dispatcher-11] [akka://SessionActorSpec/user] now supervising TestActor[akka://SessionActorSpec/user/Session2]
[DEBUG] [12/06/2012 00:37:03.765] [SessionActorSpec-akka.actor.default-dispatcher-11] [akka://SessionActorSpec/user/Session2/IntradayClearing] started (com.ergodicity.core.session.IntradayClearing@8722b6)
[DEBUG] [12/06/2012 00:37:03.765] [pool-4-thread-3] [akka://SessionActorSpec/user/Session2] started (SessionActor(Session(SessionId(100,101),2012-12-06T00:37:03.202/2012-12-06T00:37:03.202,None,None,2012-12-06T00:37:03.202/2012-12-06T00:37:03.202)))
[INFO] [12/06/2012 00:37:03.766] [SessionActorSpec-akka.actor.default-dispatcher-11] [akka://SessionActorSpec/user/Session2/Futures] Start SessionContents
[DEBUG] [12/06/2012 00:37:03.766] [pool-4-thread-3] [akka://SessionActorSpec/user/Session2] now supervising Actor[akka://SessionActorSpec/user/Session2/IntradayClearing]
[DEBUG] [12/06/2012 00:37:03.766] [pool-4-thread-3] [akka://SessionActorSpec/user/Session2] now supervising Actor[akka://SessionActorSpec/user/Session2/Futures]
[DEBUG] [12/06/2012 00:37:03.766] [pool-4-thread-3] [akka://SessionActorSpec/user/Session2] now supervising Actor[akka://SessionActorSpec/user/Session2/Options]
[DEBUG] [12/06/2012 00:37:03.766] [SessionActorSpec-akka.actor.default-dispatcher-11] [akka://SessionActorSpec/user/Session2/Futures] started (com.ergodicity.core.session.SessionActor$$anonfun$4$$anon$1@1f7e334)
[info] SessionActorSpec:
[info] SessionState 
[info] - must support all codes
[info] IntradayClearing 
[info] - must handle state updates
[info] Session 
[info] - must be inititliazed in given state and terminate child clearing actor
[info] - must apply state and int. clearing updates
[info] - must forward FutSessContents to contents manager
[info]   + When session received new instrument 
[info]   + Then actor for it should be created in contents manager 
[info] - must return all assigned contents
[info]   + Given session with assigned contents 
[info]   + When asked for contents assigned 
[info]   + Then should return all assigned insturment 
[info] - must fail if no instument found
[DEBUG] [12/06/2012 00:37:03.766] [pool-4-thread-3] [akka://SessionActorSpec/user/Session2] processing Event(FutSessContents(100,FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future Contract),FutureParameters(100,Limits(100,100)),Assigned),()) from Actor[akka://SessionActorSpec/system/testActor62]
[INFO] [12/06/2012 00:37:03.776] [SessionActorSpec-akka.actor.default-dispatcher-8] [akka://SessionActorSpec/user/Session2/Options] Start SessionContents
[DEBUG] [12/06/2012 00:37:03.776] [pool-4-thread-3] [akka://SessionActorSpec/user/Session2] processing Event(OptSessContents(100,OptionContract(IsinId(160734),Isin(RTS-6.12M150612PA 175000),ShortIsisn(RI175000BR2),Option Contract),OptionParameters(100)),()) from Actor[akka://SessionActorSpec/system/testActor62]
[DEBUG] [12/06/2012 00:37:03.776] [pool-4-thread-3] [akka://SessionActorSpec/user/Session2] processing Event(GetInstrument(FutureContract(IsinId(0),Isin(BadIsin),ShortIsisn(),)),()) from Actor[akka://SessionActorSpec/temp/$c]
[DEBUG] [12/06/2012 00:37:03.778] [SessionActorSpec-akka.actor.default-dispatcher-8] [akka://SessionActorSpec/user/Session2/Options] started (com.ergodicity.core.session.SessionActor$$anonfun$5$$anon$2@c8a294)
[INFO] [12/06/2012 00:37:03.778] [SessionActorSpec-akka.actor.default-dispatcher-10] [akka://SessionActorSpec/user/Session2/Futures/GMKR-6.12] Started instrument for security = FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future Contract)
[DEBUG] [12/06/2012 00:37:03.778] [SessionActorSpec-akka.actor.default-dispatcher-10] [akka://SessionActorSpec/user/Session2/Futures/GMKR-6.12] started (com.ergodicity.core.session.FutureInstrument@1a3c0d0)
[DEBUG] [12/06/2012 00:37:03.778] [SessionActorSpec-akka.actor.default-dispatcher-8] [akka://SessionActorSpec/user/Session2/Options] now supervising Actor[akka://SessionActorSpec/user/Session2/Options/RTS-6.12M150612PA@175000]
[DEBUG] [12/06/2012 00:37:03.781] [SessionActorSpec-akka.actor.default-dispatcher-8] [akka://SessionActorSpec/user/Session2/Options] Get session instrument: FutureContract(IsinId(0),Isin(BadIsin),ShortIsisn(),); Result = None
[INFO] [12/06/2012 00:37:03.781] [SessionActorSpec-akka.actor.default-dispatcher-8] [akka://SessionActorSpec/user/Session2/Options/RTS-6.12M150612PA@175000] Started instrument for security = OptionContract(IsinId(160734),Isin(RTS-6.12M150612PA 175000),ShortIsisn(RI175000BR2),Option Contract)
[DEBUG] [12/06/2012 00:37:03.781] [SessionActorSpec-akka.actor.default-dispatcher-8] [akka://SessionActorSpec/user/Session2/Options/RTS-6.12M150612PA@175000] started (com.ergodicity.core.session.OptionInstrument@e04341)
[DEBUG] [12/06/2012 00:37:03.781] [SessionActorSpec-akka.actor.default-dispatcher-8] [akka://SessionActorSpec/user/Session2/Options/RTS-6.12M150612PA@175000] processing Event(OptionParameters(100),None) from Actor[akka://SessionActorSpec/user/Session2/Options]
[DEBUG] [12/06/2012 00:37:03.781] [SessionActorSpec-akka.actor.default-dispatcher-8] [akka://SessionActorSpec/user/Session2/Options/RTS-6.12M150612PA@175000] processing Event(Suspended,Some(OptionParameters(100))) from Actor[akka://SessionActorSpec/user/Session2/Options]
[DEBUG] [12/06/2012 00:37:03.781] [SessionActorSpec-akka.actor.default-dispatcher-8] [akka://SessionActorSpec/user/Session2/Options/RTS-6.12M150612PA@175000] processing Event(Assigned,Some(OptionParameters(100))) from Actor[akka://SessionActorSpec/user/Session2/Options]
[DEBUG] [12/06/2012 00:37:03.781] [SessionActorSpec-akka.actor.default-dispatcher-8] [akka://SessionActorSpec/user/Session2/Options/RTS-6.12M150612PA@175000] transition Suspended -> Assigned
[DEBUG] [12/06/2012 00:37:03.781] [SessionActorSpec-akka.actor.default-dispatcher-10] [akka://SessionActorSpec/user/Session2/Futures/GMKR-6.12] processing Event(FutureParameters(100,Limits(100,100)),None) from Actor[akka://SessionActorSpec/user/Session2/Futures]
[DEBUG] [12/06/2012 00:37:03.781] [SessionActorSpec-akka.actor.default-dispatcher-10] [akka://SessionActorSpec/user/Session2/Futures/GMKR-6.12] processing Event(Assigned,Some(FutureParameters(100,Limits(100,100)))) from Actor[akka://SessionActorSpec/user/Session2/Futures]
[DEBUG] [12/06/2012 00:37:03.781] [SessionActorSpec-akka.actor.default-dispatcher-10] [akka://SessionActorSpec/user/Session2/Futures/GMKR-6.12] transition Suspended -> Assigned
[DEBUG] [12/06/2012 00:37:03.781] [SessionActorSpec-akka.actor.default-dispatcher-9] [akka://SessionActorSpec/user/Session2/Futures] now supervising Actor[akka://SessionActorSpec/user/Session2/Futures/GMKR-6.12]
[DEBUG] [12/06/2012 00:37:03.781] [SessionActorSpec-akka.actor.default-dispatcher-9] [akka://SessionActorSpec/user/Session2/Futures] Get session instrument: FutureContract(IsinId(0),Isin(BadIsin),ShortIsisn(),); Result = None
[DEBUG] [12/06/2012 00:37:03.781] [SessionActorSpec-akka.actor.default-dispatcher-9] [Future] No such instument assigned: FutureContract(IsinId(0),Isin(BadIsin),ShortIsisn(),)
[DEBUG] [12/06/2012 00:37:03.782] [SessionActorSpec-akka.actor.default-dispatcher-9] [akka://SessionActorSpec/user/IntradayClearing] stopped
[DEBUG] [12/06/2012 00:37:03.782] [SessionActorSpec-akka.actor.default-dispatcher-9] [akka://SessionActorSpec/user/Session] stopping
[DEBUG] [12/06/2012 00:37:03.782] [SessionActorSpec-akka.actor.default-dispatcher-9] [akka://SessionActorSpec/user/Session2] stopping
[DEBUG] [12/06/2012 00:37:03.782] [SessionActorSpec-akka.actor.default-dispatcher-9] [akka://SessionActorSpec/user] stopping
[DEBUG] [12/06/2012 00:37:03.782] [SessionActorSpec-akka.actor.default-dispatcher-9] [akka://SessionActorSpec/user/Session/Futures] stopped
[DEBUG] [12/06/2012 00:37:03.783] [SessionActorSpec-akka.actor.default-dispatcher-9] [akka://SessionActorSpec/user/Session/IntradayClearing] stopped
[DEBUG] [12/06/2012 00:37:03.783] [SessionActorSpec-akka.actor.default-dispatcher-7] [akka://SessionActorSpec/user/Session] stopped
[DEBUG] [12/06/2012 00:37:03.783] [SessionActorSpec-akka.actor.default-dispatcher-6] [akka://SessionActorSpec/user/Session2/IntradayClearing] stopped
[DEBUG] [12/06/2012 00:37:03.783] [SessionActorSpec-akka.actor.default-dispatcher-7] [akka://SessionActorSpec/user/Session/Options] stopped
[DEBUG] [12/06/2012 00:37:03.783] [SessionActorSpec-akka.actor.default-dispatcher-6] [akka://SessionActorSpec/user/Session2/Options] stopped
[DEBUG] [12/06/2012 00:37:03.783] [SessionActorSpec-akka.actor.default-dispatcher-6] [akka://SessionActorSpec/user/Session2/Futures/GMKR-6.12] stopped
[DEBUG] [12/06/2012 00:37:03.783] [SessionActorSpec-akka.actor.default-dispatcher-9] [akka://SessionActorSpec/user/Session2/Futures] stopping
[DEBUG] [12/06/2012 00:37:03.783] [SessionActorSpec-akka.actor.default-dispatcher-9] [akka://SessionActorSpec/user/Session2] stopped
[DEBUG] [12/06/2012 00:37:03.783] [SessionActorSpec-akka.actor.default-dispatcher-9] [akka://SessionActorSpec/user/Session2/Futures] stopped
[DEBUG] [12/06/2012 00:37:03.783] [SessionActorSpec-akka.actor.default-dispatcher-7] [akka://SessionActorSpec/user] stopped
[DEBUG] [12/06/2012 00:37:03.783] [SessionActorSpec-akka.actor.default-dispatcher-9] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:03.783] [SessionActorSpec-akka.actor.default-dispatcher-9] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:37:03.783] [SessionActorSpec-akka.actor.default-dispatcher-9] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:03.784] [SessionActorSpec-akka.actor.default-dispatcher-3] [akka://SessionActorSpec/system/log1-Logging$DefaultLogger] stopped
[DEBUG] [12/06/2012 00:37:03.784] [SessionActorSpec-akka.actor.default-dispatcher-9] [akka://SessionActorSpec/system/testActor62] stopped
[DEBUG] [12/06/2012 00:37:03.784] [SessionActorSpec-akka.actor.default-dispatcher-9] [akka://SessionActorSpec/system] stopping
[DEBUG] [12/06/2012 00:37:03.784] [SessionActorSpec-akka.actor.default-dispatcher-9] [akka://SessionActorSpec/system] stopped
[DEBUG] [12/06/2012 00:37:03.784] [SessionActorSpec-akka.actor.default-dispatcher-3] [akka://SessionActorSpec/] stopped
[DEBUG] [12/06/2012 00:37:04.940] [pool-4-thread-3] [EventStream(akka://TrendFollowing)] logger log1-TestEventListener started
[DEBUG] [12/06/2012 00:37:04.940] [pool-4-thread-1] [EventStream(akka://TradingServiceSpec)] logger log1-TestEventListener started
[DEBUG] [12/06/2012 00:37:04.942] [pool-4-thread-3] [EventStream(akka://TrendFollowing)] Default Loggers started
[DEBUG] [12/06/2012 00:37:04.941] [pool-4-thread-2] [EventStream(akka://StrategyEngineActorSpec)] logger log1-TestEventListener started
[DEBUG] [12/06/2012 00:37:04.942] [pool-4-thread-1] [EventStream(akka://TradingServiceSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:37:04.942] [pool-4-thread-2] [EventStream(akka://StrategyEngineActorSpec)] Default Loggers started
[WARN] [12/06/2012 00:37:05.638] [pool-4-thread-1] [Dispatchers] Dispatcher [engine.dispatchers.publisherDispatcher] not configured, using default-dispatcher
[WARN] [12/06/2012 00:37:05.739] [TrendFollowing-akka.actor.default-dispatcher-3] [akka://TrendFollowing/deadLetters] received dead letter from Actor[akka://TrendFollowing/user/Sessions/FutInfoDispatcher]: SubscribeStreamEvents(Actor[akka://TrendFollowing/user/Sessions/FutInfoDispatcher])
[WARN] [12/06/2012 00:37:05.739] [TrendFollowing-akka.actor.default-dispatcher-3] [akka://TrendFollowing/deadLetters] received dead letter from Actor[akka://TrendFollowing/user/Sessions/OptInfoDispatcher]: SubscribeStreamEvents(Actor[akka://TrendFollowing/user/Sessions/OptInfoDispatcher])
[INFO] [12/06/2012 00:37:05.739] [TrendFollowing-akka.actor.default-dispatcher-1] [akka://TrendFollowing/user/Sessions] Start session tracking
[INFO] [12/06/2012 00:37:05.750] [pool-4-thread-1] [akka://TradingServiceSpec/user/TradingService] Start Trading service
[WARN] [12/06/2012 00:37:05.752] [TradingServiceSpec-akka.actor.default-dispatcher-3] [akka://TradingServiceSpec/deadLetters] received dead letter from TestActor[akka://TradingServiceSpec/user/TradingService]: SubscribeOngoingSessions(Actor[akka://TradingServiceSpec/user/TradingService/OrdersTracking])
[INFO] [12/06/2012 00:37:05.769] [pool-4-thread-1] [akka://TradingServiceSpec/user/TradingService] Start Trading service
[WARN] [12/06/2012 00:37:05.769] [TradingServiceSpec-akka.actor.default-dispatcher-3] [akka://TradingServiceSpec/deadLetters] received dead letter from TestActor[akka://TradingServiceSpec/user/TradingService]: SubscribeOngoingSessions(Actor[akka://TradingServiceSpec/user/TradingService/OrdersTracking])
[INFO] [12/06/2012 00:37:05.770] [TrendFollowing-akka.actor.default-dispatcher-1] [akka://TrendFollowing/user/Sessions] Synchonized event = SynchronizedEvent(SessionDataReady(1,100),SessionDataReady(1,100))
[INFO] [12/06/2012 00:37:05.775] [TrendFollowing-akka.actor.default-dispatcher-3] [akka://TrendFollowing/user/TrendFollowingStrategy/PositionManager-RTS-9.12] Start position manager for isin = Isin(RTS-9.12), initial position = Position(0)
[INFO] [12/06/2012 00:37:05.775] [pool-4-thread-1] [akka://TradingServiceSpec/user/TradingService] Start Trading service
[INFO] [12/06/2012 00:37:05.780] [pool-4-thread-3] [akka://TrendFollowing/user/TrendFollowingStrategy] Start trend following for isin = Isin(RTS-9.12)
[INFO] [12/06/2012 00:37:05.807] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/TradingService/FutOrdersListener] Open listener with config = mode=snapshot+online
[INFO] [12/06/2012 00:37:05.808] [TrendFollowing-akka.actor.default-dispatcher-6] [akka://TrendFollowing/user/Sessions/100/Options] Start SessionContents
[INFO] [12/06/2012 00:37:05.809] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/TradingService/OptOrdersListener] Open listener with config = mode=snapshot+online
[INFO] [12/06/2012 00:37:05.811] [TrendFollowing-akka.actor.default-dispatcher-5] [akka://TrendFollowing/user/Sessions/100/Futures] Start SessionContents
[INFO] [12/06/2012 00:37:05.812] [TrendFollowing-akka.actor.default-dispatcher-1] [akka://TrendFollowing/user/TrendFollowingStrategy/WatchDog-RTS-9.12] Catched ongoing session, session id = SessionId(100,100)
[INFO] [12/06/2012 00:37:05.820] [TradingServiceSpec-akka.actor.default-dispatcher-9] [akka://TradingServiceSpec/user/TradingService/Broker] Open publisher
[INFO] [12/06/2012 00:37:05.822] [TradingServiceSpec-akka.actor.default-dispatcher-9] [akka://TradingServiceSpec/user/TradingService/RepliesListener] Open listener with config = 
[INFO] [12/06/2012 00:37:06.144] [pool-4-thread-2] [akka://StrategyEngineActorSpec/user/StrategyEngine] Prepare strategies
[INFO] [12/06/2012 00:37:06.144] [TrendFollowing-akka.actor.default-dispatcher-2] [akka://TrendFollowing/user/Sessions/100/Futures/RTS-9.12] Started instrument for security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1)
[INFO] [12/06/2012 00:37:06.144] [TrendFollowing-akka.actor.default-dispatcher-6] [akka://TrendFollowing/user/Sessions/100/Futures/RTS-12.12] Started instrument for security = FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2)
[INFO] [12/06/2012 00:37:06.155] [pool-4-thread-1] [akka://TradingServiceSpec/user/TradingService] Start Trading service
[DEBUG] [12/06/2012 00:37:06.156] [TrendFollowing-akka.actor.default-dispatcher-2] [akka://TrendFollowing/user/Sessions/100/Futures] Get session instrument: FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1); Result = Some((FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1),Actor[akka://TrendFollowing/user/Sessions/100/Futures/RTS-9.12]))
[WARN] [12/06/2012 00:37:06.156] [TradingServiceSpec-akka.actor.default-dispatcher-2] [akka://TradingServiceSpec/deadLetters] received dead letter from TestActor[akka://TradingServiceSpec/user/TradingService]: SubscribeOngoingSessions(Actor[akka://TradingServiceSpec/user/TradingService/OrdersTracking])
[INFO] [12/06/2012 00:37:06.157] [pool-4-thread-2] [akka://StrategyEngineActorSpec/user/StrategyEngine] Start strategy, Id = TestStrategy
[DEBUG] [12/06/2012 00:37:06.158] [TrendFollowing-akka.actor.default-dispatcher-4] [akka://TrendFollowing/user/Sessions/100/Options] Get session instrument: FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1); Result = None
[INFO] [12/06/2012 00:37:06.159] [pool-4-thread-1] [akka://TradingServiceSpec/user/TradingService] Stop Trading service
[INFO] [12/06/2012 00:37:06.165] [TrendFollowing-akka.actor.default-dispatcher-5] [akka://TrendFollowing/user/TrendFollowingStrategy/WatchDog-RTS-9.12] Catched instrument for isin = Isin(RTS-9.12); ref = InstrumentRef(null,FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1),Actor[akka://TrendFollowing/user/Sessions/100/Futures/RTS-9.12])
[WARN] [12/06/2012 00:37:06.169] [TradingServiceSpec-akka.actor.default-dispatcher-9] [akka://TradingServiceSpec/user/TradingService/RepliesListener] unhandled event Close in state Closed
[WARN] [12/06/2012 00:37:06.170] [TradingServiceSpec-akka.actor.default-dispatcher-4] [akka://TradingServiceSpec/user/TradingService/Broker] unhandled event Close in state Closed
[WARN] [12/06/2012 00:37:06.171] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/TradingService/FutOrdersListener] unhandled event Close in state Closed
[WARN] [12/06/2012 00:37:06.171] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/TradingService/OptOrdersListener] unhandled event Close in state Closed
[INFO] [12/06/2012 00:37:06.171] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/TradingService/FutOrdersListener] Dispose listener
[INFO] [12/06/2012 00:37:06.171] [TradingServiceSpec-akka.actor.default-dispatcher-9] [akka://TradingServiceSpec/user/TradingService/Broker] Dispose publisher
[INFO] [12/06/2012 00:37:06.171] [TradingServiceSpec-akka.actor.default-dispatcher-7] [akka://TradingServiceSpec/user/TradingService/RepliesListener] Dispose listener
[INFO] [12/06/2012 00:37:06.173] [TrendFollowing-akka.actor.default-dispatcher-3] [akka://TrendFollowing/user/TrendFollowingStrategy/PositionManager-RTS-9.12] Catched assigned instrument; Isin = Isin(RTS-9.12), session = null, security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1)
[ERROR] [12/06/2012 00:37:06.178] [TradingServiceSpec-akka.actor.default-dispatcher-7] [akka://TradingServiceSpec/user/TradingService/RepliesListener] Disposed
[ERROR] [12/06/2012 00:37:06.178] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/TradingService/FutOrdersListener] Disposed
[ERROR] [12/06/2012 00:37:06.178] [TradingServiceSpec-akka.actor.default-dispatcher-7] [akka://TradingServiceSpec/user/TradingService/RepliesListener] Listener failed, reason = Failure(Disposed)
[ERROR] [12/06/2012 00:37:06.179] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/TradingService/FutOrdersListener] Listener failed, reason = Failure(Disposed)
[ERROR] [12/06/2012 00:37:06.179] [TradingServiceSpec-akka.actor.default-dispatcher-9] [akka://TradingServiceSpec/user/TradingService/Broker] Disposed
[ERROR] [12/06/2012 00:37:06.186] [TradingServiceSpec-akka.actor.default-dispatcher-9] [akka://TradingServiceSpec/user/TradingService/Broker] Publisher failed, reason = Failure(Disposed)
[DEBUG] [12/06/2012 00:37:06.188] [TrendFollowing-akka.actor.default-dispatcher-5] [akka://TrendFollowing/user/TrendFollowingStrategy/PositionManager-RTS-9.12] Ready to trade; Underlying instrument = UnderlyingInstrument(FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1),FutureParameters(100,Limits(10,20)),Online)
[INFO] [12/06/2012 00:37:06.191] [TrendFollowing-akka.actor.default-dispatcher-5] [akka://TrendFollowing/user/TrendFollowingStrategy] Position balanced! Position = Position(0)
[INFO] [12/06/2012 00:37:06.191] [TrendFollowing-akka.actor.default-dispatcher-5] [akka://TrendFollowing/user/TrendFollowingStrategy/PositionManager-RTS-9.12] Position balanced
[INFO] [12/06/2012 00:37:06.195] [pool-4-thread-2] [akka://StrategyEngineActorSpec/user/StrategyEngine] Prepare strategies
[INFO] [12/06/2012 00:37:06.195] [pool-4-thread-2] [akka://StrategyEngineActorSpec/user/StrategyEngine] Start strategy, Id = TestStrategy
[INFO] [12/06/2012 00:37:06.195] [pool-4-thread-2] [akka://StrategyEngineActorSpec/user/StrategyEngine] Start strategy, Id = TestStrategy
[WARN] [12/06/2012 00:37:06.195] [StrategyEngineActorSpec-akka.actor.default-dispatcher-3] [akka://StrategyEngineActorSpec/deadLetters] received dead letter from Actor[akka://StrategyEngineActorSpec/user/StrategyEngine/TestStrategy]: Started
[DEBUG] [12/06/2012 00:37:06.208] [pool-4-thread-2] [akka://StrategyEngineActorSpec/user/Portfolio] Assigned contents; Size = 2
[DEBUG] [12/06/2012 00:37:06.212] [pool-4-thread-2] [akka://StrategyEngineActorSpec/user/Portfolio] Position updated; Security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1)
[DEBUG] [12/06/2012 00:37:06.214] [pool-4-thread-2] [akka://StrategyEngineActorSpec/user/Portfolio] Position updated; Security = FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2)
[INFO] [12/06/2012 00:37:06.220] [StrategyEngineActorSpec-akka.actor.default-dispatcher-3] [akka://StrategyEngineActorSpec/user/Portfolio/RTS-9.12] Opened position; Security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1)
[INFO] [12/06/2012 00:37:06.220] [StrategyEngineActorSpec-akka.actor.default-dispatcher-1] [akka://StrategyEngineActorSpec/user/Portfolio/RTS-12.12] Opened position; Security = FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2)
[DEBUG] [12/06/2012 00:37:06.221] [StrategyEngineActorSpec-akka.actor.default-dispatcher-1] [akka://StrategyEngineActorSpec/user/Portfolio/RTS-12.12] Position updated to Position(3), dynamics = PositionDynamics(0,5,2,0,None)
[ERROR] [12/06/2012 00:37:06.221] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/TradingService/OptOrdersListener] Listener failed, reason = Shutdown
[DEBUG] [12/06/2012 00:37:06.222] [StrategyEngineActorSpec-akka.actor.default-dispatcher-3] [akka://StrategyEngineActorSpec/user/Portfolio/RTS-9.12] Position updated to Position(1), dynamics = PositionDynamics(0,1,0,0,None)
[WARN] [12/06/2012 00:37:06.222] [TradingServiceSpec-akka.actor.default-dispatcher-4] [akka://TradingServiceSpec/user/TradingService/OptOrdersListener] received dead letter from TestActor[akka://TradingServiceSpec/user/TradingService]: Dispose
[INFO] [12/06/2012 00:37:06.226] [pool-4-thread-2] [akka://StrategyEngineActorSpec/user/StrategyEngine] Prepare strategies
[INFO] [12/06/2012 00:37:06.227] [pool-4-thread-2] [akka://StrategyEngineActorSpec/user/StrategyEngine] Start strategy, Id = CoverAllPositions
[INFO] [12/06/2012 00:37:06.242] [pool-4-thread-1] [akka://TradingServiceSpec/user/TradingService] Start Trading service
[WARN] [12/06/2012 00:37:06.242] [TradingServiceSpec-akka.actor.default-dispatcher-7] [akka://TradingServiceSpec/deadLetters] received dead letter from TestActor[akka://TradingServiceSpec/user/TradingService]: SubscribeOngoingSessions(TestActor[akka://TradingServiceSpec/user/OrderTracker])
[INFO] [12/06/2012 00:37:06.355] [StrategyEngineActorSpec-akka.actor.default-dispatcher-1] [akka://StrategyEngineActorSpec/user/StrategyEngine/CoverAllPositions] Started CoverPositions
[DEBUG] [12/06/2012 00:37:06.355] [StrategyEngineActorSpec-akka.actor.default-dispatcher-1] [akka://StrategyEngineActorSpec/user/StrategyEngine/CoverAllPositions] Going to cover positions = Map(FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1) -> Position(1), FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2) -> Position(3))
[INFO] [12/06/2012 00:37:06.356] [StrategyEngineActorSpec-akka.actor.default-dispatcher-1] [akka://StrategyEngineActorSpec/user/StrategyEngine] Strategy ready, Id = CoverAllPositions, positions = Map(FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1) -> Position(1), FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2) -> Position(3))
[INFO] [12/06/2012 00:37:06.380] [pool-4-thread-1] [akka://TradingServiceSpec/system/testActor1] Buy Report = OrderExecution(security = FutureContract(IsinId(100),Isin(Isin),ShortIsisn(Short),), order = Mock for Order, hashCode: 26662173)
[INFO] [12/06/2012 00:37:06.385] [pool-4-thread-1] [akka://TradingServiceSpec/system/testActor1] Sell Report = OrderExecution(security = FutureContract(IsinId(100),Isin(Isin),ShortIsisn(Short),), order = Mock for Order, hashCode: 14606315)
[ERROR] [12/06/2012 00:37:06.387] [TradingServiceSpec-akka.actor.default-dispatcher-2] [akka://TradingServiceSpec/user/TradingService/Broker] Publisher failed, reason = Shutdown
[ERROR] [12/06/2012 00:37:06.387] [TradingServiceSpec-akka.actor.default-dispatcher-9] [akka://TradingServiceSpec/user/TradingService/RepliesListener] Listener failed, reason = Shutdown
[ERROR] [12/06/2012 00:37:06.387] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/TradingService/FutOrdersListener] Listener failed, reason = Shutdown
[ERROR] [12/06/2012 00:37:06.388] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/TradingService/OptOrdersListener] Listener failed, reason = Shutdown
[INFO] [12/06/2012 00:37:06.388] [pool-4-thread-2] [akka://StrategyEngineActorSpec/system/testActor2] Engine state = StrategiesReady
[DEBUG] [12/06/2012 00:37:06.391] [TradingServiceSpec-akka.actor.default-dispatcher-2] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:06.391] [TradingServiceSpec-akka.actor.default-dispatcher-2] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:06.393] [pool-4-thread-2] [akka://StrategyEngineActorSpec/user/Portfolio] Assigned contents; Size = 2
[DEBUG] [12/06/2012 00:37:06.393] [TradingServiceSpec-akka.actor.default-dispatcher-2] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:37:06.393] [pool-4-thread-2] [akka://StrategyEngineActorSpec/user/Portfolio] Position updated; Security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1)
[INFO] [12/06/2012 00:37:06.394] [StrategyEngineActorSpec-akka.actor.default-dispatcher-1] [akka://StrategyEngineActorSpec/user/Portfolio/RTS-9.12] Opened position; Security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1)
[DEBUG] [12/06/2012 00:37:06.394] [pool-4-thread-2] [akka://StrategyEngineActorSpec/user/Portfolio] Position updated; Security = FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2)
[DEBUG] [12/06/2012 00:37:06.394] [StrategyEngineActorSpec-akka.actor.default-dispatcher-1] [akka://StrategyEngineActorSpec/user/Portfolio/RTS-9.12] Position updated to Position(1), dynamics = PositionDynamics(0,1,0,0,None)
[INFO] [12/06/2012 00:37:06.394] [StrategyEngineActorSpec-akka.actor.default-dispatcher-2] [akka://StrategyEngineActorSpec/user/Portfolio/RTS-12.12] Opened position; Security = FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2)
[DEBUG] [12/06/2012 00:37:06.394] [StrategyEngineActorSpec-akka.actor.default-dispatcher-2] [akka://StrategyEngineActorSpec/user/Portfolio/RTS-12.12] Position updated to Position(3), dynamics = PositionDynamics(0,5,2,0,None)
[INFO] [12/06/2012 00:37:06.402] [StrategyEngineActorSpec-akka.actor.default-dispatcher-5] [akka://StrategyEngineActorSpec/user/$$a/StrategyEngine] Prepare strategies
[INFO] [12/06/2012 00:37:06.402] [StrategyEngineActorSpec-akka.actor.default-dispatcher-5] [akka://StrategyEngineActorSpec/user/$$a/StrategyEngine] Start strategy, Id = CoverAllPositions
[INFO] [12/06/2012 00:37:06.402] [StrategyEngineActorSpec-akka.actor.default-dispatcher-5] [akka://StrategyEngineActorSpec/user/$$a/StrategyEngine] Start strategy, Id = TestStrategy
[WARN] [12/06/2012 00:37:06.403] [StrategyEngineActorSpec-akka.actor.default-dispatcher-3] [akka://StrategyEngineActorSpec/deadLetters] received dead letter from Actor[akka://StrategyEngineActorSpec/user/$$a/StrategyEngine/TestStrategy]: Started
[INFO] [12/06/2012 00:37:06.404] [StrategyEngineActorSpec-akka.actor.default-dispatcher-3] [akka://StrategyEngineActorSpec/user/$$a/StrategyEngine] Strategy ready, Id = TestStrategy, positions = Map(FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1) -> Position(1), FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2) -> Position(1))
[INFO] [12/06/2012 00:37:06.407] [StrategyEngineActorSpec-akka.actor.default-dispatcher-5] [akka://StrategyEngineActorSpec/user/$$a/StrategyEngine/CoverAllPositions] Started CoverPositions
[DEBUG] [12/06/2012 00:37:06.407] [StrategyEngineActorSpec-akka.actor.default-dispatcher-5] [akka://StrategyEngineActorSpec/user/$$a/StrategyEngine/CoverAllPositions] Going to cover positions = Map(FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1) -> Position(1), FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2) -> Position(3))
[INFO] [12/06/2012 00:37:06.407] [StrategyEngineActorSpec-akka.actor.default-dispatcher-1] [akka://StrategyEngineActorSpec/user/$$a/StrategyEngine] Strategy ready, Id = CoverAllPositions, positions = Map(FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1) -> Position(1), FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2) -> Position(3))
[info] TradingServiceSpec:
[info] Trading Service 
[info] - must initialized in Idle state
[info] - must start service
[info]   + Given Trading service 
[info]   + When receive Start message 
[info]   + When should go to Starting state 
[info]   + When broker Active and both streams goes Online 
[info]   + Then service shoud be started 
[info]   + And Service Manager should be notified 
[info] - must stop service
[info]   + Given Trading service in started state 
[info]   + When receive Stop message 
[info]   + When should go to Stopping state 
[info]   + When broker Closed and both streams Closed too 
[info]   + Then service shoud be stopped 
[info]   + And Service Manager should be notified 
[info] - must buy & sell future
[info]   + Given Trading service in started state 
[info]   + When receive buy command 
[info]   + Then should return OrderExecution 
[info]   + When receive Sell command 
[info]   + Then should return OrderExecution 
[ERROR] [12/06/2012 00:37:06.409] [TradingServiceSpec-akka.actor.default-dispatcher-2] [akka://TradingServiceSpec/user/TradingService/OrdersTracking] Time out with receiving OngoingSession
com.ergodicity.core.order.OrdersTrackingException: Time out with receiving OngoingSession
	at com.ergodicity.core.order.OrdersTracking$$anonfun$3.apply(OrdersTracking.scala:58)
	at com.ergodicity.core.order.OrdersTracking$$anonfun$3.apply(OrdersTracking.scala:55)
	at akka.actor.FSM$class.processEvent(FSM.scala:486)
	at com.ergodicity.core.order.OrdersTracking.akka$actor$LoggingFSM$$super$processEvent(OrdersTracking.scala:39)
	at akka.actor.LoggingFSM$class.processEvent(FSM.scala:605)
	at com.ergodicity.core.order.OrdersTracking.processEvent(OrdersTracking.scala:39)
	at akka.actor.FSM$class.akka$actor$FSM$$processMsg(FSM.scala:480)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:440)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:437)
	at akka.actor.Actor$class.apply(Actor.scala:318)
	at com.ergodicity.core.order.OrdersTracking.apply(OrdersTracking.scala:39)
	at akka.actor.ActorCell.invoke(ActorCell.scala:626)
	at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:197)
	at akka.dispatch.Mailbox.run(Mailbox.scala:179)
	at akka.dispatch.ForkJoinExecutorConfigurator$MailboxExecutionTask.exec(AbstractDispatcher.scala:516)
	at akka.jsr166y.ForkJoinTask.doExec(ForkJoinTask.java:259)
	at akka.jsr166y.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:975)
	at akka.jsr166y.ForkJoinPool.runWorker(ForkJoinPool.java:1479)
	at akka.jsr166y.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:104)

[ERROR] [12/06/2012 00:37:06.408] [TradingServiceSpec-akka.actor.default-dispatcher-5] [akka://TradingServiceSpec/user/TradingService/OrdersTracking] Time out with receiving OngoingSession
com.ergodicity.core.order.OrdersTrackingException: Time out with receiving OngoingSession
	at com.ergodicity.core.order.OrdersTracking$$anonfun$3.apply(OrdersTracking.scala:58)
	at com.ergodicity.core.order.OrdersTracking$$anonfun$3.apply(OrdersTracking.scala:55)
	at akka.actor.FSM$class.processEvent(FSM.scala:486)
	at com.ergodicity.core.order.OrdersTracking.akka$actor$LoggingFSM$$super$processEvent(OrdersTracking.scala:39)
	at akka.actor.LoggingFSM$class.processEvent(FSM.scala:605)
	at com.ergodicity.core.order.OrdersTracking.processEvent(OrdersTracking.scala:39)
	at akka.actor.FSM$class.akka$actor$FSM$$processMsg(FSM.scala:480)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:440)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:437)
	at akka.actor.Actor$class.apply(Actor.scala:318)
	at com.ergodicity.core.order.OrdersTracking.apply(OrdersTracking.scala:39)
	at akka.actor.ActorCell.invoke(ActorCell.scala:626)
	at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:197)
	at akka.dispatch.Mailbox.run(Mailbox.scala:179)
	at akka.dispatch.ForkJoinExecutorConfigurator$MailboxExecutionTask.exec(AbstractDispatcher.scala:516)
	at akka.jsr166y.ForkJoinTask.doExec(ForkJoinTask.java:259)
	at akka.jsr166y.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:975)
	at akka.jsr166y.ForkJoinPool.runWorker(ForkJoinPool.java:1479)
	at akka.jsr166y.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:104)

00:37:06.415 [pool-4-thread-4] INFO  c.e.schema.ErgodicitySchemaSpec - Selected = Session(sess_id=100, opt_sess_id=100)
00:37:06.418 [pool-4-thread-4] INFO  c.e.schema.ErgodicitySchemaSpec - Session  = Session(sess_id=100, opt_sess_id=100)
[DEBUG] [12/06/2012 00:37:06.421] [pool-4-thread-1] [EventStream(akka://InstrumentDataServiceSpec)] logger log1-TestEventListener started
[DEBUG] [12/06/2012 00:37:06.421] [pool-4-thread-1] [EventStream(akka://InstrumentDataServiceSpec)] Default Loggers started
[ERROR] [12/06/2012 00:37:06.423] [StrategyEngineActorSpec-akka.actor.default-dispatcher-6] [akka://StrategyEngineActorSpec/user/$$a/StrategyEngine] Reconciliation failed, mismatches = Set(Mismatch(FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1),Position(1),Position(2),Map(CoverAllPositions -> Position(1), TestStrategy -> Position(1))), Mismatch(FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2),Position(3),Position(4),Map(CoverAllPositions -> Position(3), TestStrategy -> Position(1))))
[ERROR] [12/06/2012 00:37:06.423] [StrategyEngineActorSpec-akka.actor.default-dispatcher-6] [akka://StrategyEngineActorSpec/user/$$a/StrategyEngine] Reconciliation failed; Mismatches size = 2
com.ergodicity.engine.StrategyEngine$ReconciliationFailed: Reconciliation failed; Mismatches size = 2
	at com.ergodicity.engine.StrategyEngineActor$$anonfun$13.apply(StrategyEngine.scala:166)
	at com.ergodicity.engine.StrategyEngineActor$$anonfun$13.apply(StrategyEngine.scala:160)
	at akka.actor.FSM$class.processEvent(FSM.scala:486)
	at com.ergodicity.engine.StrategyEngineActor.akka$actor$LoggingFSM$$super$processEvent(StrategyEngine.scala:125)
	at akka.actor.LoggingFSM$class.processEvent(FSM.scala:605)
	at com.ergodicity.engine.StrategyEngineActor.processEvent(StrategyEngine.scala:125)
	at akka.actor.FSM$class.akka$actor$FSM$$processMsg(FSM.scala:480)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:474)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:437)
	at akka.actor.Actor$class.apply(Actor.scala:318)
	at com.ergodicity.engine.StrategyEngineActor.apply(StrategyEngine.scala:125)
	at akka.actor.ActorCell.invoke(ActorCell.scala:626)
	at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:197)
	at akka.dispatch.Mailbox.run(Mailbox.scala:179)
	at akka.dispatch.ForkJoinExecutorConfigurator$MailboxExecutionTask.exec(AbstractDispatcher.scala:516)
	at akka.jsr166y.ForkJoinTask.doExec(ForkJoinTask.java:259)
	at akka.jsr166y.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:975)
	at akka.jsr166y.ForkJoinPool.runWorker(ForkJoinPool.java:1479)
	at akka.jsr166y.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:104)

[ERROR] [12/06/2012 00:37:06.425] [TradingServiceSpec-akka.actor.default-dispatcher-5] [akka://TradingServiceSpec/user/TradingService/OrdersTracking] error while creating actor
java.lang.IllegalStateException: cannot be started once stopped
	at org.jboss.netty.akka.util.HashedWheelTimer.start(HashedWheelTimer.java:192)
	at org.jboss.netty.akka.util.HashedWheelTimer.newTimeout(HashedWheelTimer.java:260)
	at akka.actor.DefaultScheduler.scheduleOnce(Scheduler.scala:177)
	at akka.actor.FSM$class.makeTransition(FSM.scala:519)
	at com.ergodicity.core.order.OrdersTracking.makeTransition(OrdersTracking.scala:39)
	at akka.actor.FSM$class.initialize(FSM.scala:355)
	at com.ergodicity.core.order.OrdersTracking.initialize(OrdersTracking.scala:39)
	at com.ergodicity.core.order.OrdersTracking.<init>(OrdersTracking.scala:85)
	at com.ergodicity.engine.service.TradingService$$anonfun$6.apply(Trading.scala:112)
	at com.ergodicity.engine.service.TradingService$$anonfun$6.apply(Trading.scala:112)
	at akka.actor.ActorCell.newActor(ActorCell.scala:488)
	at akka.actor.ActorCell.doRecreate(ActorCell.scala:716)
	at akka.actor.ActorCell.handleChildTerminated(ActorCell.scala:746)
	at akka.actor.ActorCell.systemInvoke(ActorCell.scala:608)
	at akka.dispatch.Mailbox.processAllSystemMessages(Mailbox.scala:209)
	at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:198)
	at akka.dispatch.Mailbox.run(Mailbox.scala:179)
	at akka.dispatch.ForkJoinExecutorConfigurator$MailboxExecutionTask.exec(AbstractDispatcher.scala:516)
	at akka.jsr166y.ForkJoinTask.doExec(ForkJoinTask.java:259)
	at akka.jsr166y.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:975)
	at akka.jsr166y.ForkJoinPool.runWorker(ForkJoinPool.java:1479)
	at akka.jsr166y.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:104)

[ERROR] [12/06/2012 00:37:06.425] [TradingServiceSpec-akka.actor.default-dispatcher-2] [akka://TradingServiceSpec/user/TradingService/OrdersTracking] error while creating actor
java.lang.IllegalStateException: cannot be started once stopped
	at org.jboss.netty.akka.util.HashedWheelTimer.start(HashedWheelTimer.java:192)
	at org.jboss.netty.akka.util.HashedWheelTimer.newTimeout(HashedWheelTimer.java:260)
	at akka.actor.DefaultScheduler.scheduleOnce(Scheduler.scala:177)
	at akka.actor.FSM$class.makeTransition(FSM.scala:519)
	at com.ergodicity.core.order.OrdersTracking.makeTransition(OrdersTracking.scala:39)
	at akka.actor.FSM$class.initialize(FSM.scala:355)
	at com.ergodicity.core.order.OrdersTracking.initialize(OrdersTracking.scala:39)
	at com.ergodicity.core.order.OrdersTracking.<init>(OrdersTracking.scala:85)
	at com.ergodicity.engine.service.TradingService$$anonfun$6.apply(Trading.scala:112)
	at com.ergodicity.engine.service.TradingService$$anonfun$6.apply(Trading.scala:112)
	at akka.actor.ActorCell.newActor(ActorCell.scala:488)
	at akka.actor.ActorCell.doRecreate(ActorCell.scala:716)
	at akka.actor.ActorCell.handleChildTerminated(ActorCell.scala:746)
	at akka.actor.ActorCell.systemInvoke(ActorCell.scala:608)
	at akka.dispatch.Mailbox.processAllSystemMessages(Mailbox.scala:209)
	at akka.dispatch.Mailbox.run(Mailbox.scala:178)
	at akka.dispatch.ForkJoinExecutorConfigurator$MailboxExecutionTask.exec(AbstractDispatcher.scala:516)
	at akka.jsr166y.ForkJoinTask.doExec(ForkJoinTask.java:259)
	at akka.jsr166y.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:975)
	at akka.jsr166y.ForkJoinPool.runWorker(ForkJoinPool.java:1479)
	at akka.jsr166y.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:104)

[info] StrategyEngineActorSpec:
[info] Strategy Engine 
[info] - must prepare all strategies
[info]   + Given Engine with one Strategy 
[info]   + When engine receives StartStrategies message 
[info]   + Then it should start all strategies from factroy 
[info]   + And go to Preparing$ state 
[info] - must fail to start strategies with same name
[info]   + Given Engine with one Strategy 
[info]   + When engine receives StartStrategies message 
[info] - must succesfully prepare strategies when positions reconciled
[info] - must fail on reconciling duplicated positions
[INFO] [12/06/2012 00:37:06.432] [pool-4-thread-3] [akka://TrendFollowing/system/testActor3] regression = PriceSlope(2012-01-01T12:00:00.000+04:00,100,NaN,NaN)
[INFO] [12/06/2012 00:37:06.432] [pool-4-thread-3] [akka://TrendFollowing/system/testActor3] regression = PriceSlope(2012-01-01T12:00:10.000+04:00,110,0.9999999999999998,NaN)
[INFO] [12/06/2012 00:37:06.432] [pool-4-thread-3] [akka://TrendFollowing/system/testActor3] regression = PriceSlope(2012-01-01T12:00:20.000+04:00,500,0.8767770460435937,-1.0)
[INFO] [12/06/2012 00:37:06.432] [pool-4-thread-3] [akka://TrendFollowing/system/testActor3] regression = PriceSlope(2012-01-01T12:00:30.000+04:00,500,0.8999439354634345,-0.7639304439539426)
[INFO] [12/06/2012 00:37:06.432] [pool-4-thread-3] [akka://TrendFollowing/system/testActor3] regression = PriceSlope(2012-01-01T12:00:40.000+04:00,50,0.20152499532221196,-0.8368785736371755)
[DEBUG] [12/06/2012 00:37:06.434] [StrategyEngineActorSpec-akka.actor.default-dispatcher-6] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:06.434] [StrategyEngineActorSpec-akka.actor.default-dispatcher-6] [EventStream] all default loggers stopped
00:37:06.439 [pool-4-thread-4] INFO  c.e.schema.ErgodicitySchemaSpec - Updated = Session(sess_id=100, opt_sess_id=100)
[DEBUG] [12/06/2012 00:37:06.441] [pool-4-thread-2] [EventStream(akka://PositionManagerSpec)] logger log1-TestEventListener started
[DEBUG] [12/06/2012 00:37:06.441] [pool-4-thread-2] [EventStream(akka://PositionManagerSpec)] Default Loggers started
[INFO] [12/06/2012 00:37:06.443] [InstrumentDataServiceSpec-akka.actor.default-dispatcher-2] [akka://InstrumentDataServiceSpec/user/InstrumentDataService/SessionsTracking] Start session tracking
[WARN] [12/06/2012 00:37:06.452] [PositionManagerSpec-akka.actor.default-dispatcher-2] [akka://PositionManagerSpec/deadLetters] received dead letter from Actor[akka://PositionManagerSpec/user/Sessions/FutInfoDispatcher]: SubscribeStreamEvents(Actor[akka://PositionManagerSpec/user/Sessions/FutInfoDispatcher])
[INFO] [12/06/2012 00:37:06.452] [pool-4-thread-2] [akka://PositionManagerSpec/user/Sessions] Start session tracking
[WARN] [12/06/2012 00:37:06.452] [PositionManagerSpec-akka.actor.default-dispatcher-2] [akka://PositionManagerSpec/deadLetters] received dead letter from Actor[akka://PositionManagerSpec/user/Sessions/OptInfoDispatcher]: SubscribeStreamEvents(Actor[akka://PositionManagerSpec/user/Sessions/OptInfoDispatcher])
[INFO] [12/06/2012 00:37:06.452] [pool-4-thread-2] [akka://PositionManagerSpec/user/Sessions] Synchonized event = SynchronizedEvent(SessionDataReady(1,100),SessionDataReady(1,100))
[INFO] [12/06/2012 00:37:06.453] [PositionManagerSpec-akka.actor.default-dispatcher-3] [akka://PositionManagerSpec/user/Sessions/100/Futures] Start SessionContents
[INFO] [12/06/2012 00:37:06.453] [PositionManagerSpec-akka.actor.default-dispatcher-1] [akka://PositionManagerSpec/user/Sessions/100/Options] Start SessionContents
[INFO] [12/06/2012 00:37:06.454] [PositionManagerSpec-akka.actor.default-dispatcher-1] [akka://PositionManagerSpec/user/Sessions/100/Futures/RTS-9.12] Started instrument for security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1)
[INFO] [12/06/2012 00:37:06.454] [PositionManagerSpec-akka.actor.default-dispatcher-6] [akka://PositionManagerSpec/user/Sessions/100/Futures/RTS-12.12] Started instrument for security = FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2)
[INFO] [12/06/2012 00:37:06.457] [pool-4-thread-2] [akka://PositionManagerSpec/user/PositionManager] Start position manager for isin = Isin(RTS-9.12), initial position = Position(0)
[INFO] [12/06/2012 00:37:06.458] [PositionManagerSpec-akka.actor.default-dispatcher-6] [akka://PositionManagerSpec/user/Strategy/WatchDog-RTS-9.12] Catched ongoing session, session id = SessionId(100,100)
[DEBUG] [12/06/2012 00:37:06.458] [PositionManagerSpec-akka.actor.default-dispatcher-2] [akka://PositionManagerSpec/user/Sessions/100/Options] Get session instrument: FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1); Result = None
[DEBUG] [12/06/2012 00:37:06.458] [PositionManagerSpec-akka.actor.default-dispatcher-4] [akka://PositionManagerSpec/user/Sessions/100/Futures] Get session instrument: FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1); Result = Some((FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1),Actor[akka://PositionManagerSpec/user/Sessions/100/Futures/RTS-9.12]))
[INFO] [12/06/2012 00:37:06.459] [PositionManagerSpec-akka.actor.default-dispatcher-2] [akka://PositionManagerSpec/user/Strategy/WatchDog-RTS-9.12] Catched instrument for isin = Isin(RTS-9.12); ref = InstrumentRef(null,FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1),Actor[akka://PositionManagerSpec/user/Sessions/100/Futures/RTS-9.12])
[INFO] [12/06/2012 00:37:06.460] [PositionManagerSpec-akka.actor.default-dispatcher-2] [akka://PositionManagerSpec/user/PositionManager] Catched assigned instrument; Isin = Isin(RTS-9.12), session = null, security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1)
[DEBUG] [12/06/2012 00:37:06.460] [PositionManagerSpec-akka.actor.default-dispatcher-2] [akka://PositionManagerSpec/user/PositionManager] Ready to trade; Underlying instrument = UnderlyingInstrument(FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1),FutureParameters(100,Limits(10,20)),Online)
[INFO] [12/06/2012 00:37:06.460] [PositionManagerSpec-akka.actor.default-dispatcher-2] [akka://PositionManagerSpec/user/PositionManager] Position balanced
[INFO] [12/06/2012 00:37:06.462] [InstrumentDataServiceSpec-akka.actor.default-dispatcher-4] [akka://InstrumentDataServiceSpec/user/InstrumentDataService/SessionsTracking] Start session tracking
[INFO] [12/06/2012 00:37:06.462] [pool-4-thread-1] [akka://InstrumentDataServiceSpec/user/InstrumentDataService] Start InstrumentData service
[INFO] [12/06/2012 00:37:06.462] [InstrumentDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://InstrumentDataServiceSpec/user/InstrumentDataService/FutInfoListener] Open listener with config = mode=snapshot+online
[INFO] [12/06/2012 00:37:06.463] [InstrumentDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://InstrumentDataServiceSpec/user/InstrumentDataService/OptInfoListener] Open listener with config = mode=snapshot+online
[WARN] [12/06/2012 00:37:06.584] [PositionManagerSpec-akka.actor.default-dispatcher-6] [akka://PositionManagerSpec/deadLetters] received dead letter from Actor[akka://PositionManagerSpec/user/Sessions/FutInfoDispatcher]: SubscribeStreamEvents(Actor[akka://PositionManagerSpec/user/Sessions/FutInfoDispatcher])
[INFO] [12/06/2012 00:37:06.584] [pool-4-thread-2] [akka://PositionManagerSpec/user/Sessions] Start session tracking
[WARN] [12/06/2012 00:37:06.584] [PositionManagerSpec-akka.actor.default-dispatcher-6] [akka://PositionManagerSpec/deadLetters] received dead letter from Actor[akka://PositionManagerSpec/user/Sessions/OptInfoDispatcher]: SubscribeStreamEvents(Actor[akka://PositionManagerSpec/user/Sessions/OptInfoDispatcher])
[INFO] [12/06/2012 00:37:06.584] [pool-4-thread-2] [akka://PositionManagerSpec/user/Sessions] Synchonized event = SynchronizedEvent(SessionDataReady(1,100),SessionDataReady(1,100))
[INFO] [12/06/2012 00:37:06.585] [PositionManagerSpec-akka.actor.default-dispatcher-2] [akka://PositionManagerSpec/user/Sessions/100/Options] Start SessionContents
[INFO] [12/06/2012 00:37:06.585] [pool-4-thread-2] [akka://PositionManagerSpec/user/PositionManager] Start position manager for isin = Isin(RTS-9.12), initial position = Position(0)
[INFO] [12/06/2012 00:37:06.586] [PositionManagerSpec-akka.actor.default-dispatcher-4] [akka://PositionManagerSpec/user/Sessions/100/Futures] Start SessionContents
[INFO] [12/06/2012 00:37:06.587] [PositionManagerSpec-akka.actor.default-dispatcher-6] [akka://PositionManagerSpec/user/Sessions/100/Futures/RTS-9.12] Started instrument for security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1)
[INFO] [12/06/2012 00:37:06.587] [PositionManagerSpec-akka.actor.default-dispatcher-2] [akka://PositionManagerSpec/user/Strategy/WatchDog-RTS-9.12] Catched ongoing session, session id = SessionId(100,100)
[INFO] [12/06/2012 00:37:06.587] [PositionManagerSpec-akka.actor.default-dispatcher-6] [akka://PositionManagerSpec/user/Sessions/100/Futures/RTS-12.12] Started instrument for security = FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2)
[DEBUG] [12/06/2012 00:37:06.588] [PositionManagerSpec-akka.actor.default-dispatcher-4] [akka://PositionManagerSpec/user/Sessions/100/Options] Get session instrument: FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1); Result = None
[DEBUG] [12/06/2012 00:37:06.588] [PositionManagerSpec-akka.actor.default-dispatcher-1] [akka://PositionManagerSpec/user/Sessions/100/Futures] Get session instrument: FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1); Result = Some((FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1),Actor[akka://PositionManagerSpec/user/Sessions/100/Futures/RTS-9.12]))
[INFO] [12/06/2012 00:37:06.589] [PositionManagerSpec-akka.actor.default-dispatcher-9] [akka://PositionManagerSpec/user/Strategy/WatchDog-RTS-9.12] Catched instrument for isin = Isin(RTS-9.12); ref = InstrumentRef(null,FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1),Actor[akka://PositionManagerSpec/user/Sessions/100/Futures/RTS-9.12])
[INFO] [12/06/2012 00:37:06.589] [PositionManagerSpec-akka.actor.default-dispatcher-9] [akka://PositionManagerSpec/user/PositionManager] Catched assigned instrument; Isin = Isin(RTS-9.12), session = null, security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1)
[DEBUG] [12/06/2012 00:37:06.590] [PositionManagerSpec-akka.actor.default-dispatcher-9] [akka://PositionManagerSpec/user/PositionManager] Ready to trade; Underlying instrument = UnderlyingInstrument(FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1),FutureParameters(100,Limits(10,20)),Online)
[INFO] [12/06/2012 00:37:06.590] [PositionManagerSpec-akka.actor.default-dispatcher-9] [akka://PositionManagerSpec/user/PositionManager] Position balanced
[INFO] [12/06/2012 00:37:06.690] [pool-4-thread-2] [akka://PositionManagerSpec/user/PositionManager] Balancing position
[WARN] [12/06/2012 00:37:06.735] [PositionManagerSpec-akka.actor.default-dispatcher-2] [akka://PositionManagerSpec/deadLetters] received dead letter from Actor[akka://PositionManagerSpec/deadLetters]: SubscribeOrderEvents(TestActor[akka://PositionManagerSpec/user/PositionManager])
[INFO] [12/06/2012 00:37:06.736] [pool-4-thread-2] [akka://PositionManagerSpec/user/PositionManager] Order filled; Deal = None
[INFO] [12/06/2012 00:37:06.736] [pool-4-thread-2] [akka://PositionManagerSpec/user/PositionManager] Position balanced
[INFO] [12/06/2012 00:37:06.743] [pool-4-thread-2] [akka://PositionManagerSpec/user/Sessions] Start session tracking
[WARN] [12/06/2012 00:37:06.743] [PositionManagerSpec-akka.actor.default-dispatcher-7] [akka://PositionManagerSpec/deadLetters] received dead letter from Actor[akka://PositionManagerSpec/user/Sessions/FutInfoDispatcher]: SubscribeStreamEvents(Actor[akka://PositionManagerSpec/user/Sessions/FutInfoDispatcher])
[WARN] [12/06/2012 00:37:06.743] [PositionManagerSpec-akka.actor.default-dispatcher-7] [akka://PositionManagerSpec/deadLetters] received dead letter from Actor[akka://PositionManagerSpec/user/Sessions/OptInfoDispatcher]: SubscribeStreamEvents(Actor[akka://PositionManagerSpec/user/Sessions/OptInfoDispatcher])
[INFO] [12/06/2012 00:37:06.743] [pool-4-thread-2] [akka://PositionManagerSpec/user/Sessions] Synchonized event = SynchronizedEvent(SessionDataReady(1,100),SessionDataReady(1,100))
[INFO] [12/06/2012 00:37:06.744] [PositionManagerSpec-akka.actor.default-dispatcher-2] [akka://PositionManagerSpec/user/Sessions/100/Options] Start SessionContents
[INFO] [12/06/2012 00:37:06.744] [PositionManagerSpec-akka.actor.default-dispatcher-9] [akka://PositionManagerSpec/user/Sessions/100/Futures] Start SessionContents
[INFO] [12/06/2012 00:37:06.744] [pool-4-thread-2] [akka://PositionManagerSpec/user/PositionManager] Start position manager for isin = Isin(RTS-9.12), initial position = Position(0)
[INFO] [12/06/2012 00:37:06.745] [PositionManagerSpec-akka.actor.default-dispatcher-2] [akka://PositionManagerSpec/user/Sessions/100/Futures/RTS-9.12] Started instrument for security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1)
[INFO] [12/06/2012 00:37:06.745] [PositionManagerSpec-akka.actor.default-dispatcher-8] [akka://PositionManagerSpec/user/Strategy/WatchDog-RTS-9.12] Catched ongoing session, session id = SessionId(100,100)
[INFO] [12/06/2012 00:37:06.745] [PositionManagerSpec-akka.actor.default-dispatcher-5] [akka://PositionManagerSpec/user/Sessions/100/Futures/RTS-12.12] Started instrument for security = FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2)
[DEBUG] [12/06/2012 00:37:06.746] [PositionManagerSpec-akka.actor.default-dispatcher-1] [akka://PositionManagerSpec/user/Sessions/100/Options] Get session instrument: FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1); Result = None
[DEBUG] [12/06/2012 00:37:06.746] [PositionManagerSpec-akka.actor.default-dispatcher-9] [akka://PositionManagerSpec/user/Sessions/100/Futures] Get session instrument: FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1); Result = Some((FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1),Actor[akka://PositionManagerSpec/user/Sessions/100/Futures/RTS-9.12]))
[INFO] [12/06/2012 00:37:06.747] [PositionManagerSpec-akka.actor.default-dispatcher-1] [akka://PositionManagerSpec/user/Strategy/WatchDog-RTS-9.12] Catched instrument for isin = Isin(RTS-9.12); ref = InstrumentRef(null,FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1),Actor[akka://PositionManagerSpec/user/Sessions/100/Futures/RTS-9.12])
[INFO] [12/06/2012 00:37:06.747] [PositionManagerSpec-akka.actor.default-dispatcher-1] [akka://PositionManagerSpec/user/PositionManager] Catched assigned instrument; Isin = Isin(RTS-9.12), session = null, security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1)
[DEBUG] [12/06/2012 00:37:06.748] [PositionManagerSpec-akka.actor.default-dispatcher-1] [akka://PositionManagerSpec/user/PositionManager] Ready to trade; Underlying instrument = UnderlyingInstrument(FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1),FutureParameters(100,Limits(10,20)),Online)
[INFO] [12/06/2012 00:37:06.748] [PositionManagerSpec-akka.actor.default-dispatcher-1] [akka://PositionManagerSpec/user/PositionManager] Position balanced
[info] ErgodicitySchemaSpec:
[info] Ergodicity Schema 
[info] - should load sessions
[DEBUG] [12/06/2012 00:37:06.795] [pool-4-thread-4] [EventStream(akka://PortfolioServiceSpec)] logger log1-TestEventListener started
[DEBUG] [12/06/2012 00:37:06.795] [pool-4-thread-4] [EventStream(akka://PortfolioServiceSpec)] Default Loggers started
[INFO] [12/06/2012 00:37:06.826] [pool-4-thread-4] [akka://PortfolioServiceSpec/user/Portfolio] Start Portfolio service
[WARN] [12/06/2012 00:37:06.826] [PortfolioServiceSpec-akka.actor.default-dispatcher-1] [akka://PortfolioServiceSpec/deadLetters] received dead letter from TestActor[akka://PortfolioServiceSpec/user/Portfolio]: SubscribeOngoingSessions(TestActor[akka://PortfolioServiceSpec/user/Portfolio])
[DEBUG] [12/06/2012 00:37:06.827] [PortfolioServiceSpec-akka.actor.default-dispatcher-1] [akka://PortfolioServiceSpec/user/Portfolio/Positions] Assigned contents; Size = 0
[INFO] [12/06/2012 00:37:06.827] [PortfolioServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://PortfolioServiceSpec/user/Portfolio/PosListener] Open listener with config = mode=snapshot+online
[INFO] [12/06/2012 00:37:06.845] [pool-4-thread-2] [akka://PositionManagerSpec/user/PositionManager] Balancing position
[WARN] [12/06/2012 00:37:06.846] [PositionManagerSpec-akka.actor.default-dispatcher-2] [akka://PositionManagerSpec/deadLetters] received dead letter from Actor[akka://PositionManagerSpec/deadLetters]: SubscribeOrderEvents(TestActor[akka://PositionManagerSpec/user/PositionManager])
[INFO] [12/06/2012 00:37:06.846] [pool-4-thread-2] [akka://PositionManagerSpec/user/PositionManager] Order filled; Deal = None
[info] PositionManagerSpec:
[info] PositionManager 
[info] - must wait for position manager catch instrument and goes to balanced state
[info] - must balance acquired position from Balanced state
[info]   + When acquire position 
[info]   + Then should but required contracts 
[info]   + And go to Balancing state 
[info]   + When order filled 
[info]   + Then should go to Balanced state 
[info]   + When order cancelled 
[info]   + Then should remove it from internal storage 
[info] - must balance acquired position from Balancing state
[info]   + Given PositionManager in Balancing state 
[info]   + When acquire position 
[info]   + Then should but required contracts 
[info]   + And go to Balancing state 
[info]   + When order filled 
[info]   + Then stay in balancing state 
[ERROR] [12/06/2012 00:37:06.848] [PositionManagerSpec-akka.actor.default-dispatcher-9] [akka://PositionManagerSpec/user/Strategy/WatchDog-RTS-9.12] Watched instrument unexpectedly terminated
com.ergodicity.engine.strategy.InstrumentWatcherException: Watched instrument unexpectedly terminated
	at com.ergodicity.engine.strategy.InstrumentWatchDog$$anonfun$5.apply(InstrumentWatcher.scala:123)
	at com.ergodicity.engine.strategy.InstrumentWatchDog$$anonfun$5.apply(InstrumentWatcher.scala:117)
	at scala.PartialFunction$$anon$1.apply(PartialFunction.scala:75)
	at akka.actor.FSM$class.processEvent(FSM.scala:489)
	at com.ergodicity.engine.strategy.InstrumentWatchDog.akka$actor$LoggingFSM$$super$processEvent(InstrumentWatcher.scala:63)
	at akka.actor.LoggingFSM$class.processEvent(FSM.scala:605)
	at com.ergodicity.engine.strategy.InstrumentWatchDog.processEvent(InstrumentWatcher.scala:63)
	at akka.actor.FSM$class.akka$actor$FSM$$processMsg(FSM.scala:480)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:474)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:437)
	at akka.actor.Actor$class.apply(Actor.scala:318)
	at com.ergodicity.engine.strategy.InstrumentWatchDog.apply(InstrumentWatcher.scala:63)
	at akka.actor.ActorCell.invoke(ActorCell.scala:626)
	at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:197)
	at akka.dispatch.Mailbox.run(Mailbox.scala:179)
	at akka.dispatch.ForkJoinExecutorConfigurator$MailboxExecutionTask.exec(AbstractDispatcher.scala:516)
	at akka.jsr166y.ForkJoinTask.doExec(ForkJoinTask.java:259)
	at akka.jsr166y.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:975)
	at akka.jsr166y.ForkJoinPool.runWorker(ForkJoinPool.java:1479)
	at akka.jsr166y.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:104)

[DEBUG] [12/06/2012 00:37:06.849] [PositionManagerSpec-akka.actor.default-dispatcher-9] [EventStream] shutting down: StandardOutLogger started
[WARN] [12/06/2012 00:37:06.849] [PositionManagerSpec-akka.actor.default-dispatcher-2] [akka://PositionManagerSpec/user/Strategy] received dead letter from Actor[akka://PositionManagerSpec/user/Strategy/WatchDog-RTS-9.12]: Failed(com.ergodicity.engine.strategy.InstrumentWatcherException: Watched instrument unexpectedly terminated)
[DEBUG] [12/06/2012 00:37:06.850] [PositionManagerSpec-akka.actor.default-dispatcher-9] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:06.850] [PositionManagerSpec-akka.actor.default-dispatcher-9] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:37:06.855] [pool-4-thread-2] [EventStream(akka://TradesDataServiceSpec)] logger log1-TestEventListener started
[DEBUG] [12/06/2012 00:37:06.855] [pool-4-thread-2] [EventStream(akka://TradesDataServiceSpec)] Default Loggers started
[WARN] [12/06/2012 00:37:06.889] [TradesDataServiceSpec-akka.actor.default-dispatcher-1] [akka://TradesDataServiceSpec/user/TradesDataService] unhandled event CurrentState(Actor[akka://TradesDataServiceSpec/user/TradesDataService/FutTradeStream],Closed) in state Idle
[WARN] [12/06/2012 00:37:06.889] [TradesDataServiceSpec-akka.actor.default-dispatcher-4] [akka://TradesDataServiceSpec/user/TradesDataService] unhandled event CurrentState(Actor[akka://TradesDataServiceSpec/user/TradesDataService/OptTradeStream],Closed) in state Idle
[WARN] [12/06/2012 00:37:06.890] [TradesDataServiceSpec-akka.actor.default-dispatcher-3] [akka://TradesDataServiceSpec/user/TradesDataService] unhandled event CurrentState(Actor[akka://TradesDataServiceSpec/user/TradesDataService/FutTradeStream],Closed) in state Idle
[WARN] [12/06/2012 00:37:06.890] [TradesDataServiceSpec-akka.actor.default-dispatcher-2] [akka://TradesDataServiceSpec/user/TradesDataService] unhandled event CurrentState(Actor[akka://TradesDataServiceSpec/user/TradesDataService/OptTradeStream],Closed) in state Idle
[INFO] [12/06/2012 00:37:06.891] [pool-4-thread-2] [akka://TradesDataServiceSpec/user/TradesDataService] Start TradesData service
[WARN] [12/06/2012 00:37:06.891] [TradesDataServiceSpec-akka.actor.default-dispatcher-6] [akka://TradesDataServiceSpec/deadLetters] received dead letter from TestActor[akka://TradesDataServiceSpec/user/TradesDataService]: SubscribeOngoingSessions(TestActor[akka://TradesDataServiceSpec/user/TradesDataService])
[DEBUG] [12/06/2012 00:37:06.891] [TradesDataServiceSpec-akka.actor.default-dispatcher-6] [akka://TradesDataServiceSpec/user/TradesDataService/TradesTracking] Assigned contents; Size = 0
[INFO] [12/06/2012 00:37:06.891] [TradesDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradesDataServiceSpec/user/TradesDataService/FutTradesListener] Open listener with config = mode=online
[INFO] [12/06/2012 00:37:06.892] [TradesDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradesDataServiceSpec/user/TradesDataService/OptTradesListener] Open listener with config = mode=online
[INFO] [12/06/2012 00:37:06.948] [pool-4-thread-4] [akka://PortfolioServiceSpec/user/Portfolio] Stop Portfolio service
[WARN] [12/06/2012 00:37:06.948] [PortfolioServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://PortfolioServiceSpec/user/Portfolio/PosListener] unhandled event Close in state Closed
[INFO] [12/06/2012 00:37:06.948] [PortfolioServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://PortfolioServiceSpec/user/Portfolio/PosListener] Dispose listener
[ERROR] [12/06/2012 00:37:06.948] [PortfolioServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://PortfolioServiceSpec/user/Portfolio/PosListener] Disposed
[ERROR] [12/06/2012 00:37:06.948] [PortfolioServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://PortfolioServiceSpec/user/Portfolio/PosListener] Listener failed, reason = Failure(Disposed)
[WARN] [12/06/2012 00:37:06.949] [PortfolioServiceSpec-akka.actor.default-dispatcher-2] [akka://PortfolioServiceSpec/user/Portfolio/PosDataStream] received dead letter from Actor[akka://PortfolioServiceSpec/user/Portfolio/Positions/PositionsDispatcher]: SubscribeStreamEvents(Actor[akka://PortfolioServiceSpec/user/Portfolio/Positions/PositionsDispatcher])
[WARN] [12/06/2012 00:37:06.949] [PortfolioServiceSpec-akka.actor.default-dispatcher-2] [akka://PortfolioServiceSpec/user/Portfolio] received dead letter from Actor[akka://PortfolioServiceSpec/user/Portfolio/PosDataStream]: CurrentState(Actor[akka://PortfolioServiceSpec/user/Portfolio/PosDataStream],Closed)
[info] PortfolioServiceSpec:
[info] Portfolio Service 
[info] - must initizlied in idle state
[info] - must start service
[info]   + When receive start message 
[info]   + Then should wait for ongoing session & assigned contents 
[info]   + When got assigned contents 
[info]   + Then go to Starting state 
[info]   + When Pos data stream goes online 
[info]   + Then service shoud be started 
[info]   + And Service Manager should be notified 
[info] - must stop service
[info]   + When receive Stop message 
[info]   + Then should go to Stopping state 
[info]   + When Pos stream closed 
[info]   + Then service shoud be stopped 
[info]   + And service Manager should be notified 
[DEBUG] [12/06/2012 00:37:06.951] [PortfolioServiceSpec-akka.actor.default-dispatcher-1] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:06.951] [PortfolioServiceSpec-akka.actor.default-dispatcher-1] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:06.951] [PortfolioServiceSpec-akka.actor.default-dispatcher-1] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:37:06.959] [pool-4-thread-4] [EventStream(akka://InstrumentWatchDogSpec)] logger log1-TestEventListener started
[DEBUG] [12/06/2012 00:37:06.959] [pool-4-thread-4] [EventStream(akka://InstrumentWatchDogSpec)] Default Loggers started
[INFO] [12/06/2012 00:37:06.970] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-1] [akka://InstrumentWatchDogSpec/user/Session/Futures] Start SessionContents
[INFO] [12/06/2012 00:37:06.970] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-2] [akka://InstrumentWatchDogSpec/user/Session/Options] Start SessionContents
[INFO] [12/06/2012 00:37:06.970] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-3] [akka://InstrumentWatchDogSpec/user/Session/Futures/GMKR-6.12] Started instrument for security = FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract)
[WARN] [12/06/2012 00:37:06.994] [TradesDataServiceSpec-akka.actor.default-dispatcher-2] [akka://TradesDataServiceSpec/user/TradesDataService] unhandled event CurrentState(Actor[akka://TradesDataServiceSpec/user/TradesDataService/FutTradeStream],Closed) in state Started
[INFO] [12/06/2012 00:37:06.994] [pool-4-thread-2] [akka://TradesDataServiceSpec/user/TradesDataService] Stop TradesData service
[WARN] [12/06/2012 00:37:06.994] [TradesDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradesDataServiceSpec/user/TradesDataService/FutTradesListener] unhandled event Close in state Closed
[WARN] [12/06/2012 00:37:06.994] [TradesDataServiceSpec-akka.actor.default-dispatcher-5] [akka://TradesDataServiceSpec/user/TradesDataService] unhandled event CurrentState(Actor[akka://TradesDataServiceSpec/user/TradesDataService/OptTradeStream],Closed) in state Stopping
[WARN] [12/06/2012 00:37:06.994] [TradesDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradesDataServiceSpec/user/TradesDataService/OptTradesListener] unhandled event Close in state Closed
[INFO] [12/06/2012 00:37:06.994] [TradesDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradesDataServiceSpec/user/TradesDataService/FutTradesListener] Dispose listener
[ERROR] [12/06/2012 00:37:06.995] [TradesDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradesDataServiceSpec/user/TradesDataService/FutTradesListener] Disposed
[ERROR] [12/06/2012 00:37:06.995] [TradesDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradesDataServiceSpec/user/TradesDataService/FutTradesListener] Listener failed, reason = Failure(Disposed)
[ERROR] [12/06/2012 00:37:06.995] [TradesDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradesDataServiceSpec/user/TradesDataService/OptTradesListener] Listener failed, reason = Shutdown
[WARN] [12/06/2012 00:37:06.995] [TradesDataServiceSpec-akka.actor.default-dispatcher-1] [akka://TradesDataServiceSpec/user/TradesDataService/OptTradesListener] received dead letter from TestActor[akka://TradesDataServiceSpec/user/TradesDataService]: Dispose
[WARN] [12/06/2012 00:37:07.1] [TradesDataServiceSpec-akka.actor.default-dispatcher-2] [akka://TradesDataServiceSpec/user/TradesDataService] unhandled event CurrentState(Actor[akka://TradesDataServiceSpec/user/TradesDataService/FutTradeStream],Closed) in state Stopping
[info] TradesDataServiceSpec:
[info] InstrumentData Service 
[info] - must initialized in Idle state
[info] - must start service
[info]   + When receive start message 
[info]   + Then should wait for ongoing session & assigned contents 
[info]   + When got assigned contents 
[info]   + Then go to Starting state 
[info]   + When Fut/OptTrade data stream goes online 
[info]   + Then service shoud be started 
[info]   + And Service Manager should be notified 
[info] - must stop service
[info]   + Given service in Started state 
[info]   + When stop Service 
[info]   + Then should go to Stopping states 
[info]   + When both streams closed 
[info]   + Then service shoud be stopped 
[info]   + And service Manager should be notified 
[info] - must fail starting
[info]   + Given service in Starting state 
[info]   + When starting timed out 
[info]   + Then should fail with exception 
[info] - must fail stopping
[info]   + Given service in Stopping state 
[info]   + When stopping timed out 
[info]   + Then should fail with exception 
[WARN] [12/06/2012 00:37:07.2] [TradesDataServiceSpec-akka.actor.default-dispatcher-5] [akka://TradesDataServiceSpec/user/TradesDataService] unhandled event CurrentState(Actor[akka://TradesDataServiceSpec/user/TradesDataService/OptTradeStream],Closed) in state Stopping
[ERROR] [12/06/2012 00:37:07.3] [TradesDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradesDataServiceSpec/user/TradesDataService/FutTradesListener] Listener failed, reason = Shutdown
[ERROR] [12/06/2012 00:37:07.3] [TradesDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradesDataServiceSpec/user/TradesDataService/OptTradesListener] Listener failed, reason = Shutdown
[DEBUG] [12/06/2012 00:37:07.4] [TradesDataServiceSpec-akka.actor.default-dispatcher-6] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:07.4] [TradesDataServiceSpec-akka.actor.default-dispatcher-6] [EventStream] all default loggers stopped
[ERROR] [12/06/2012 00:37:07.6] [TradesDataServiceSpec-akka.actor.default-dispatcher-6] [akka://TradesDataServiceSpec/user/TradesDataService] Stopping timed out
com.ergodicity.engine.Services$ServiceFailedException: Stopping timed out
	at com.ergodicity.engine.service.Service$class.failed(Service.scala:20)
	at com.ergodicity.engine.service.TradesDataService.failed(TradesData.scala:61)
	at com.ergodicity.engine.service.TradesDataService$$anonfun$11.apply(TradesData.scala:138)
	at com.ergodicity.engine.service.TradesDataService$$anonfun$11.apply(TradesData.scala:132)
	at akka.actor.FSM$class.processEvent(FSM.scala:486)
	at com.ergodicity.engine.service.TradesDataService.akka$actor$LoggingFSM$$super$processEvent(TradesData.scala:61)
	at akka.actor.LoggingFSM$class.processEvent(FSM.scala:605)
	at com.ergodicity.engine.service.TradesDataService.processEvent(TradesData.scala:61)
	at akka.actor.FSM$class.akka$actor$FSM$$processMsg(FSM.scala:480)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:440)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:437)
	at akka.actor.Actor$class.apply(Actor.scala:318)
	at com.ergodicity.engine.service.TradesDataService.apply(TradesData.scala:61)
	at akka.actor.ActorCell.invoke(ActorCell.scala:626)
	at akka.testkit.CallingThreadDispatcher.runQueue(CallingThreadDispatcher.scala:235)
	at akka.testkit.CallingThreadDispatcher.dispatch(CallingThreadDispatcher.scala:201)
	at akka.actor.ActorCell.tell(ActorCell.scala:475)
	at akka.actor.LocalActorRef.$bang(ActorRef.scala:328)
	at akka.actor.DefaultScheduler$$anon$5.run(Scheduler.scala:174)
	at akka.actor.DefaultScheduler.akka$actor$DefaultScheduler$$execDirectly(Scheduler.scala:200)
	at akka.actor.DefaultScheduler$$anonfun$close$1.apply(Scheduler.scala:208)
	at akka.actor.DefaultScheduler$$anonfun$close$1.apply(Scheduler.scala:208)
	at scala.collection.Iterator$class.foreach(Iterator.scala:772)
	at scala.collection.JavaConversions$JIteratorWrapper.foreach(JavaConversions.scala:573)
	at scala.collection.IterableLike$class.foreach(IterableLike.scala:73)
	at scala.collection.JavaConversions$JSetWrapper.foreach(JavaConversions.scala:661)
	at akka.actor.DefaultScheduler.close(Scheduler.scala:208)
	at akka.actor.ActorSystemImpl.stopScheduler(ActorSystem.scala:642)
	at akka.actor.ActorSystemImpl$$anonfun$_start$1.apply$mcV$sp(ActorSystem.scala:589)
	at akka.actor.ActorSystemImpl$$anonfun$_start$1.apply(ActorSystem.scala:589)
	at akka.actor.ActorSystemImpl$$anonfun$_start$1.apply(ActorSystem.scala:589)
	at akka.actor.ActorSystemImpl$$anon$4.run(ActorSystem.scala:602)
	at akka.actor.ActorSystemImpl$TerminationCallbacks$$anonfun$run$1.runNext$1(ActorSystem.scala:726)
	at akka.actor.ActorSystemImpl$TerminationCallbacks$$anonfun$run$1.apply$mcV$sp(ActorSystem.scala:729)
	at akka.actor.ActorSystemImpl$TerminationCallbacks$$anonfun$run$1.apply(ActorSystem.scala:722)
	at akka.actor.ActorSystemImpl$TerminationCallbacks$$anonfun$run$1.apply(ActorSystem.scala:722)
	at akka.util.ReentrantGuard.withGuard(LockUtil.scala:17)
	at akka.actor.ActorSystemImpl$TerminationCallbacks.run(ActorSystem.scala:722)
	at akka.actor.ActorSystemImpl$$anonfun$terminationCallbacks$1.apply(ActorSystem.scala:599)
	at akka.actor.ActorSystemImpl$$anonfun$terminationCallbacks$1.apply(ActorSystem.scala:599)
	at akka.dispatch.DefaultPromise.akka$dispatch$DefaultPromise$$notifyCompleted(Future.scala:943)
	at akka.dispatch.DefaultPromise$$anonfun$tryComplete$1$$anonfun$apply$mcV$sp$4.apply(Future.scala:920)
	at akka.dispatch.DefaultPromise$$anonfun$tryComplete$1$$anonfun$apply$mcV$sp$4.apply(Future.scala:920)
	at scala.collection.LinearSeqOptimized$class.foreach(LinearSeqOptimized.scala:59)
	at scala.collection.immutable.List.foreach(List.scala:76)
	at akka.dispatch.DefaultPromise$$anonfun$tryComplete$1.apply$mcV$sp(Future.scala:920)
	at akka.dispatch.Future$$anon$4$$anonfun$run$1.apply$mcV$sp(Future.scala:386)
	at akka.dispatch.Future$$anon$4$$anonfun$run$1.apply(Future.scala:378)
	at akka.dispatch.Future$$anon$4$$anonfun$run$1.apply(Future.scala:378)
	at scala.util.DynamicVariable.withValue(DynamicVariable.scala:57)
	at akka.dispatch.Future$$anon$4.run(Future.scala:378)
	at akka.dispatch.TaskInvocation.run(AbstractDispatcher.scala:94)
	at akka.jsr166y.ForkJoinTask$AdaptedRunnableAction.exec(ForkJoinTask.java:1381)
	at akka.jsr166y.ForkJoinTask.doExec(ForkJoinTask.java:259)
	at akka.jsr166y.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:975)
	at akka.jsr166y.ForkJoinPool.runWorker(ForkJoinPool.java:1479)
	at akka.jsr166y.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:104)

[DEBUG] [12/06/2012 00:37:07.10] [pool-4-thread-2] [EventStream(akka://ConnectionServiceSpec)] logger log1-TestEventListener started
[DEBUG] [12/06/2012 00:37:07.11] [pool-4-thread-2] [EventStream(akka://ConnectionServiceSpec)] Default Loggers started
[INFO] [12/06/2012 00:37:07.37] [ConnectionServiceSpec-akka.actor.default-dispatcher-3] [akka://ConnectionServiceSpec/user/$a] Stop Connection service
[WARN] [12/06/2012 00:37:07.46] [ConnectionServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://ConnectionServiceSpec/user/ConnectionService] Unhandled event: CurrentState(Actor[akka://ConnectionServiceSpec/user/ConnectionService/Connection],Closed)
[WARN] [12/06/2012 00:37:07.46] [ConnectionServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://ConnectionServiceSpec/user/ConnectionService] Unhandled event: CurrentState(Actor[akka://ConnectionServiceSpec/user/ConnectionService/Connection],Closed)
[WARN] [12/06/2012 00:37:07.46] [ConnectionServiceSpec-akka.actor.default-dispatcher-3] [akka://ConnectionServiceSpec/user/$a] Unhandled event: CurrentState(Actor[akka://ConnectionServiceSpec/user/$a/Connection],Closed)
[WARN] [12/06/2012 00:37:07.48] [ConnectionServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://ConnectionServiceSpec/user/ConnectionService/Connection] unhandled event StartMessageProcessing(10 milliseconds) in state Closed
[INFO] [12/06/2012 00:37:07.48] [ConnectionServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://ConnectionServiceSpec/user/$a/Connection] Close connection
[INFO] [12/06/2012 00:37:07.49] [ConnectionServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://ConnectionServiceSpec/user/$a/Connection] Dispose connection
[ERROR] [12/06/2012 00:37:07.49] [ConnectionServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://ConnectionServiceSpec/user/$a/Connection] Disposed
[ERROR] [12/06/2012 00:37:07.49] [ConnectionServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://ConnectionServiceSpec/user/$a/Connection] Connection failed, reason = Failure(Disposed)
[WARN] [12/06/2012 00:37:07.52] [ConnectionServiceSpec-akka.actor.default-dispatcher-1] [akka://ConnectionServiceSpec/user/$a] Unhandled event: Terminated(Actor[akka://ConnectionServiceSpec/user/$a/Connection])
[INFO] [12/06/2012 00:37:07.172] [InstrumentDataServiceSpec-akka.actor.default-dispatcher-6] [akka://InstrumentDataServiceSpec/user/InstrumentDataService/SessionsTracking] Start session tracking
[INFO] [12/06/2012 00:37:07.172] [pool-4-thread-1] [akka://InstrumentDataServiceSpec/user/InstrumentDataService] Stop InstrumentData service
[WARN] [12/06/2012 00:37:07.173] [InstrumentDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://InstrumentDataServiceSpec/user/InstrumentDataService/FutInfoListener] unhandled event Close in state Closed
[ERROR] [12/06/2012 00:37:07.174] [InstrumentDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://InstrumentDataServiceSpec/user/InstrumentDataService/OptInfoListener] Listener failed, reason = Shutdown
[WARN] [12/06/2012 00:37:07.174] [InstrumentDataServiceSpec-akka.actor.default-dispatcher-7] [akka://InstrumentDataServiceSpec/user/InstrumentDataService/OptInfoListener] received dead letter from TestActor[akka://InstrumentDataServiceSpec/user/InstrumentDataService]: Close
[WARN] [12/06/2012 00:37:07.175] [InstrumentDataServiceSpec-akka.actor.default-dispatcher-7] [akka://InstrumentDataServiceSpec/user/InstrumentDataService/OptInfoListener] received dead letter from TestActor[akka://InstrumentDataServiceSpec/user/InstrumentDataService]: Dispose
[ERROR] [12/06/2012 00:37:07.176] [InstrumentDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://InstrumentDataServiceSpec/user/InstrumentDataService/FutInfoListener] Listener failed, reason = Shutdown
[WARN] [12/06/2012 00:37:07.176] [InstrumentDataServiceSpec-akka.actor.default-dispatcher-4] [akka://InstrumentDataServiceSpec/user/InstrumentDataService/FutInfoListener] received dead letter from TestActor[akka://InstrumentDataServiceSpec/user/InstrumentDataService]: Dispose
[INFO] [12/06/2012 00:37:07.183] [InstrumentDataServiceSpec-akka.actor.default-dispatcher-2] [akka://InstrumentDataServiceSpec/user/InstrumentDataService/SessionsTracking] Start session tracking
[INFO] [12/06/2012 00:37:07.187] [InstrumentDataServiceSpec-akka.actor.default-dispatcher-8] [akka://InstrumentDataServiceSpec/user/InstrumentDataService/SessionsTracking] Start session tracking
[info] InstrumentDataServiceSpec:
[info] InstrumentData Service 
[info] - must initialized in Idle state
[info] - must start service
[info]   + When got Start message 
[info]   + Then should go to Starting state 
[info]   + When both streams goes online 
[info]   + Then service shoud be started 
[info]   + And Service Manager should be notified 
[info] - must stop service
[info]   + Given service in Started state 
[info]   + When stop Service 
[info]   + Then should go to Stopping states 
[info]   + When both streams closed 
[info]   + Then service shoud be stopped 
[info]   + And service Manager should be notified 
[info] - must fail starting
[info]   + Given service in Starting state 
[info]   + When starting timed out 
[info]   + Then should fail with exception 
[info] - must fail stopping
[info]   + Given service in Stopping state 
[info]   + When stopping timed out 
[info]   + Then should fail with exception 
[ERROR] [12/06/2012 00:37:07.189] [InstrumentDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://InstrumentDataServiceSpec/user/InstrumentDataService/FutInfoListener] Listener failed, reason = Shutdown
[ERROR] [12/06/2012 00:37:07.190] [InstrumentDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://InstrumentDataServiceSpec/user/InstrumentDataService/OptInfoListener] Listener failed, reason = Shutdown
[DEBUG] [12/06/2012 00:37:07.191] [InstrumentDataServiceSpec-akka.actor.default-dispatcher-7] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:07.191] [InstrumentDataServiceSpec-akka.actor.default-dispatcher-7] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:37:07.202] [pool-4-thread-1] [EventStream(akka://ServicesSpec)] logger log1-TestEventListener started
[DEBUG] [12/06/2012 00:37:07.202] [pool-4-thread-1] [EventStream(akka://ServicesSpec)] Default Loggers started
[INFO] [12/06/2012 00:37:07.231] [pool-4-thread-1] [akka://ServicesSpec/user/Services] Register service, Id = Service1, depends on = List()
[INFO] [12/06/2012 00:37:07.566] [pool-4-thread-4] [akka://InstrumentWatchDogSpec/user/InstrumentWatchDog] Catched ongoing session, session id = SessionId(100,100)
[DEBUG] [12/06/2012 00:37:07.567] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-2] [akka://InstrumentWatchDogSpec/user/Session/Options] Get session instrument: FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract); Result = None
[DEBUG] [12/06/2012 00:37:07.567] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-4] [akka://InstrumentWatchDogSpec/user/Session/Futures] Get session instrument: FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract); Result = Some((FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract),Actor[akka://InstrumentWatchDogSpec/user/Session/Futures/GMKR-6.12]))
[INFO] [12/06/2012 00:37:07.568] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-3] [akka://InstrumentWatchDogSpec/user/InstrumentWatchDog] Catched instrument for isin = Isin(GMKR-6.12); ref = InstrumentRef(SessionId(100,100),FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract),Actor[akka://InstrumentWatchDogSpec/user/Session/Futures/GMKR-6.12])
[INFO] [12/06/2012 00:37:07.568] [pool-4-thread-4] [akka://InstrumentWatchDogSpec/system/testActor10] Catched = Catched(Isin(GMKR-6.12),InstrumentRef(SessionId(100,100),FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract),Actor[akka://InstrumentWatchDogSpec/user/Session/Futures/GMKR-6.12]))
[INFO] [12/06/2012 00:37:07.569] [pool-4-thread-3] [akka://TrendFollowing/system/testActor3] Primary data = List(RawData(2012-01-01T12:00:00.000+04:00,100.0), RawData(2012-01-01T12:00:50.000+04:00,150.0))
[INFO] [12/06/2012 00:37:07.570] [pool-4-thread-3] [akka://TrendFollowing/system/testActor3] Primary data = List(RawData(2012-01-01T12:00:50.000+04:00,150.0), RawData(2012-01-01T12:01:10.000+04:00,120.0))
[INFO] [12/06/2012 00:37:07.572] [pool-4-thread-3] [akka://TrendFollowing/system/testActor3] regression = PriceSlope(2012-01-01T12:00:00.000+04:00,100,NaN,NaN)
[INFO] [12/06/2012 00:37:07.572] [pool-4-thread-3] [akka://TrendFollowing/system/testActor3] regression = PriceSlope(2012-01-01T12:00:50.000+04:00,150,1.0,NaN)
[INFO] [12/06/2012 00:37:07.572] [pool-4-thread-3] [akka://TrendFollowing/system/testActor3] regression = PriceSlope(2012-01-01T12:01:10.000+04:00,120,-0.9999999999999998,-0.9999999999999998)
[INFO] [12/06/2012 00:37:07.573] [pool-4-thread-1] [akka://ServicesSpec/user/Services] Register service, Id = Service2, depends on = List()
[INFO] [12/06/2012 00:37:07.573] [pool-4-thread-1] [akka://ServicesSpec/user/Services] Registered services = Set(Service2, Service1)
[INFO] [12/06/2012 00:37:07.574] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-5] [akka://InstrumentWatchDogSpec/user/Session/Futures] Start SessionContents
[INFO] [12/06/2012 00:37:07.574] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-6] [akka://InstrumentWatchDogSpec/user/Session/Options] Start SessionContents
[INFO] [12/06/2012 00:37:07.575] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-3] [akka://InstrumentWatchDogSpec/user/Session/Futures/GMKR-6.12] Started instrument for security = FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract)
[INFO] [12/06/2012 00:37:07.575] [pool-4-thread-1] [akka://ServicesSpec/user/Services]  - Service2; startBarrier = List(StartUp), stopBarrier = List(ShutDown)
[INFO] [12/06/2012 00:37:07.575] [pool-4-thread-1] [akka://ServicesSpec/user/Services]  - Service1; startBarrier = List(StartUp), stopBarrier = List(ShutDown)
[INFO] [12/06/2012 00:37:07.576] [pool-4-thread-1] [akka://ServicesSpec/system/testActor14] Expected ref = Actor[akka://ServicesSpec/user/Services/Service1]
[INFO] [12/06/2012 00:37:07.579] [pool-4-thread-1] [akka://ServicesSpec/user/Services] Register service, Id = Service1, depends on = List()
[INFO] [12/06/2012 00:37:07.579] [pool-4-thread-1] [akka://ServicesSpec/user/Services] Register service, Id = Service2, depends on = List()
[INFO] [12/06/2012 00:37:07.579] [pool-4-thread-1] [akka://ServicesSpec/user/Services] Registered services = Set(Service2, Service1)
[INFO] [12/06/2012 00:37:07.579] [pool-4-thread-1] [akka://ServicesSpec/user/Services]  - Service2; startBarrier = List(StartUp), stopBarrier = List(ShutDown)
[INFO] [12/06/2012 00:37:07.579] [pool-4-thread-1] [akka://ServicesSpec/user/Services]  - Service1; startBarrier = List(StartUp), stopBarrier = List(ShutDown)
[INFO] [12/06/2012 00:37:07.580] [pool-4-thread-1] [akka://ServicesSpec/user/Services] Start all services = Set(Service2, Service1)
[INFO] [12/06/2012 00:37:07.583] [pool-4-thread-1] [akka://ServicesSpec/user/Services] Service started = Service1, remaining = Set(Service2)
[INFO] [12/06/2012 00:37:07.583] [pool-4-thread-1] [akka://ServicesSpec/user/Services] Service started = Service2, remaining = Set()
[INFO] [12/06/2012 00:37:07.583] [pool-4-thread-1] [akka://ServicesSpec/user/Services] All services started
[INFO] [12/06/2012 00:37:07.585] [pool-4-thread-1] [akka://ServicesSpec/user/Services] Register service, Id = Service1, depends on = List()
[INFO] [12/06/2012 00:37:07.585] [pool-4-thread-1] [akka://ServicesSpec/user/Services] Register service, Id = Service2, depends on = List()
[INFO] [12/06/2012 00:37:07.585] [pool-4-thread-1] [akka://ServicesSpec/user/Services] Registered services = Set(Service2, Service1)
[INFO] [12/06/2012 00:37:07.585] [pool-4-thread-1] [akka://ServicesSpec/user/Services]  - Service2; startBarrier = List(StartUp), stopBarrier = List(ShutDown)
[INFO] [12/06/2012 00:37:07.586] [pool-4-thread-1] [akka://ServicesSpec/user/Services]  - Service1; startBarrier = List(StartUp), stopBarrier = List(ShutDown)
[INFO] [12/06/2012 00:37:07.586] [pool-4-thread-1] [akka://ServicesSpec/user/Services] Stop all services = Set(Service2, Service1)
[INFO] [12/06/2012 00:37:07.588] [pool-4-thread-1] [akka://ServicesSpec/user/Services] Service stopped = Service1, remaining = Set(Service2)
[INFO] [12/06/2012 00:37:07.589] [pool-4-thread-1] [akka://ServicesSpec/user/Services] Service stopped = Service2, remaining = Set()
[INFO] [12/06/2012 00:37:07.594] [pool-4-thread-1] [akka://ServicesSpec/user/Services] Register service, Id = Service1, depends on = List()
[INFO] [12/06/2012 00:37:07.594] [pool-4-thread-1] [akka://ServicesSpec/user/Services] Register service, Id = Service2, depends on = List()
[INFO] [12/06/2012 00:37:07.596] [pool-4-thread-1] [akka://ServicesSpec/user/Services] Register service, Id = DependentService, depends on = List(Service1, Service2)
[INFO] [12/06/2012 00:37:07.597] [pool-4-thread-1] [akka://ServicesSpec/user/Services] Registered services = Set(DependentService, Service2, Service1)
[INFO] [12/06/2012 00:37:07.597] [pool-4-thread-1] [akka://ServicesSpec/user/Services]  - DependentService; startBarrier = List(StartUp, Service1, Service2), stopBarrier = List(ShutDown)
[INFO] [12/06/2012 00:37:07.597] [pool-4-thread-1] [akka://ServicesSpec/user/Services]  - Service2; startBarrier = List(StartUp), stopBarrier = List(ShutDown, DependentService)
[INFO] [12/06/2012 00:37:07.597] [pool-4-thread-1] [akka://ServicesSpec/user/Services]  - Service1; startBarrier = List(StartUp), stopBarrier = List(ShutDown, DependentService)
[INFO] [12/06/2012 00:37:07.597] [pool-4-thread-1] [akka://ServicesSpec/system/testActor14] Services = Map(DependentService -> ManagedService(Actor[akka://ServicesSpec/user/Services/DependentService],com.ergodicity.engine.Services$Waiting@7a9db8,com.ergodicity.engine.Services$Waiting@8b6f9), Service2 -> ManagedService(Actor[akka://ServicesSpec/user/Services/Service2],com.ergodicity.engine.Services$Waiting@24ac04,com.ergodicity.engine.Services$Waiting@1997420), Service1 -> ManagedService(Actor[akka://ServicesSpec/user/Services/Service1],com.ergodicity.engine.Services$Waiting@1971e37,com.ergodicity.engine.Services$Waiting@40ec44))
[INFO] [12/06/2012 00:37:07.599] [pool-4-thread-1] [akka://ServicesSpec/user/Services] Register service, Id = Service1, depends on = List()
[INFO] [12/06/2012 00:37:07.599] [pool-4-thread-1] [akka://ServicesSpec/user/Services] Register service, Id = Service2, depends on = List()
[INFO] [12/06/2012 00:37:07.599] [pool-4-thread-1] [akka://ServicesSpec/user/Services] Register service, Id = DependentService, depends on = List(Service1, Service2)
[INFO] [12/06/2012 00:37:07.599] [pool-4-thread-1] [akka://ServicesSpec/user/Services] Registered services = Set(DependentService, Service2, Service1)
[INFO] [12/06/2012 00:37:07.599] [pool-4-thread-1] [akka://ServicesSpec/user/Services]  - DependentService; startBarrier = List(StartUp, Service1, Service2), stopBarrier = List(ShutDown)
[INFO] [12/06/2012 00:37:07.599] [pool-4-thread-1] [akka://ServicesSpec/user/Services]  - Service2; startBarrier = List(StartUp), stopBarrier = List(ShutDown, DependentService)
[INFO] [12/06/2012 00:37:07.599] [pool-4-thread-1] [akka://ServicesSpec/user/Services]  - Service1; startBarrier = List(StartUp), stopBarrier = List(ShutDown, DependentService)
[INFO] [12/06/2012 00:37:07.599] [pool-4-thread-1] [akka://ServicesSpec/user/Services] Start all services = Set(DependentService, Service2, Service1)
[INFO] [12/06/2012 00:37:07.874] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-2] [akka://InstrumentWatchDogSpec/user/$$b/InstrumentWatchDog] Catched ongoing session, session id = SessionId(100,100)
[DEBUG] [12/06/2012 00:37:07.875] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-2] [Future] Can't find security for isin = Isin(NotAssignedIsin), assigned to session = SessionId(100,100)
[ERROR] [12/06/2012 00:37:07.877] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-4] [akka://InstrumentWatchDogSpec/user/$$b/InstrumentWatchDog] WatchDog failed, cause = com.ergodicity.engine.strategy.InstrumentWatcherException: Can't find security for isin = Isin(NotAssignedIsin), assigned to session = SessionId(100,100)
[ERROR] [12/06/2012 00:37:07.877] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-4] [akka://InstrumentWatchDogSpec/user/$$b/InstrumentWatchDog] WatchDog failed, cause = com.ergodicity.engine.strategy.InstrumentWatcherException: Can't find security for isin = Isin(NotAssignedIsin), assigned to session = SessionId(100,100)
com.ergodicity.engine.strategy.InstrumentWatcherException: WatchDog failed, cause = com.ergodicity.engine.strategy.InstrumentWatcherException: Can't find security for isin = Isin(NotAssignedIsin), assigned to session = SessionId(100,100)
	at com.ergodicity.engine.strategy.InstrumentWatchDog$$anonfun$5.apply(InstrumentWatcher.scala:120)
	at com.ergodicity.engine.strategy.InstrumentWatchDog$$anonfun$5.apply(InstrumentWatcher.scala:117)
	at scala.PartialFunction$$anon$1.apply(PartialFunction.scala:75)
	at akka.actor.FSM$class.processEvent(FSM.scala:489)
	at com.ergodicity.engine.strategy.InstrumentWatchDog.akka$actor$LoggingFSM$$super$processEvent(InstrumentWatcher.scala:63)
	at akka.actor.LoggingFSM$class.processEvent(FSM.scala:605)
	at com.ergodicity.engine.strategy.InstrumentWatchDog.processEvent(InstrumentWatcher.scala:63)
	at akka.actor.FSM$class.akka$actor$FSM$$processMsg(FSM.scala:480)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:474)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:437)
	at akka.actor.Actor$class.apply(Actor.scala:318)
	at com.ergodicity.engine.strategy.InstrumentWatchDog.apply(InstrumentWatcher.scala:63)
	at akka.actor.ActorCell.invoke(ActorCell.scala:626)
	at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:197)
	at akka.dispatch.Mailbox.run(Mailbox.scala:179)
	at akka.dispatch.ForkJoinExecutorConfigurator$MailboxExecutionTask.exec(AbstractDispatcher.scala:516)
	at akka.jsr166y.ForkJoinTask.doExec(ForkJoinTask.java:259)
	at akka.jsr166y.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:975)
	at akka.jsr166y.ForkJoinPool.runWorker(ForkJoinPool.java:1479)
	at akka.jsr166y.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:104)

[INFO] [12/06/2012 00:37:07.891] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-4] [akka://InstrumentWatchDogSpec/user/Session/Futures] Start SessionContents
[INFO] [12/06/2012 00:37:07.891] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-6] [akka://InstrumentWatchDogSpec/user/Session/Options] Start SessionContents
[INFO] [12/06/2012 00:37:07.893] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-6] [akka://InstrumentWatchDogSpec/user/Session/Futures/GMKR-6.12] Started instrument for security = FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract)
[ERROR] [12/06/2012 00:37:08.59] [InstrumentWatchDogSpec-scheduler-1] [akka://InstrumentWatchDogSpec/user/InstrumentWatchDog] Catching instrument for isin = Isin(GMKR-6.12) timed out
[ERROR] [12/06/2012 00:37:08.60] [InstrumentWatchDogSpec-scheduler-1] [akka://InstrumentWatchDogSpec/user/InstrumentWatchDog] Catching instrument for isin = Isin(GMKR-6.12) timed out
com.ergodicity.engine.strategy.InstrumentWatcherException: Catching instrument for isin = Isin(GMKR-6.12) timed out
	at com.ergodicity.engine.strategy.InstrumentWatchDog$$anonfun$3.apply(InstrumentWatcher.scala:107)
	at com.ergodicity.engine.strategy.InstrumentWatchDog$$anonfun$3.apply(InstrumentWatcher.scala:82)
	at akka.actor.FSM$class.processEvent(FSM.scala:486)
	at com.ergodicity.engine.strategy.InstrumentWatchDog.akka$actor$LoggingFSM$$super$processEvent(InstrumentWatcher.scala:63)
	at akka.actor.LoggingFSM$class.processEvent(FSM.scala:605)
	at com.ergodicity.engine.strategy.InstrumentWatchDog.processEvent(InstrumentWatcher.scala:63)
	at akka.actor.FSM$class.akka$actor$FSM$$processMsg(FSM.scala:480)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:440)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:437)
	at akka.actor.Actor$class.apply(Actor.scala:318)
	at com.ergodicity.engine.strategy.InstrumentWatchDog.apply(InstrumentWatcher.scala:63)
	at akka.actor.ActorCell.invoke(ActorCell.scala:626)
	at akka.testkit.CallingThreadDispatcher.runQueue(CallingThreadDispatcher.scala:235)
	at akka.testkit.CallingThreadDispatcher.dispatch(CallingThreadDispatcher.scala:201)
	at akka.actor.ActorCell.tell(ActorCell.scala:475)
	at akka.actor.LocalActorRef.$bang(ActorRef.scala:328)
	at akka.actor.DefaultScheduler$$anon$5.run(Scheduler.scala:174)
	at org.jboss.netty.akka.util.HashedWheelTimer$HashedWheelTimeout.expire(HashedWheelTimer.java:476)
	at org.jboss.netty.akka.util.HashedWheelTimer$Worker.notifyExpiredTimeouts(HashedWheelTimer.java:381)
	at org.jboss.netty.akka.util.HashedWheelTimer$Worker.run(HashedWheelTimer.java:321)
	at java.lang.Thread.run(Unknown Source)

[INFO] [12/06/2012 00:37:08.101] [pool-4-thread-1] [akka://ServicesSpec/user/Services] Service started = Service1, remaining = Set(DependentService, Service2)
[INFO] [12/06/2012 00:37:08.102] [pool-4-thread-1] [akka://ServicesSpec/user/Services] Service started = Service2, remaining = Set(DependentService)
[INFO] [12/06/2012 00:37:08.102] [pool-4-thread-1] [akka://ServicesSpec/user/Services] Service started = DependentService, remaining = Set()
[INFO] [12/06/2012 00:37:08.102] [pool-4-thread-1] [akka://ServicesSpec/user/Services] All services started
[INFO] [12/06/2012 00:37:08.112] [pool-4-thread-1] [akka://ServicesSpec/user/Services] Register service, Id = Service1, depends on = List()
[INFO] [12/06/2012 00:37:08.112] [pool-4-thread-1] [akka://ServicesSpec/user/Services] Register service, Id = Service2, depends on = List()
[INFO] [12/06/2012 00:37:08.112] [pool-4-thread-1] [akka://ServicesSpec/user/Services] Register service, Id = DependentService, depends on = List(Service1, Service2)
[INFO] [12/06/2012 00:37:08.112] [pool-4-thread-1] [akka://ServicesSpec/user/Services] Registered services = Set(DependentService, Service2, Service1)
[INFO] [12/06/2012 00:37:08.113] [pool-4-thread-1] [akka://ServicesSpec/user/Services]  - DependentService; startBarrier = List(StartUp, Service1, Service2), stopBarrier = List(ShutDown)
[INFO] [12/06/2012 00:37:08.113] [pool-4-thread-1] [akka://ServicesSpec/user/Services]  - Service2; startBarrier = List(StartUp), stopBarrier = List(ShutDown, DependentService)
[INFO] [12/06/2012 00:37:08.113] [pool-4-thread-1] [akka://ServicesSpec/user/Services]  - Service1; startBarrier = List(StartUp), stopBarrier = List(ShutDown, DependentService)
[INFO] [12/06/2012 00:37:08.113] [pool-4-thread-1] [akka://ServicesSpec/user/Services] Stop all services = Set(DependentService, Service2, Service1)
[INFO] [12/06/2012 00:37:08.192] [pool-4-thread-4] [akka://InstrumentWatchDogSpec/user/InstrumentWatchDog] Catched ongoing session, session id = SessionId(100,100)
[DEBUG] [12/06/2012 00:37:08.193] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-1] [akka://InstrumentWatchDogSpec/user/Session/Options] Get session instrument: FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract); Result = None
[DEBUG] [12/06/2012 00:37:08.194] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-6] [akka://InstrumentWatchDogSpec/user/Session/Futures] Get session instrument: FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract); Result = Some((FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract),Actor[akka://InstrumentWatchDogSpec/user/Session/Futures/GMKR-6.12]))
[INFO] [12/06/2012 00:37:08.194] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-3] [akka://InstrumentWatchDogSpec/user/InstrumentWatchDog] Catched instrument for isin = Isin(GMKR-6.12); ref = InstrumentRef(SessionId(100,100),FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract),Actor[akka://InstrumentWatchDogSpec/user/Session/Futures/GMKR-6.12])
[INFO] [12/06/2012 00:37:08.199] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-2] [akka://InstrumentWatchDogSpec/user/Session/Futures] Start SessionContents
[INFO] [12/06/2012 00:37:08.199] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-3] [akka://InstrumentWatchDogSpec/user/Session/Options] Start SessionContents
[INFO] [12/06/2012 00:37:08.200] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-6] [akka://InstrumentWatchDogSpec/user/Session/Futures/GMKR-6.12] Started instrument for security = FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract)
[info] ConnectionServiceSpec:
[info] ConnectionService 
[info] - must throw exception on error state
[info] - must notify engine on activated state
[info] - must stop itselt of Service.Stop message
[ERROR] [12/06/2012 00:37:08.238] [ConnectionServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://ConnectionServiceSpec/user/ConnectionService/Connection] Connection failed, reason = Shutdown
[DEBUG] [12/06/2012 00:37:08.239] [ConnectionServiceSpec-akka.actor.default-dispatcher-2] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:08.240] [ConnectionServiceSpec-akka.actor.default-dispatcher-2] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:37:08.261] [pool-4-thread-2] [EventStream(akka://OrdersDataServiceSpec)] logger log1-TestEventListener started
[DEBUG] [12/06/2012 00:37:08.261] [pool-4-thread-2] [EventStream(akka://OrdersDataServiceSpec)] Default Loggers started
[WARN] [12/06/2012 00:37:08.319] [OrdersDataServiceSpec-akka.actor.default-dispatcher-4] [akka://OrdersDataServiceSpec/user/OrdersData/FuturesSnapshot] unhandled event CurrentState(Actor[akka://OrdersDataServiceSpec/user/OrdersData/FutOrderBookStream],Closed) in state Loading
[WARN] [12/06/2012 00:37:08.321] [OrdersDataServiceSpec-akka.actor.default-dispatcher-2] [akka://OrdersDataServiceSpec/user/OrdersData/OptionsSnapshot] unhandled event CurrentState(Actor[akka://OrdersDataServiceSpec/user/OrdersData/OptOrderBookStream],Closed) in state Loading
[INFO] [12/06/2012 00:37:08.327] [pool-4-thread-2] [akka://OrdersDataServiceSpec/user/OrdersData] Start OrdersData service
[INFO] [12/06/2012 00:37:08.330] [pool-4-thread-2] [akka://OrdersDataServiceSpec/user/OrdersData] Start OrdersData service
[WARN] [12/06/2012 00:37:08.330] [OrdersDataServiceSpec-akka.actor.default-dispatcher-4] [akka://OrdersDataServiceSpec/user/OrdersData/FuturesSnapshot] unhandled event CurrentState(Actor[akka://OrdersDataServiceSpec/user/OrdersData/FutOrderBookStream],Closed) in state Loading
[WARN] [12/06/2012 00:37:08.330] [OrdersDataServiceSpec-akka.actor.default-dispatcher-4] [akka://OrdersDataServiceSpec/user/OrdersData/OptionsSnapshot] unhandled event CurrentState(Actor[akka://OrdersDataServiceSpec/user/OrdersData/OptOrderBookStream],Closed) in state Loading
[WARN] [12/06/2012 00:37:08.330] [OrdersDataServiceSpec-akka.actor.default-dispatcher-3] [akka://OrdersDataServiceSpec/deadLetters] received dead letter from TestActor[akka://OrdersDataServiceSpec/user/OrdersData]: SubscribeOngoingSessions(TestActor[akka://OrdersDataServiceSpec/user/OrdersData])
[INFO] [12/06/2012 00:37:08.331] [OrdersDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrdersDataServiceSpec/user/OrdersData/FutOrderBookListener] Open listener with config = mode=snapshot
[INFO] [12/06/2012 00:37:08.332] [OrdersDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrdersDataServiceSpec/user/OrdersData/OptOrderBookListener] Open listener with config = mode=snapshot
[INFO] [12/06/2012 00:37:08.333] [OrdersDataServiceSpec-akka.actor.default-dispatcher-3] [akka://OrdersDataServiceSpec/user/OrdersData/OrderBooks] Assigned contents; Size = 0
[INFO] [12/06/2012 00:37:08.335] [OrdersDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrdersDataServiceSpec/user/OrdersData/OrdLogListener] Open listener with config = mode=snapshot+online;rev.orders_log=100
[WARN] [12/06/2012 00:37:08.335] [OrdersDataServiceSpec-akka.actor.default-dispatcher-10] [akka://OrdersDataServiceSpec/user/OrdersData] unhandled event CurrentState(Actor[akka://OrdersDataServiceSpec/user/OrdersData/OrdLogStream],Closed) in state StartingOrderBooks
[INFO] [12/06/2012 00:37:08.416] [pool-4-thread-1] [akka://ServicesSpec/user/Services] Service stopped = DependentService, remaining = Set(Service2, Service1)
[INFO] [12/06/2012 00:37:08.418] [pool-4-thread-1] [akka://ServicesSpec/user/Services] Service stopped = Service1, remaining = Set(Service2)
[INFO] [12/06/2012 00:37:08.419] [pool-4-thread-1] [akka://ServicesSpec/user/Services] Service stopped = Service2, remaining = Set()
[INFO] [12/06/2012 00:37:08.428] [pool-4-thread-1] [akka://ServicesSpec/user/Services] Register service, Id = Service1, depends on = List()
[INFO] [12/06/2012 00:37:08.429] [pool-4-thread-1] [akka://ServicesSpec/user/Services] Register service, Id = Service2, depends on = List()
[INFO] [12/06/2012 00:37:08.429] [pool-4-thread-1] [akka://ServicesSpec/user/Services] Register service, Id = DependentService, depends on = List(Service1, Service2)
[INFO] [12/06/2012 00:37:08.429] [pool-4-thread-1] [akka://ServicesSpec/user/Services] Registered services = Set(DependentService, Service2, Service1)
[INFO] [12/06/2012 00:37:08.430] [pool-4-thread-1] [akka://ServicesSpec/user/Services]  - DependentService; startBarrier = List(StartUp, Service1, Service2), stopBarrier = List(ShutDown)
[INFO] [12/06/2012 00:37:08.430] [pool-4-thread-1] [akka://ServicesSpec/user/Services]  - Service2; startBarrier = List(StartUp), stopBarrier = List(ShutDown, DependentService)
[INFO] [12/06/2012 00:37:08.430] [pool-4-thread-1] [akka://ServicesSpec/user/Services]  - Service1; startBarrier = List(StartUp), stopBarrier = List(ShutDown, DependentService)
[INFO] [12/06/2012 00:37:08.434] [pool-4-thread-1] [akka://ServicesSpec/user/Services] Registered services = Set()
[INFO] [12/06/2012 00:37:08.438] [pool-4-thread-1] [akka://ServicesSpec/user/Services] Register service, Id = DependentService, depends on = List(Service1)
[ERROR] [12/06/2012 00:37:08.438] [pool-4-thread-1] [akka://ServicesSpec/user/Services] Missing required service = Service1, for DependentService
[info] ServicesSpec:
[info] Services Manager 
[info] - must get registered service
[info] - must start all registered without additional dependencies services
[info]   + Given Service Manager with two registered services: Service1 and Service2 
[info]   + When service manager starts all services 
[info]   + Then each service get Start message 
[info]   + When Service1 started 
[info]   + And Service2 started 
[info]   + Then Service Manager should go to Active state 
[info] - must stop all registered without additional dependencies services
[info]   + Given Service Manager with two registered services: Service1 and Service2 
[info]   + When Servie Manager stops all services 
[info]   + Then should go to Stopping state 
[info]   + And each service get Stop message 
[info]   + When Service1 stopped 
[info]   + And Service2 stopped 
[info]   + Then Service Manager should be termindated 
[info] - must register service with dependency
[info] - must start all registered services according to their dependencies
[info]   + Given Service Manager with three services 
[info]   + When service manager starts all services 
[info]   + Then Service1 & Service2 get Start message 
[info]   + And Dependent service get no messages 
[info]   + When Service1 started 
[info]   + And Service2 started 
[info]   + Then Dependent service get Start message 
[info]   + When last service started 
[info]   + Then Service Manager goes to Active state 
[info] - must stop all registered services according to their dependencies
[info]   + Given Service Manager with three services 
[info]   + When service manager starts all services 
[info]   + Then Dependent service get Stop message 
[info]   + And Service1 & Service2 get no messages 
[info]   + When Dependent service stopped started 
[info]   + Then Service2 & Service2 get Stop message 
[info]   + When all services Stopped 
[info]   + Then Service Manager should stop itself 
[info] - must stop itself on Timed out in Stopping state
[info] - must fail to register Service if dependency is not provided
[DEBUG] [12/06/2012 00:37:08.440] [ServicesSpec-akka.actor.default-dispatcher-1] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:08.440] [ServicesSpec-akka.actor.default-dispatcher-1] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:08.442] [ServicesSpec-akka.actor.default-dispatcher-1] [EventStream] all default loggers stopped
[INFO] [12/06/2012 00:37:08.443] [pool-4-thread-2] [akka://OrdersDataServiceSpec/user/OrdersData] Start OrdersData service
[WARN] [12/06/2012 00:37:08.444] [OrdersDataServiceSpec-akka.actor.default-dispatcher-3] [akka://OrdersDataServiceSpec/user/OrdersData/FuturesSnapshot] unhandled event CurrentState(Actor[akka://OrdersDataServiceSpec/user/OrdersData/FutOrderBookStream],Closed) in state Loading
[INFO] [12/06/2012 00:37:08.444] [pool-4-thread-2] [akka://OrdersDataServiceSpec/user/OrdersData] Stop OrdersData service
[WARN] [12/06/2012 00:37:08.445] [OrdersDataServiceSpec-akka.actor.default-dispatcher-11] [akka://OrdersDataServiceSpec/user/OrdersData/OptionsSnapshot] unhandled event CurrentState(Actor[akka://OrdersDataServiceSpec/user/OrdersData/OptOrderBookStream],Closed) in state Loading
[WARN] [12/06/2012 00:37:08.445] [OrdersDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrdersDataServiceSpec/user/OrdersData/OrdLogListener] unhandled event Close in state Closed
[ERROR] [12/06/2012 00:37:08.446] [OrdersDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrdersDataServiceSpec/user/OrdersData/FutOrderBookListener] Listener failed, reason = Shutdown
[WARN] [12/06/2012 00:37:08.446] [OrdersDataServiceSpec-akka.actor.default-dispatcher-9] [akka://OrdersDataServiceSpec/user/OrdersData/FutOrderBookListener] received dead letter from TestActor[akka://OrdersDataServiceSpec/user/OrdersData]: Dispose
[ERROR] [12/06/2012 00:37:08.448] [OrdersDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrdersDataServiceSpec/user/OrdersData/OptOrderBookListener] Listener failed, reason = Shutdown
[WARN] [12/06/2012 00:37:08.448] [OrdersDataServiceSpec-akka.actor.default-dispatcher-8] [akka://OrdersDataServiceSpec/user/OrdersData/OptOrderBookListener] received dead letter from TestActor[akka://OrdersDataServiceSpec/user/OrdersData]: Dispose
[ERROR] [12/06/2012 00:37:08.448] [OrdersDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrdersDataServiceSpec/user/OrdersData/OrdLogListener] Listener failed, reason = Shutdown
[WARN] [12/06/2012 00:37:08.448] [OrdersDataServiceSpec-akka.actor.default-dispatcher-8] [akka://OrdersDataServiceSpec/user/OrdersData/OrdLogListener] received dead letter from TestActor[akka://OrdersDataServiceSpec/user/OrdersData]: Dispose
[info] OrdersDataServiceSpec:
[info] OrdersData Service 
[info] - must initialized in Idle state
[info] - must start service
[info]   + When receive start message 
[info]   + Then should wait for ongoing session & assigned contents 
[info]   + When got assigned contents 
[info]   + Then go to WaitingSnapshots state 
[info]   + And ask for orders snapshots 
[info]   + When receive snapshots 
[info]   + Then should go to StartingOrderBooks state 
[info]   + Then OrdLog stream goes online 
[info]   + Then service shoud be started 
[info]   + And Service Manager should be notified 
[info] - must stop service
[info]   + When receive Stop message 
[info]   + Then should go to Stopping state 
[info]   + When OrdLog stream closed 
[info]   + Then service shoud be stopped 
[info]   + And service Manager should be notified 
[DEBUG] [12/06/2012 00:37:08.452] [OrdersDataServiceSpec-akka.actor.default-dispatcher-5] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:08.452] [OrdersDataServiceSpec-akka.actor.default-dispatcher-5] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:08.454] [OrdersDataServiceSpec-akka.actor.default-dispatcher-5] [EventStream] all default loggers stopped
[INFO] [12/06/2012 00:37:08.500] [pool-4-thread-4] [akka://InstrumentWatchDogSpec/user/InstrumentWatchDog] Catched ongoing session transition, new session id = SessionId(101,101)
[DEBUG] [12/06/2012 00:37:08.502] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-2] [akka://InstrumentWatchDogSpec/user/Session/Futures] Get session instrument: FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract); Result = Some((FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract),Actor[akka://InstrumentWatchDogSpec/user/Session/Futures/GMKR-6.12]))
[DEBUG] [12/06/2012 00:37:08.503] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-1] [akka://InstrumentWatchDogSpec/user/Session/Options] Get session instrument: FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract); Result = None
[INFO] [12/06/2012 00:37:08.504] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-4] [akka://InstrumentWatchDogSpec/user/InstrumentWatchDog] Catched instrument for isin = Isin(GMKR-6.12); ref = InstrumentRef(SessionId(101,101),FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract),Actor[akka://InstrumentWatchDogSpec/user/Session/Futures/GMKR-6.12])
[WARN] [12/06/2012 00:37:08.509] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-9] [akka://InstrumentWatchDogSpec/user/InstrumentWatchDog] received dead letter from Actor[akka://InstrumentWatchDogSpec/user/Session/Futures/GMKR-6.12]: InstrumentUpdated(Actor[akka://InstrumentWatchDogSpec/user/Session/Futures/GMKR-6.12],FutureParameters(100,Limits(100,100)))
[DEBUG] [12/06/2012 00:37:08.511] [pool-4-thread-1] [EventStream(akka://CoverAllPositionsSpec)] logger log1-TestEventListener started
[DEBUG] [12/06/2012 00:37:08.512] [pool-4-thread-1] [EventStream(akka://CoverAllPositionsSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:37:08.515] [pool-4-thread-2] [EventStream(akka://StrategyEngineSpec)] logger log1-TestEventListener started
[DEBUG] [12/06/2012 00:37:08.515] [pool-4-thread-2] [EventStream(akka://StrategyEngineSpec)] Default Loggers started
[INFO] [12/06/2012 00:37:08.518] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-8] [akka://InstrumentWatchDogSpec/user/Session/Futures] Start SessionContents
[INFO] [12/06/2012 00:37:08.518] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-1] [akka://InstrumentWatchDogSpec/user/Session/Options] Start SessionContents
[INFO] [12/06/2012 00:37:08.519] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-8] [akka://InstrumentWatchDogSpec/user/Session/Futures/GMKR-6.12] Started instrument for security = FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract)
[DEBUG] [12/06/2012 00:37:08.531] [CoverAllPositionsSpec-akka.actor.default-dispatcher-1] [akka://CoverAllPositionsSpec/user/$a] Assigned contents; Size = 2
[DEBUG] [12/06/2012 00:37:08.531] [CoverAllPositionsSpec-akka.actor.default-dispatcher-1] [akka://CoverAllPositionsSpec/user/$a] Position updated; Security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1)
[DEBUG] [12/06/2012 00:37:08.531] [CoverAllPositionsSpec-akka.actor.default-dispatcher-1] [akka://CoverAllPositionsSpec/user/$a] Position updated; Security = FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2)
[INFO] [12/06/2012 00:37:08.532] [CoverAllPositionsSpec-akka.actor.default-dispatcher-2] [akka://CoverAllPositionsSpec/user/$a/RTS-9.12] Opened position; Security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1)
[DEBUG] [12/06/2012 00:37:08.532] [CoverAllPositionsSpec-akka.actor.default-dispatcher-2] [akka://CoverAllPositionsSpec/user/$a/RTS-9.12] Position updated to Position(1), dynamics = PositionDynamics(0,1,0,0,None)
[INFO] [12/06/2012 00:37:08.532] [CoverAllPositionsSpec-akka.actor.default-dispatcher-2] [akka://CoverAllPositionsSpec/user/$a/RTS-12.12] Opened position; Security = FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2)
[WARN] [12/06/2012 00:37:08.533] [CoverAllPositionsSpec-akka.actor.default-dispatcher-5] [akka://CoverAllPositionsSpec/deadLetters] received dead letter from Actor[akka://CoverAllPositionsSpec/user/$b/FutInfoDispatcher]: SubscribeStreamEvents(Actor[akka://CoverAllPositionsSpec/user/$b/FutInfoDispatcher])
[WARN] [12/06/2012 00:37:08.533] [CoverAllPositionsSpec-akka.actor.default-dispatcher-5] [akka://CoverAllPositionsSpec/deadLetters] received dead letter from Actor[akka://CoverAllPositionsSpec/user/$b/OptInfoDispatcher]: SubscribeStreamEvents(Actor[akka://CoverAllPositionsSpec/user/$b/OptInfoDispatcher])
[INFO] [12/06/2012 00:37:08.533] [CoverAllPositionsSpec-akka.actor.default-dispatcher-4] [akka://CoverAllPositionsSpec/user/$b] Start session tracking
[DEBUG] [12/06/2012 00:37:08.533] [CoverAllPositionsSpec-akka.actor.default-dispatcher-9] [akka://CoverAllPositionsSpec/user/$a/RTS-12.12] Position updated to Position(-3), dynamics = PositionDynamics(0,5,8,0,None)
[INFO] [12/06/2012 00:37:08.534] [CoverAllPositionsSpec-akka.actor.default-dispatcher-7] [akka://CoverAllPositionsSpec/user/$b] Synchonized event = SynchronizedEvent(SessionDataReady(1,100),SessionDataReady(1,100))
[INFO] [12/06/2012 00:37:08.535] [CoverAllPositionsSpec-akka.actor.default-dispatcher-11] [akka://CoverAllPositionsSpec/user/$b/100/Futures] Start SessionContents
[INFO] [12/06/2012 00:37:08.535] [CoverAllPositionsSpec-akka.actor.default-dispatcher-7] [akka://CoverAllPositionsSpec/user/$b/100/Options] Start SessionContents
[INFO] [12/06/2012 00:37:08.536] [CoverAllPositionsSpec-akka.actor.default-dispatcher-1] [akka://CoverAllPositionsSpec/user/$b/100/Futures/RTS-9.12] Started instrument for security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1)
[INFO] [12/06/2012 00:37:08.536] [CoverAllPositionsSpec-akka.actor.default-dispatcher-11] [akka://CoverAllPositionsSpec/user/$b/100/Futures/RTS-12.12] Started instrument for security = FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2)
[INFO] [12/06/2012 00:37:08.538] [pool-4-thread-1] [akka://CoverAllPositionsSpec/user/CoverPositions] Started CoverPositions
[DEBUG] [12/06/2012 00:37:08.538] [pool-4-thread-1] [akka://CoverAllPositionsSpec/user/CoverPositions] Going to cover positions = Map(FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1) -> Position(1), FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2) -> Position(-3))
[INFO] [12/06/2012 00:37:08.539] [pool-4-thread-2] [akka://StrategyEngineSpec/system/testActor37] Reconciliation = Reconciled
[DEBUG] [12/06/2012 00:37:08.542] [CoverAllPositionsSpec-akka.actor.default-dispatcher-11] [akka://CoverAllPositionsSpec/user/$c] Assigned contents; Size = 2
[DEBUG] [12/06/2012 00:37:08.542] [CoverAllPositionsSpec-akka.actor.default-dispatcher-11] [akka://CoverAllPositionsSpec/user/$c] Position updated; Security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1)
[INFO] [12/06/2012 00:37:08.542] [CoverAllPositionsSpec-akka.actor.default-dispatcher-6] [akka://CoverAllPositionsSpec/user/$d] Start session tracking
[DEBUG] [12/06/2012 00:37:08.543] [CoverAllPositionsSpec-akka.actor.default-dispatcher-11] [akka://CoverAllPositionsSpec/user/$c] Position updated; Security = FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2)
[WARN] [12/06/2012 00:37:08.543] [CoverAllPositionsSpec-akka.actor.default-dispatcher-11] [akka://CoverAllPositionsSpec/deadLetters] received dead letter from Actor[akka://CoverAllPositionsSpec/user/$d/FutInfoDispatcher]: SubscribeStreamEvents(Actor[akka://CoverAllPositionsSpec/user/$d/FutInfoDispatcher])
[WARN] [12/06/2012 00:37:08.543] [CoverAllPositionsSpec-akka.actor.default-dispatcher-11] [akka://CoverAllPositionsSpec/deadLetters] received dead letter from Actor[akka://CoverAllPositionsSpec/user/$d/OptInfoDispatcher]: SubscribeStreamEvents(Actor[akka://CoverAllPositionsSpec/user/$d/OptInfoDispatcher])
[INFO] [12/06/2012 00:37:08.543] [CoverAllPositionsSpec-akka.actor.default-dispatcher-6] [akka://CoverAllPositionsSpec/user/$c/RTS-9.12] Opened position; Security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1)
[DEBUG] [12/06/2012 00:37:08.543] [CoverAllPositionsSpec-akka.actor.default-dispatcher-6] [akka://CoverAllPositionsSpec/user/$c/RTS-9.12] Position updated to Position(1), dynamics = PositionDynamics(0,1,0,0,None)
[INFO] [12/06/2012 00:37:08.543] [CoverAllPositionsSpec-akka.actor.default-dispatcher-3] [akka://CoverAllPositionsSpec/user/$c/RTS-12.12] Opened position; Security = FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2)
[DEBUG] [12/06/2012 00:37:08.543] [CoverAllPositionsSpec-akka.actor.default-dispatcher-3] [akka://CoverAllPositionsSpec/user/$c/RTS-12.12] Position updated to Position(-3), dynamics = PositionDynamics(0,5,8,0,None)
[INFO] [12/06/2012 00:37:08.543] [CoverAllPositionsSpec-akka.actor.default-dispatcher-5] [akka://CoverAllPositionsSpec/user/$d] Synchonized event = SynchronizedEvent(SessionDataReady(1,100),SessionDataReady(1,100))
[INFO] [12/06/2012 00:37:08.544] [CoverAllPositionsSpec-akka.actor.default-dispatcher-5] [akka://CoverAllPositionsSpec/user/$d/100/Futures] Start SessionContents
[INFO] [12/06/2012 00:37:08.544] [CoverAllPositionsSpec-akka.actor.default-dispatcher-5] [akka://CoverAllPositionsSpec/user/$d/100/Options] Start SessionContents
[INFO] [12/06/2012 00:37:08.545] [CoverAllPositionsSpec-akka.actor.default-dispatcher-5] [akka://CoverAllPositionsSpec/user/$d/100/Futures/RTS-9.12] Started instrument for security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1)
[INFO] [12/06/2012 00:37:08.545] [pool-4-thread-2] [akka://StrategyEngineSpec/system/testActor37] Reconciliation = Mismatched(Set(Mismatch(FutureContract(IsinId(1),Isin(RTS-9.12),ShortIsisn(),Future contract),Position(2),Position(3),Map(Strategy1 -> Position(6), Strategy2 -> Position(-3)))))
[INFO] [12/06/2012 00:37:08.545] [CoverAllPositionsSpec-akka.actor.default-dispatcher-11] [akka://CoverAllPositionsSpec/user/$d/100/Futures/RTS-12.12] Started instrument for security = FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2)
[INFO] [12/06/2012 00:37:08.546] [pool-4-thread-1] [akka://CoverAllPositionsSpec/user/CoverPositions] Started CoverPositions
[DEBUG] [12/06/2012 00:37:08.546] [pool-4-thread-1] [akka://CoverAllPositionsSpec/user/CoverPositions] Going to cover positions = Map(FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1) -> Position(1), FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2) -> Position(-3))
[INFO] [12/06/2012 00:37:08.546] [pool-4-thread-1] [akka://CoverAllPositionsSpec/user/CoverPositions] Start strategy. Positions to cover = Map(FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1) -> Position(1), FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2) -> Position(-3))
[INFO] [12/06/2012 00:37:08.548] [pool-4-thread-2] [akka://StrategyEngineSpec/system/testActor37] Reconciliation = Mismatched(Set(Mismatch(FutureContract(IsinId(1),Isin(RTS-9.12),ShortIsisn(),Future contract #1),Position(1),Position(0),Map()), Mismatch(FutureContract(IsinId(2),Isin(RTS-12.12),ShortIsisn(),Future contract #2),Position(0),Position(1),Map(Strategy1 -> Position(1)))))
[info] StrategyEngineSpec:
[info] Strategy engine 
[info] - must reconcile positions
[info] - must find mismatched position
[info] - must find mismatched position for different isin
[INFO] [12/06/2012 00:37:08.549] [CoverAllPositionsSpec-akka.actor.default-dispatcher-3] [akka://CoverAllPositionsSpec/user/CoverPositions/WatchDog-RTS-9.12] Catched ongoing session, session id = SessionId(100,100)
[INFO] [12/06/2012 00:37:08.550] [CoverAllPositionsSpec-akka.actor.default-dispatcher-3] [akka://CoverAllPositionsSpec/user/CoverPositions/WatchDog-RTS-12.12] Catched ongoing session, session id = SessionId(100,100)
[DEBUG] [12/06/2012 00:37:08.550] [CoverAllPositionsSpec-akka.actor.default-dispatcher-3] [akka://CoverAllPositionsSpec/user/$d/100/Futures] Get session instrument: FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1); Result = Some((FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1),Actor[akka://CoverAllPositionsSpec/user/$d/100/Futures/RTS-9.12]))
[DEBUG] [12/06/2012 00:37:08.551] [CoverAllPositionsSpec-akka.actor.default-dispatcher-11] [akka://CoverAllPositionsSpec/user/$d/100/Options] Get session instrument: FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1); Result = None
[DEBUG] [12/06/2012 00:37:08.551] [CoverAllPositionsSpec-akka.actor.default-dispatcher-11] [akka://CoverAllPositionsSpec/user/$d/100/Options] Get session instrument: FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2); Result = None
[DEBUG] [12/06/2012 00:37:08.551] [CoverAllPositionsSpec-akka.actor.default-dispatcher-3] [akka://CoverAllPositionsSpec/user/$d/100/Futures] Get session instrument: FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2); Result = Some((FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2),Actor[akka://CoverAllPositionsSpec/user/$d/100/Futures/RTS-12.12]))
[DEBUG] [12/06/2012 00:37:08.551] [StrategyEngineSpec-akka.actor.default-dispatcher-2] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:08.551] [StrategyEngineSpec-akka.actor.default-dispatcher-2] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:08.551] [StrategyEngineSpec-akka.actor.default-dispatcher-2] [EventStream] all default loggers stopped
[INFO] [12/06/2012 00:37:08.551] [CoverAllPositionsSpec-akka.actor.default-dispatcher-3] [akka://CoverAllPositionsSpec/user/CoverPositions/WatchDog-RTS-9.12] Catched instrument for isin = Isin(RTS-9.12); ref = InstrumentRef(null,FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1),Actor[akka://CoverAllPositionsSpec/user/$d/100/Futures/RTS-9.12])
[INFO] [12/06/2012 00:37:08.551] [CoverAllPositionsSpec-akka.actor.default-dispatcher-3] [akka://CoverAllPositionsSpec/user/CoverPositions] Catched assigned instrument; Isin = Isin(RTS-9.12), session = null, security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1)
[INFO] [12/06/2012 00:37:08.555] [CoverAllPositionsSpec-akka.actor.default-dispatcher-11] [akka://CoverAllPositionsSpec/user/CoverPositions/WatchDog-RTS-12.12] Catched instrument for isin = Isin(RTS-12.12); ref = InstrumentRef(null,FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2),Actor[akka://CoverAllPositionsSpec/user/$d/100/Futures/RTS-12.12])
[info] TrendFollowingSpec:
[info] TrendFollowingStrategy 
[info] - must wait for position manager started
[info] PriceRegressionActor 
[info] - must return empty regression if insufficiend data available
[info] - must calculate regression matching in window
[info] - must discard outdated trades
[DEBUG] [12/06/2012 00:37:08.575] [TrendFollowing-akka.actor.default-dispatcher-3] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:08.575] [TrendFollowing-akka.actor.default-dispatcher-3] [EventStream] all default loggers stopped
[INFO] [12/06/2012 00:37:08.586] [CoverAllPositionsSpec-akka.actor.default-dispatcher-11] [akka://CoverAllPositionsSpec/user/CoverPositions] Catched assigned instrument; Isin = Isin(RTS-12.12), session = null, security = FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2)
[INFO] [12/06/2012 00:37:08.598] [pool-4-thread-1] [akka://CoverAllPositionsSpec/user/CoverPositions] Positions covered
[info] CoverAllPositionsSpec:
[info] Close All Positions 
[info] - must load all current positions
[info] - must close positions
[info]   + When get execution reports 
[info]   + Then should subscribe for order events 
[info]   + When orders filled 
[info]   + Then should go to PositionsCovered state 
[DEBUG] [12/06/2012 00:37:08.602] [CoverAllPositionsSpec-akka.actor.default-dispatcher-3] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:08.602] [CoverAllPositionsSpec-akka.actor.default-dispatcher-3] [EventStream] all default loggers stopped
[INFO] [12/06/2012 00:37:08.818] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-3] [akka://InstrumentWatchDogSpec/user/$$c/InstrumentWatchDog] Catched ongoing session, session id = SessionId(100,100)
[DEBUG] [12/06/2012 00:37:08.818] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-8] [akka://InstrumentWatchDogSpec/user/Session/Options] Get session instrument: FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract); Result = None
[DEBUG] [12/06/2012 00:37:08.819] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-9] [akka://InstrumentWatchDogSpec/user/Session/Futures] Get session instrument: FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract); Result = Some((FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract),Actor[akka://InstrumentWatchDogSpec/user/Session/Futures/GMKR-6.12]))
[INFO] [12/06/2012 00:37:08.819] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-8] [akka://InstrumentWatchDogSpec/user/$$c/InstrumentWatchDog] Catched instrument for isin = Isin(GMKR-6.12); ref = InstrumentRef(SessionId(100,100),FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract),Actor[akka://InstrumentWatchDogSpec/user/Session/Futures/GMKR-6.12])
[ERROR] [12/06/2012 00:37:08.819] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-8] [akka://InstrumentWatchDogSpec/user/$$c/InstrumentWatchDog] Watched instrument unexpectedly terminated
com.ergodicity.engine.strategy.InstrumentWatcherException: Watched instrument unexpectedly terminated
	at com.ergodicity.engine.strategy.InstrumentWatchDog$$anonfun$5.apply(InstrumentWatcher.scala:123)
	at com.ergodicity.engine.strategy.InstrumentWatchDog$$anonfun$5.apply(InstrumentWatcher.scala:117)
	at scala.PartialFunction$$anon$1.apply(PartialFunction.scala:75)
	at akka.actor.FSM$class.processEvent(FSM.scala:489)
	at com.ergodicity.engine.strategy.InstrumentWatchDog.akka$actor$LoggingFSM$$super$processEvent(InstrumentWatcher.scala:63)
	at akka.actor.LoggingFSM$class.processEvent(FSM.scala:605)
	at com.ergodicity.engine.strategy.InstrumentWatchDog.processEvent(InstrumentWatcher.scala:63)
	at akka.actor.FSM$class.akka$actor$FSM$$processMsg(FSM.scala:480)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:474)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:437)
	at akka.actor.Actor$class.apply(Actor.scala:318)
	at com.ergodicity.engine.strategy.InstrumentWatchDog.apply(InstrumentWatcher.scala:63)
	at akka.actor.ActorCell.invoke(ActorCell.scala:626)
	at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:197)
	at akka.dispatch.Mailbox.run(Mailbox.scala:179)
	at akka.dispatch.ForkJoinExecutorConfigurator$MailboxExecutionTask.exec(AbstractDispatcher.scala:516)
	at akka.jsr166y.ForkJoinTask.doExec(ForkJoinTask.java:259)
	at akka.jsr166y.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:975)
	at akka.jsr166y.ForkJoinPool.runWorker(ForkJoinPool.java:1479)
	at akka.jsr166y.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:104)

[INFO] [12/06/2012 00:37:08.823] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-6] [akka://InstrumentWatchDogSpec/user/Session/Futures] Start SessionContents
[INFO] [12/06/2012 00:37:08.823] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-8] [akka://InstrumentWatchDogSpec/user/Session/Options] Start SessionContents
[INFO] [12/06/2012 00:37:08.823] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-8] [akka://InstrumentWatchDogSpec/user/Session/Futures/GMKR-6.12] Started instrument for security = FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract)
[DEBUG] [12/06/2012 00:37:08.879] [pool-4-thread-1] [EventStream(akka://RouterSpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:37:08.879] [pool-4-thread-2] [EventStream(akka://MarketCaptureSpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:37:08.879] [pool-4-thread-3] [EventStream(akka://MarketDbBuncherSpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:37:08.879] [pool-4-thread-2] [EventStream(akka://MarketCaptureSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:37:08.879] [pool-4-thread-3] [EventStream(akka://MarketDbBuncherSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:37:08.880] [pool-4-thread-1] [EventStream(akka://RouterSpec)] Default Loggers started
[INFO] [12/06/2012 00:37:08.906] [pool-4-thread-2] [ActorSystem(MarketCaptureSpec)] {
    # system properties
    "os" : {
        # system properties
        "arch" : "x86",
        # system properties
        "name" : "Windows 7",
        # system properties
        "version" : "6.1"
    },
    # system properties
    "awt" : {
        # system properties
        "toolkit" : "sun.awt.windows.WToolkit"
    },
    # system properties
    "file" : {
        # system properties
        "encoding" : {
            # system properties
            "pkg" : "sun.io"
        },
        # system properties
        "separator" : "\\"
    },
    # system properties
    "path" : {
        # system properties
        "separator" : ";"
    },
    # application.conf: 1
    "capture" : {
        # application.conf: 2
        "dispatchers" : {
            # application.conf: 3
            "replicationDispatcher" : {
                # application.conf: 9
                #  Single Threaded Executor
                "thread-pool-executor" : {
                    # application.conf: 12
                    "max-pool-size-min" : 1,
                    # application.conf: 13
                    "max-pool-size-max" : 1,
                    # application.conf: 11
                    "core-pool-size-max" : 1,
                    # application.conf: 10
                    "core-pool-size-min" : 1
                },
                # application.conf: 6
                "executor" : "thread-pool-executor",
                # application.conf: 4
                "type" : "Dispatcher",
                # application.conf: 16
                "throughput" : 1
            }
        }
    },
    # system properties
    "line" : {
        # system properties
        "separator" : "\r\n"
    },
    # system properties
    "java" : {
        # system properties
        "vm" : {
            # system properties
            "vendor" : "Oracle Corporation",
            # system properties
            "name" : "Java HotSpot(TM) Client VM",
            # system properties
            "specification" : {
                # system properties
                "vendor" : "Oracle Corporation",
                # system properties
                "name" : "Java Virtual Machine Specification",
                # system properties
                "version" : "1.7"
            },
            # system properties
            "version" : "23.1-b03",
            # system properties
            "info" : "mixed mode"
        },
        # system properties
        "home" : "C:\\Program Files (x86)\\Java\\jre7",
        # system properties
        "awt" : {
            # system properties
            "graphicsenv" : "sun.awt.Win32GraphicsEnvironment",
            # system properties
            "printerjob" : "sun.awt.windows.WPrinterJob"
        },
        # system properties
        "vendor" : {
            # system properties
            "url" : {
                # system properties
                "bug" : "http://bugreport.sun.com/bugreport/"
            }
        },
        # system properties
        "endorsed" : {
            # system properties
            "dirs" : "C:\\Program Files (x86)\\Java\\jre7\\lib\\endorsed"
        },
        # system properties
        "library" : {
            # system properties
            "path" : "C:\\Windows\\SysWOW64;C:\\Windows\\Sun\\Java\\bin;C:\\Windows\\system32;C:\\Windows;C:\\cygwin\\usr\\local\\bin;C:\\cygwin\\bin;C:\\Program Files (x86)\\AMD APP\\bin\\x86_64;C:\\Program Files (x86)\\AMD APP\\bin\\x86;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0;C:\\Program Files (x86)\\ATI Technologies\\ATI.ACE\\Core-Static;C:\\Program Files\\Java\\jdk1.7.0_05\\bin;C:\\zmq;C:\\jacob;C:\\P2CGate64\\p2bin;D:\\opt\\apache-ant-1.8.4\\bin;C:\\cygwin\\lib\\lapack;."
        },
        # system properties
        "specification" : {
            # system properties
            "vendor" : "Oracle Corporation",
            # system properties
            "name" : "Java Platform API Specification",
            # system properties
            "version" : "1.7"
        },
        # system properties
        "class" : {
            # system properties
            "path" : "D:\\opt\\sbt\\sbt-launch.jar",
            # system properties
            "version" : "51.0"
        },
        # system properties
        "runtime" : {
            # system properties
            "name" : "Java(TM) SE Runtime Environment",
            # system properties
            "version" : "1.7.0_05-b05"
        },
        # system properties
        "ext" : {
            # system properties
            "dirs" : "C:\\Program Files (x86)\\Java\\jre7\\lib\\ext;C:\\Windows\\Sun\\Java\\lib\\ext"
        },
        # system properties
        "io" : {
            # system properties
            "tmpdir" : "C:\\cygwin\\tmp\\"
        },
        # system properties
        "version" : "1.7.0_05"
    },
    # system properties
    "user" : {
        # system properties
        "home" : "C:\\Users\\zheka",
        # system properties
        "timezone" : "Europe/Moscow",
        # system properties
        "dir" : "D:\\projects\\ergodicity",
        # system properties
        "name" : "zheka",
        # system properties
        "language" : "ru",
        # system properties
        "script" : "",
        # system properties
        "variant" : "",
        # system properties
        "country" : "RU"
    },
    # system properties
    "sun" : {
        # system properties
        "os" : {
            # system properties
            "patch" : {
                # system properties
                "level" : "Service Pack 1"
            }
        },
        # system properties
        "boot" : {
            # system properties
            "library" : {
                # system properties
                "path" : "C:\\Program Files (x86)\\Java\\jre7\\bin"
            },
            # system properties
            "class" : {
                # system properties
                "path" : "C:\\Program Files (x86)\\Java\\jre7\\lib\\resources.jar;C:\\Program Files (x86)\\Java\\jre7\\lib\\rt.jar;C:\\Program Files (x86)\\Java\\jre7\\lib\\sunrsasign.jar;C:\\Program Files (x86)\\Java\\jre7\\lib\\jsse.jar;C:\\Program Files (x86)\\Java\\jre7\\lib\\jce.jar;C:\\Program Files (x86)\\Java\\jre7\\lib\\charsets.jar;C:\\Program Files (x86)\\Java\\jre7\\lib\\jfr.jar;C:\\Program Files (x86)\\Java\\jre7\\classes"
            }
        },
        # system properties
        "arch" : {
            # system properties
            "data" : {
                # system properties
                "model" : "32"
            }
        },
        # system properties
        "jnu" : {
            # system properties
            "encoding" : "Cp1251"
        },
        # system properties
        "cpu" : {
            # system properties
            "endian" : "little",
            # system properties
            "isalist" : ""
        },
        # system properties
        "desktop" : "windows",
        # system properties
        "java" : {
            # system properties
            "launcher" : "SUN_STANDARD",
            # system properties
            "command" : "D:\\opt\\sbt\\sbt-launch.jar test\r"
        },
        # system properties
        "management" : {
            # system properties
            "compiler" : "HotSpot Client Compiler"
        },
        # system properties
        "io" : {
            # system properties
            "unicode" : {
                # system properties
                "encoding" : "UnicodeLittle"
            }
        }
    },
    # merge of application.conf: 22,reference.conf: 8
    "akka" : {
        # reference.conf: 13
        #  Home directory of Akka, modules in the deploy directory will be loaded
        "home" : "",
        # application.conf: 23
        "loglevel" : "DEBUG",
        # reference.conf: 42
        #  Toggles whether the threads created by this ActorSystem should be daemons or not
        "daemonic" : "off",
        # application.conf: 25
        "log-config-on-start" : "on",
        # reference.conf: 304
        #  Used to set the behavior of the scheduler.
        #  Changing the default values may change the system behavior drastically so make sure
        #  you know what you're doing! See the Scheduler section of the Akka documentation for more details.
        "scheduler" : {
            # reference.conf: 314
            "ticks-per-wheel" : 512,
            # reference.conf: 313
            #  The HashedWheelTimer (HWT) implementation from Netty is used as the default scheduler
            #  in the system.
            #  HWT does not execute the scheduled tasks on exact time.
            #  It will, on every tick, check if there are any tasks behind the schedule and execute them.
            #  You can increase or decrease the accuracy of the execution timing by specifying smaller
            #  or larger tick duration.
            #  If you are scheduling a lot of tasks you should consider increasing the ticks per wheel.
            #  For more information see: http://www.jboss.org/netty/
            "tick-duration" : "100ms"
        },
        # reference.conf: 9
        "test" : {
            # reference.conf: 19
            #  duration to wait in expectMsg and friends outside of within() block by default
            "single-expect-default" : "3s",
            # reference.conf: 22
            #  The timeout that is added as an implicit by DefaultTimeout trait
            "default-timeout" : "5s",
            # reference.conf: 24
            "calling-thread-dispatcher" : {
                # reference.conf: 25
                "type" : "akka.testkit.CallingThreadDispatcherConfigurator"
            },
            # reference.conf: 16
            #  duration of EventFilter.intercept waits after the block is finished until
            #  all required messages are received
            "filter-leeway" : "3s",
            # reference.conf: 12
            #  factor by which to scale timeouts during tests, e.g. to account for shared
            #  build system load
            "timefactor" : 1
        },
        # reference.conf: 21
        #  Event handlers are created and registered synchronously during ActorSystem
        #  start-up, and since they are actors, this timeout is used to bound the
        #  waiting time
        "event-handler-startup-timeout" : "5s",
        # merge of application.conf: 27,reference.conf: 47
        "actor" : {
            # reference.conf: 296
            #  Class to Serializer binding. You only need to specify the name of an interface
            #  or abstract base class of the messages. In case of ambiguity it is using the
            #  most specific configured class, or giving a warning and choosing the УfirstФ one.
            # 
            #  To disable one of the default serializers, assign its class to "none", like
            #  "java.io.Serializable" = none
            "serialization-bindings" : {
                # reference.conf: 297
                "java.io.Serializable" : "java"
            },
            # reference.conf: 286
            #  Entries for pluggable serializers and their bindings.
            "serializers" : {
                # reference.conf: 287
                "java" : "akka.serialization.JavaSerializer"
            },
            # reference.conf: 52
            #  Timeout for ActorSystem.actorOf
            "creation-timeout" : "20s",
            # reference.conf: 64
            #  Serializes and deserializes creators (in Props) to ensure that they can be sent over the network,
            #  this is only intended for testing.
            "serialize-creators" : "off",
            # reference.conf: 160
            "default-dispatcher" : {
                # reference.conf: 263
                #  For Actor with Stash: The default capacity of the stash.
                #  If negative (or zero) then an unbounded stash is used (default)
                #  If positive then a bounded stash is used and the capacity is set using the
                #  property
                "stash-capacity" : -1,
                # reference.conf: 252
                #  FQCN of the MailboxType, if not specified the default bounded or unbounded
                #  mailbox is used. The Class of the FQCN must have a constructor with
                #  (akka.actor.ActorSystem.Settings, com.typesafe.config.Config) parameters.
                "mailbox-type" : "",
                # reference.conf: 191
                #  This will be used if you have set "executor = "thread-pool-executor""
                "thread-pool-executor" : {
                    # reference.conf: 215
                    #  Specifies the bounded capacity of the task queue (< 1 == unbounded)
                    "task-queue-size" : -1,
                    # reference.conf: 193
                    #  Keep alive time for threads
                    "keep-alive-time" : "60s",
                    # reference.conf: 206
                    #  Hint: max-pool-size is only used for bounded task queues
                    #  minimum number of threads to cap factor-based max number to
                    "max-pool-size-min" : 8,
                    # reference.conf: 212
                    #  Max number of threads to cap factor-based max number to
                    "max-pool-size-max" : 64,
                    # reference.conf: 199
                    #  No of core threads ... ceil(available processors * factor)
                    "core-pool-size-factor" : 3,
                    # reference.conf: 202
                    #  Max number of threads to cap factor-based number to
                    "core-pool-size-max" : 64,
                    # reference.conf: 209
                    #  Max no of threads ... ceil(available processors * factor)
                    "max-pool-size-factor" : 3,
                    # reference.conf: 196
                    #  Min number of threads to cap factor-based core number to
                    "core-pool-size-min" : 8,
                    # reference.conf: 222
                    #  Allow core threads to time out
                    "allow-core-timeout" : "on",
                    # reference.conf: 219
                    #  Specifies which type of task queue will be used, can be "array" or
                    #  "linked" (default)
                    "task-queue-type" : "linked"
                },
                # reference.conf: 257
                #  For BalancingDispatcher: If the balancing dispatcher should attempt to
                #  schedule idle actors using the same dispatcher when a message comes in,
                #  and the dispatchers ExecutorService is not fully busy already.
                "attempt-teamwork" : "on",
                # reference.conf: 179
                #  This will be used if you have set "executor = "fork-join-executor""
                "fork-join-executor" : {
                    # reference.conf: 184
                    #  Parallelism (threads) ... ceil(available processors * factor)
                    "parallelism-factor" : 3,
                    # reference.conf: 181
                    #  Min number of threads to cap factor-based parallelism number to
                    "parallelism-min" : 8,
                    # reference.conf: 187
                    #  Max number of threads to cap factor-based parallelism number to
                    "parallelism-max" : 64
                },
                # reference.conf: 233
                #  Throughput deadline for Dispatcher, set to 0 or negative for no deadline
                "throughput-deadline-time" : "0ms",
                # reference.conf: 247
                #  Specifies the timeout to add a new message to a mailbox that is full -
                #  negative number means infinite timeout. It is only used for type=Dispatcher
                #  and only if mailbox-capacity > 0
                "mailbox-push-timeout-time" : "10s",
                # reference.conf: 242
                #  If negative (or zero) then an unbounded mailbox is used (default)
                #  If positive then a bounded mailbox is used and the capacity is set using the
                #  property
                #  NOTE: setting a mailbox to 'blocking' can be a bit dangerous, could lead to
                #  deadlock, use with care
                #  The following mailbox-push-timeout-time is only used for type=Dispatcher and
                #  only if mailbox-capacity > 0
                "mailbox-capacity" : -1,
                # reference.conf: 176
                #  Which kind of ExecutorService to use for this dispatcher
                #  Valid options:
                #                "fork-join-executor" requires a "fork-join-executor" section
                #                "thread-pool-executor" requires a "thread-pool-executor" section
                #                or
                #                A FQCN of a class extending ExecutorServiceConfigurator
                "executor" : "fork-join-executor",
                # reference.conf: 226
                #  How long time the dispatcher will wait for new actors until it shuts down
                "shutdown-timeout" : "1s",
                # reference.conf: 168
                #  Must be one of the following
                #  Dispatcher, (BalancingDispatcher, only valid when all actors using it are of
                #  the same type), PinnedDispatcher, or a FQCN to a class inheriting
                #  MessageDispatcherConfigurator with a constructor with
                #  com.typesafe.config.Config parameter and akka.dispatch.DispatcherPrerequisites
                #  parameters.
                #  PinnedDispatcher must be used toghether with executor=thread-pool-executor.
                "type" : "Dispatcher",
                # reference.conf: 230
                #  Throughput defines the number of messages that are processed in a batch
                #  before the thread is returned to the pool. Set to 1 for as fair as possible.
                "throughput" : 5
            },
            # reference.conf: 71
            "deployment" : {
                # reference.conf: 74
                #  deployment id pattern - on the format: /parent/child etc.
                "default" : {
                    # reference.conf: 109
                    #  Routers with dynamically resizable number of routees; this feature is enabled
                    #  by including (parts of) this section in the deployment
                    "resizer" : {
                        # reference.conf: 131
                        #  Percentage to increase capacity whenever all routees are busy.
                        #  For example, 0.2 would increase 20% (rounded up), i.e. if current
                        #  capacity is 6 it will request an increase of 2 more routees.
                        "rampup-rate" : 0.2,
                        # reference.conf: 151
                        #  When the resizer reduce the capacity the abandoned routee actors are stopped
                        #  with PoisonPill after this delay. The reason for the delay is to give concurrent
                        #  messages a chance to be placed in mailbox before sending PoisonPill.
                        #  Use 0s to skip delay.
                        "stop-delay" : "1s",
                        # reference.conf: 116
                        #  The most number of routees the router should ever have.
                        #  Must be greater than or equal to lower-bound.
                        "upper-bound" : 10,
                        # reference.conf: 155
                        #  Number of messages between resize operation.
                        #  Use 1 to resize before each message.
                        "messages-per-resize" : 10,
                        # reference.conf: 139
                        #  Minimum fraction of busy routees before backing off.
                        #  For example, if this is 0.3, then we'll remove some routees only when
                        #  less than 30% of routees are busy, i.e. if current capacity is 10 and
                        #  3 are busy then the capacity is unchanged, but if 2 or less are busy
                        #  the capacity is decreased.
                        #  Use 0.0 or negative to avoid removal of routees.
                        "backoff-threshold" : 0.3,
                        # reference.conf: 145
                        #  Fraction of routees to be removed when the resizer reaches the
                        #  backoffThreshold.
                        #  For example, 0.1 would decrease 10% (rounded up), i.e. if current
                        #  capacity is 9 it will request an decrease of 1 routee.
                        "backoff-rate" : 0.1,
                        # reference.conf: 112
                        #  The fewest number of routees the router should ever have.
                        "lower-bound" : 1,
                        # reference.conf: 126
                        #  Threshold to evaluate if routee is considered to be busy (under pressure).
                        #  Implementation depends on this value (default is 1).
                        #  0:   number of routees currently processing a message.
                        #  1:   number of routees currently processing a message has
                        #       some messages in mailbox.
                        #  > 1: number of routees with at least the configured pressure-threshold
                        #       messages in their mailbox. Note that estimating mailbox size of
                        #       default UnboundedMailbox is O(N) operation.
                        "pressure-threshold" : 1
                    },
                    # reference.conf: 95
                    #  number of children to create in case of a non-direct router; this setting
                    #  is ignored if routees.paths is given
                    "nr-of-instances" : 1,
                    # reference.conf: 91
                    #  routing (load-balance) scheme to use
                    #      available: "from-code", "round-robin", "random", "smallest-mailbox", "scatter-gather", "broadcast"
                    #      or:        Fully qualified class name of the router class.
                    #                 The router class must extend akka.routing.CustomRouterConfig and and have constructor
                    #                 with com.typesafe.config.Config parameter.
                    #      default is "from-code";
                    #  Whether or not an actor is transformed to a Router is decided in code only (Props.withRouter).
                    #  The type of router can be overridden in the configuration; specifying "from-code" means
                    #  that the values specified in the code shall be used.
                    #  In case of routing, the actors to be routed to can be specified
                    #  in several ways:
                    #  - nr-of-instances: will create that many children
                    #  - routees.paths: will look the paths up using actorFor and route to
                    #    them, i.e. will not create children
                    #  - resizer: dynamically resizable number of routees as specified in resizer below
                    "router" : "from-code",
                    # reference.conf: 98
                    #  within is the timeout used for routers containing future calls
                    "within" : "5 seconds",
                    # reference.conf: 100
                    "routees" : {
                        # reference.conf: 104
                        #  Alternatively to giving nr-of-instances you can specify the full
                        #  paths of those actors which should be routed to. This setting takes
                        #  precedence over nr-of-instances
                        "paths" : []
                    }
                }
            },
            # reference.conf: 49
            "provider" : "akka.actor.LocalActorRefProvider",
            # merge of application.conf: 28,reference.conf: 266
            "debug" : {
                # reference.conf: 282
                #  enable DEBUG logging of subscription changes on the eventStream
                "event-stream" : "off",
                # reference.conf: 273
                #  enable DEBUG logging of all AutoReceiveMessages (Kill, PoisonPill and the like)
                "autoreceive" : "off",
                # application.conf: 30
                "lifecycle" : "on",
                # reference.conf: 279
                #  enable DEBUG logging of all LoggingFSMs for events, transitions and timers
                "fsm" : "off",
                # application.conf: 29
                "receive" : "on"
            },
            # reference.conf: 66
            "typed" : {
                # reference.conf: 68
                #  Default timeout for typed actor methods with non-void return type
                "timeout" : "5s"
            },
            # reference.conf: 56
            #  frequency with which stopping actors are prodded in case they had to be
            #  removed from their parents
            "reaper-interval" : "5s",
            # reference.conf: 60
            #  Serializes and deserializes (non-primitive) messages to ensure immutability,
            #  this is only intended for testing.
            "serialize-messages" : "off"
        },
        # reference.conf: 45
        #  JVM shutdown, System.exit(-1), in case of a fatal error, such as OutOfMemoryError
        "jvm-exit-on-fatal-error" : "on",
        # reference.conf: 39
        #  List FQCN of extensions which shall be loaded at actor system startup.
        #  Should be on the format: 'extensions = ["foo", "bar"]' etc.
        #  See the Akka Documentation for more info about Extensions
        "extensions" : [],
        # reference.conf: 10
        #  Akka version, checked against the runtime version of Akka.
        "version" : "2.0.4",
        # reference.conf: 30
        #  Log level for the very basic logger activated during AkkaApplication startup
        #  Options: ERROR, WARNING, INFO, DEBUG
        "stdout-loglevel" : "WARNING",
        # reference.conf: 16
        #  Event handlers to register at boot time (Logging$DefaultLogger logs to STDOUT)
        "event-handlers" : [
            # reference.conf: 16
            "akka.event.Logging$DefaultLogger"
        ]
    }
}
[INFO] [12/06/2012 00:37:08.906] [pool-4-thread-3] [ActorSystem(MarketDbBuncherSpec)] {
    # system properties
    "os" : {
        # system properties
        "arch" : "x86",
        # system properties
        "name" : "Windows 7",
        # system properties
        "version" : "6.1"
    },
    # system properties
    "awt" : {
        # system properties
        "toolkit" : "sun.awt.windows.WToolkit"
    },
    # system properties
    "file" : {
        # system properties
        "encoding" : {
            # system properties
            "pkg" : "sun.io"
        },
        # system properties
        "separator" : "\\"
    },
    # system properties
    "path" : {
        # system properties
        "separator" : ";"
    },
    # application.conf: 1
    "capture" : {
        # application.conf: 2
        "dispatchers" : {
            # application.conf: 3
            "replicationDispatcher" : {
                # application.conf: 9
                #  Single Threaded Executor
                "thread-pool-executor" : {
                    # application.conf: 12
                    "max-pool-size-min" : 1,
                    # application.conf: 13
                    "max-pool-size-max" : 1,
                    # application.conf: 11
                    "core-pool-size-max" : 1,
                    # application.conf: 10
                    "core-pool-size-min" : 1
                },
                # application.conf: 6
                "executor" : "thread-pool-executor",
                # application.conf: 4
                "type" : "Dispatcher",
                # application.conf: 16
                "throughput" : 1
            }
        }
    },
    # system properties
    "line" : {
        # system properties
        "separator" : "\r\n"
    },
    # system properties
    "java" : {
        # system properties
        "vm" : {
            # system properties
            "vendor" : "Oracle Corporation",
            # system properties
            "name" : "Java HotSpot(TM) Client VM",
            # system properties
            "specification" : {
                # system properties
                "vendor" : "Oracle Corporation",
                # system properties
                "name" : "Java Virtual Machine Specification",
                # system properties
                "version" : "1.7"
            },
            # system properties
            "version" : "23.1-b03",
            # system properties
            "info" : "mixed mode"
        },
        # system properties
        "home" : "C:\\Program Files (x86)\\Java\\jre7",
        # system properties
        "awt" : {
            # system properties
            "graphicsenv" : "sun.awt.Win32GraphicsEnvironment",
            # system properties
            "printerjob" : "sun.awt.windows.WPrinterJob"
        },
        # system properties
        "vendor" : {
            # system properties
            "url" : {
                # system properties
                "bug" : "http://bugreport.sun.com/bugreport/"
            }
        },
        # system properties
        "endorsed" : {
            # system properties
            "dirs" : "C:\\Program Files (x86)\\Java\\jre7\\lib\\endorsed"
        },
        # system properties
        "library" : {
            # system properties
            "path" : "C:\\Windows\\SysWOW64;C:\\Windows\\Sun\\Java\\bin;C:\\Windows\\system32;C:\\Windows;C:\\cygwin\\usr\\local\\bin;C:\\cygwin\\bin;C:\\Program Files (x86)\\AMD APP\\bin\\x86_64;C:\\Program Files (x86)\\AMD APP\\bin\\x86;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0;C:\\Program Files (x86)\\ATI Technologies\\ATI.ACE\\Core-Static;C:\\Program Files\\Java\\jdk1.7.0_05\\bin;C:\\zmq;C:\\jacob;C:\\P2CGate64\\p2bin;D:\\opt\\apache-ant-1.8.4\\bin;C:\\cygwin\\lib\\lapack;."
        },
        # system properties
        "specification" : {
            # system properties
            "vendor" : "Oracle Corporation",
            # system properties
            "name" : "Java Platform API Specification",
            # system properties
            "version" : "1.7"
        },
        # system properties
        "class" : {
            # system properties
            "path" : "D:\\opt\\sbt\\sbt-launch.jar",
            # system properties
            "version" : "51.0"
        },
        # system properties
        "runtime" : {
            # system properties
            "name" : "Java(TM) SE Runtime Environment",
            # system properties
            "version" : "1.7.0_05-b05"
        },
        # system properties
        "ext" : {
            # system properties
            "dirs" : "C:\\Program Files (x86)\\Java\\jre7\\lib\\ext;C:\\Windows\\Sun\\Java\\lib\\ext"
        },
        # system properties
        "io" : {
            # system properties
            "tmpdir" : "C:\\cygwin\\tmp\\"
        },
        # system properties
        "version" : "1.7.0_05"
    },
    # system properties
    "user" : {
        # system properties
        "home" : "C:\\Users\\zheka",
        # system properties
        "timezone" : "Europe/Moscow",
        # system properties
        "dir" : "D:\\projects\\ergodicity",
        # system properties
        "name" : "zheka",
        # system properties
        "language" : "ru",
        # system properties
        "script" : "",
        # system properties
        "variant" : "",
        # system properties
        "country" : "RU"
    },
    # system properties
    "sun" : {
        # system properties
        "os" : {
            # system properties
            "patch" : {
                # system properties
                "level" : "Service Pack 1"
            }
        },
        # system properties
        "boot" : {
            # system properties
            "library" : {
                # system properties
                "path" : "C:\\Program Files (x86)\\Java\\jre7\\bin"
            },
            # system properties
            "class" : {
                # system properties
                "path" : "C:\\Program Files (x86)\\Java\\jre7\\lib\\resources.jar;C:\\Program Files (x86)\\Java\\jre7\\lib\\rt.jar;C:\\Program Files (x86)\\Java\\jre7\\lib\\sunrsasign.jar;C:\\Program Files (x86)\\Java\\jre7\\lib\\jsse.jar;C:\\Program Files (x86)\\Java\\jre7\\lib\\jce.jar;C:\\Program Files (x86)\\Java\\jre7\\lib\\charsets.jar;C:\\Program Files (x86)\\Java\\jre7\\lib\\jfr.jar;C:\\Program Files (x86)\\Java\\jre7\\classes"
            }
        },
        # system properties
        "arch" : {
            # system properties
            "data" : {
                # system properties
                "model" : "32"
            }
        },
        # system properties
        "jnu" : {
            # system properties
            "encoding" : "Cp1251"
        },
        # system properties
        "cpu" : {
            # system properties
            "endian" : "little",
            # system properties
            "isalist" : ""
        },
        # system properties
        "desktop" : "windows",
        # system properties
        "java" : {
            # system properties
            "launcher" : "SUN_STANDARD",
            # system properties
            "command" : "D:\\opt\\sbt\\sbt-launch.jar test\r"
        },
        # system properties
        "management" : {
            # system properties
            "compiler" : "HotSpot Client Compiler"
        },
        # system properties
        "io" : {
            # system properties
            "unicode" : {
                # system properties
                "encoding" : "UnicodeLittle"
            }
        }
    },
    # merge of application.conf: 22,reference.conf: 8
    "akka" : {
        # reference.conf: 13
        #  Home directory of Akka, modules in the deploy directory will be loaded
        "home" : "",
        # application.conf: 23
        "loglevel" : "DEBUG",
        # reference.conf: 42
        #  Toggles whether the threads created by this ActorSystem should be daemons or not
        "daemonic" : "off",
        # application.conf: 25
        "log-config-on-start" : "on",
        # reference.conf: 304
        #  Used to set the behavior of the scheduler.
        #  Changing the default values may change the system behavior drastically so make sure
        #  you know what you're doing! See the Scheduler section of the Akka documentation for more details.
        "scheduler" : {
            # reference.conf: 314
            "ticks-per-wheel" : 512,
            # reference.conf: 313
            #  The HashedWheelTimer (HWT) implementation from Netty is used as the default scheduler
            #  in the system.
            #  HWT does not execute the scheduled tasks on exact time.
            #  It will, on every tick, check if there are any tasks behind the schedule and execute them.
            #  You can increase or decrease the accuracy of the execution timing by specifying smaller
            #  or larger tick duration.
            #  If you are scheduling a lot of tasks you should consider increasing the ticks per wheel.
            #  For more information see: http://www.jboss.org/netty/
            "tick-duration" : "100ms"
        },
        # reference.conf: 9
        "test" : {
            # reference.conf: 19
            #  duration to wait in expectMsg and friends outside of within() block by default
            "single-expect-default" : "3s",
            # reference.conf: 22
            #  The timeout that is added as an implicit by DefaultTimeout trait
            "default-timeout" : "5s",
            # reference.conf: 24
            "calling-thread-dispatcher" : {
                # reference.conf: 25
                "type" : "akka.testkit.CallingThreadDispatcherConfigurator"
            },
            # reference.conf: 16
            #  duration of EventFilter.intercept waits after the block is finished until
            #  all required messages are received
            "filter-leeway" : "3s",
            # reference.conf: 12
            #  factor by which to scale timeouts during tests, e.g. to account for shared
            #  build system load
            "timefactor" : 1
        },
        # reference.conf: 21
        #  Event handlers are created and registered synchronously during ActorSystem
        #  start-up, and since they are actors, this timeout is used to bound the
        #  waiting time
        "event-handler-startup-timeout" : "5s",
        # merge of application.conf: 27,reference.conf: 47
        "actor" : {
            # reference.conf: 296
            #  Class to Serializer binding. You only need to specify the name of an interface
            #  or abstract base class of the messages. In case of ambiguity it is using the
            #  most specific configured class, or giving a warning and choosing the УfirstФ one.
            # 
            #  To disable one of the default serializers, assign its class to "none", like
            #  "java.io.Serializable" = none
            "serialization-bindings" : {
                # reference.conf: 297
                "java.io.Serializable" : "java"
            },
            # reference.conf: 286
            #  Entries for pluggable serializers and their bindings.
            "serializers" : {
                # reference.conf: 287
                "java" : "akka.serialization.JavaSerializer"
            },
            # reference.conf: 52
            #  Timeout for ActorSystem.actorOf
            "creation-timeout" : "20s",
            # reference.conf: 64
            #  Serializes and deserializes creators (in Props) to ensure that they can be sent over the network,
            #  this is only intended for testing.
            "serialize-creators" : "off",
            # reference.conf: 160
            "default-dispatcher" : {
                # reference.conf: 263
                #  For Actor with Stash: The default capacity of the stash.
                #  If negative (or zero) then an unbounded stash is used (default)
                #  If positive then a bounded stash is used and the capacity is set using the
                #  property
                "stash-capacity" : -1,
                # reference.conf: 252
                #  FQCN of the MailboxType, if not specified the default bounded or unbounded
                #  mailbox is used. The Class of the FQCN must have a constructor with
                #  (akka.actor.ActorSystem.Settings, com.typesafe.config.Config) parameters.
                "mailbox-type" : "",
                # reference.conf: 191
                #  This will be used if you have set "executor = "thread-pool-executor""
                "thread-pool-executor" : {
                    # reference.conf: 215
                    #  Specifies the bounded capacity of the task queue (< 1 == unbounded)
                    "task-queue-size" : -1,
                    # reference.conf: 193
                    #  Keep alive time for threads
                    "keep-alive-time" : "60s",
                    # reference.conf: 206
                    #  Hint: max-pool-size is only used for bounded task queues
                    #  minimum number of threads to cap factor-based max number to
                    "max-pool-size-min" : 8,
                    # reference.conf: 212
                    #  Max number of threads to cap factor-based max number to
                    "max-pool-size-max" : 64,
                    # reference.conf: 199
                    #  No of core threads ... ceil(available processors * factor)
                    "core-pool-size-factor" : 3,
                    # reference.conf: 202
                    #  Max number of threads to cap factor-based number to
                    "core-pool-size-max" : 64,
                    # reference.conf: 209
                    #  Max no of threads ... ceil(available processors * factor)
                    "max-pool-size-factor" : 3,
                    # reference.conf: 196
                    #  Min number of threads to cap factor-based core number to
                    "core-pool-size-min" : 8,
                    # reference.conf: 222
                    #  Allow core threads to time out
                    "allow-core-timeout" : "on",
                    # reference.conf: 219
                    #  Specifies which type of task queue will be used, can be "array" or
                    #  "linked" (default)
                    "task-queue-type" : "linked"
                },
                # reference.conf: 257
                #  For BalancingDispatcher: If the balancing dispatcher should attempt to
                #  schedule idle actors using the same dispatcher when a message comes in,
                #  and the dispatchers ExecutorService is not fully busy already.
                "attempt-teamwork" : "on",
                # reference.conf: 179
                #  This will be used if you have set "executor = "fork-join-executor""
                "fork-join-executor" : {
                    # reference.conf: 184
                    #  Parallelism (threads) ... ceil(available processors * factor)
                    "parallelism-factor" : 3,
                    # reference.conf: 181
                    #  Min number of threads to cap factor-based parallelism number to
                    "parallelism-min" : 8,
                    # reference.conf: 187
                    #  Max number of threads to cap factor-based parallelism number to
                    "parallelism-max" : 64
                },
                # reference.conf: 233
                #  Throughput deadline for Dispatcher, set to 0 or negative for no deadline
                "throughput-deadline-time" : "0ms",
                # reference.conf: 247
                #  Specifies the timeout to add a new message to a mailbox that is full -
                #  negative number means infinite timeout. It is only used for type=Dispatcher
                #  and only if mailbox-capacity > 0
                "mailbox-push-timeout-time" : "10s",
                # reference.conf: 242
                #  If negative (or zero) then an unbounded mailbox is used (default)
                #  If positive then a bounded mailbox is used and the capacity is set using the
                #  property
                #  NOTE: setting a mailbox to 'blocking' can be a bit dangerous, could lead to
                #  deadlock, use with care
                #  The following mailbox-push-timeout-time is only used for type=Dispatcher and
                #  only if mailbox-capacity > 0
                "mailbox-capacity" : -1,
                # reference.conf: 176
                #  Which kind of ExecutorService to use for this dispatcher
                #  Valid options:
                #                "fork-join-executor" requires a "fork-join-executor" section
                #                "thread-pool-executor" requires a "thread-pool-executor" section
                #                or
                #                A FQCN of a class extending ExecutorServiceConfigurator
                "executor" : "fork-join-executor",
                # reference.conf: 226
                #  How long time the dispatcher will wait for new actors until it shuts down
                "shutdown-timeout" : "1s",
                # reference.conf: 168
                #  Must be one of the following
                #  Dispatcher, (BalancingDispatcher, only valid when all actors using it are of
                #  the same type), PinnedDispatcher, or a FQCN to a class inheriting
                #  MessageDispatcherConfigurator with a constructor with
                #  com.typesafe.config.Config parameter and akka.dispatch.DispatcherPrerequisites
                #  parameters.
                #  PinnedDispatcher must be used toghether with executor=thread-pool-executor.
                "type" : "Dispatcher",
                # reference.conf: 230
                #  Throughput defines the number of messages that are processed in a batch
                #  before the thread is returned to the pool. Set to 1 for as fair as possible.
                "throughput" : 5
            },
            # reference.conf: 71
            "deployment" : {
                # reference.conf: 74
                #  deployment id pattern - on the format: /parent/child etc.
                "default" : {
                    # reference.conf: 109
                    #  Routers with dynamically resizable number of routees; this feature is enabled
                    #  by including (parts of) this section in the deployment
                    "resizer" : {
                        # reference.conf: 131
                        #  Percentage to increase capacity whenever all routees are busy.
                        #  For example, 0.2 would increase 20% (rounded up), i.e. if current
                        #  capacity is 6 it will request an increase of 2 more routees.
                        "rampup-rate" : 0.2,
                        # reference.conf: 151
                        #  When the resizer reduce the capacity the abandoned routee actors are stopped
                        #  with PoisonPill after this delay. The reason for the delay is to give concurrent
                        #  messages a chance to be placed in mailbox before sending PoisonPill.
                        #  Use 0s to skip delay.
                        "stop-delay" : "1s",
                        # reference.conf: 116
                        #  The most number of routees the router should ever have.
                        #  Must be greater than or equal to lower-bound.
                        "upper-bound" : 10,
                        # reference.conf: 155
                        #  Number of messages between resize operation.
                        #  Use 1 to resize before each message.
                        "messages-per-resize" : 10,
                        # reference.conf: 139
                        #  Minimum fraction of busy routees before backing off.
                        #  For example, if this is 0.3, then we'll remove some routees only when
                        #  less than 30% of routees are busy, i.e. if current capacity is 10 and
                        #  3 are busy then the capacity is unchanged, but if 2 or less are busy
                        #  the capacity is decreased.
                        #  Use 0.0 or negative to avoid removal of routees.
                        "backoff-threshold" : 0.3,
                        # reference.conf: 145
                        #  Fraction of routees to be removed when the resizer reaches the
                        #  backoffThreshold.
                        #  For example, 0.1 would decrease 10% (rounded up), i.e. if current
                        #  capacity is 9 it will request an decrease of 1 routee.
                        "backoff-rate" : 0.1,
                        # reference.conf: 112
                        #  The fewest number of routees the router should ever have.
                        "lower-bound" : 1,
                        # reference.conf: 126
                        #  Threshold to evaluate if routee is considered to be busy (under pressure).
                        #  Implementation depends on this value (default is 1).
                        #  0:   number of routees currently processing a message.
                        #  1:   number of routees currently processing a message has
                        #       some messages in mailbox.
                        #  > 1: number of routees with at least the configured pressure-threshold
                        #       messages in their mailbox. Note that estimating mailbox size of
                        #       default UnboundedMailbox is O(N) operation.
                        "pressure-threshold" : 1
                    },
                    # reference.conf: 95
                    #  number of children to create in case of a non-direct router; this setting
                    #  is ignored if routees.paths is given
                    "nr-of-instances" : 1,
                    # reference.conf: 91
                    #  routing (load-balance) scheme to use
                    #      available: "from-code", "round-robin", "random", "smallest-mailbox", "scatter-gather", "broadcast"
                    #      or:        Fully qualified class name of the router class.
                    #                 The router class must extend akka.routing.CustomRouterConfig and and have constructor
                    #                 with com.typesafe.config.Config parameter.
                    #      default is "from-code";
                    #  Whether or not an actor is transformed to a Router is decided in code only (Props.withRouter).
                    #  The type of router can be overridden in the configuration; specifying "from-code" means
                    #  that the values specified in the code shall be used.
                    #  In case of routing, the actors to be routed to can be specified
                    #  in several ways:
                    #  - nr-of-instances: will create that many children
                    #  - routees.paths: will look the paths up using actorFor and route to
                    #    them, i.e. will not create children
                    #  - resizer: dynamically resizable number of routees as specified in resizer below
                    "router" : "from-code",
                    # reference.conf: 98
                    #  within is the timeout used for routers containing future calls
                    "within" : "5 seconds",
                    # reference.conf: 100
                    "routees" : {
                        # reference.conf: 104
                        #  Alternatively to giving nr-of-instances you can specify the full
                        #  paths of those actors which should be routed to. This setting takes
                        #  precedence over nr-of-instances
                        "paths" : []
                    }
                }
            },
            # reference.conf: 49
            "provider" : "akka.actor.LocalActorRefProvider",
            # merge of application.conf: 28,reference.conf: 266
            "debug" : {
                # reference.conf: 282
                #  enable DEBUG logging of subscription changes on the eventStream
                "event-stream" : "off",
                # reference.conf: 273
                #  enable DEBUG logging of all AutoReceiveMessages (Kill, PoisonPill and the like)
                "autoreceive" : "off",
                # application.conf: 30
                "lifecycle" : "on",
                # reference.conf: 279
                #  enable DEBUG logging of all LoggingFSMs for events, transitions and timers
                "fsm" : "off",
                # application.conf: 29
                "receive" : "on"
            },
            # reference.conf: 66
            "typed" : {
                # reference.conf: 68
                #  Default timeout for typed actor methods with non-void return type
                "timeout" : "5s"
            },
            # reference.conf: 56
            #  frequency with which stopping actors are prodded in case they had to be
            #  removed from their parents
            "reaper-interval" : "5s",
            # reference.conf: 60
            #  Serializes and deserializes (non-primitive) messages to ensure immutability,
            #  this is only intended for testing.
            "serialize-messages" : "off"
        },
        # reference.conf: 45
        #  JVM shutdown, System.exit(-1), in case of a fatal error, such as OutOfMemoryError
        "jvm-exit-on-fatal-error" : "on",
        # reference.conf: 39
        #  List FQCN of extensions which shall be loaded at actor system startup.
        #  Should be on the format: 'extensions = ["foo", "bar"]' etc.
        #  See the Akka Documentation for more info about Extensions
        "extensions" : [],
        # reference.conf: 10
        #  Akka version, checked against the runtime version of Akka.
        "version" : "2.0.4",
        # reference.conf: 30
        #  Log level for the very basic logger activated during AkkaApplication startup
        #  Options: ERROR, WARNING, INFO, DEBUG
        "stdout-loglevel" : "WARNING",
        # reference.conf: 16
        #  Event handlers to register at boot time (Logging$DefaultLogger logs to STDOUT)
        "event-handlers" : [
            # reference.conf: 16
            "akka.event.Logging$DefaultLogger"
        ]
    }
}
[DEBUG] [12/06/2012 00:37:08.971] [RouterSpec-akka.actor.default-dispatcher-1] [akka://RouterSpec/system/testActor1] started (akka.testkit.TestActor@1429730)
[DEBUG] [12/06/2012 00:37:08.973] [RouterSpec-akka.actor.default-dispatcher-1] [akka://RouterSpec/system] now supervising Actor[akka://RouterSpec/system/testActor1]
[info] MarketCaptureSpec:
[error] Could not run test com.ergodicity.capture.MarketCaptureSpec: java.lang.UnsatisfiedLinkError: ru.micexrts.cgate.impl.CGateImpl.env_open(Ljava/lang/String;)I
[DEBUG] [12/06/2012 00:37:09.37] [pool-4-thread-2] [EventStream(akka://MarketContentsCaptureSpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:37:09.37] [pool-4-thread-2] [EventStream(akka://MarketContentsCaptureSpec)] Default Loggers started
[INFO] [12/06/2012 00:37:09.38] [pool-4-thread-2] [ActorSystem(MarketContentsCaptureSpec)] {
    # system properties
    "os" : {
        # system properties
        "arch" : "x86",
        # system properties
        "name" : "Windows 7",
        # system properties
        "version" : "6.1"
    },
    # system properties
    "awt" : {
        # system properties
        "toolkit" : "sun.awt.windows.WToolkit"
    },
    # system properties
    "file" : {
        # system properties
        "encoding" : {
            # system properties
            "pkg" : "sun.io"
        },
        # system properties
        "separator" : "\\"
    },
    # system properties
    "path" : {
        # system properties
        "separator" : ";"
    },
    # application.conf: 1
    "capture" : {
        # application.conf: 2
        "dispatchers" : {
            # application.conf: 3
            "replicationDispatcher" : {
                # application.conf: 9
                #  Single Threaded Executor
                "thread-pool-executor" : {
                    # application.conf: 12
                    "max-pool-size-min" : 1,
                    # application.conf: 13
                    "max-pool-size-max" : 1,
                    # application.conf: 11
                    "core-pool-size-max" : 1,
                    # application.conf: 10
                    "core-pool-size-min" : 1
                },
                # application.conf: 6
                "executor" : "thread-pool-executor",
                # application.conf: 4
                "type" : "Dispatcher",
                # application.conf: 16
                "throughput" : 1
            }
        }
    },
    # system properties
    "line" : {
        # system properties
        "separator" : "\r\n"
    },
    # system properties
    "java" : {
        # system properties
        "vm" : {
            # system properties
            "vendor" : "Oracle Corporation",
            # system properties
            "name" : "Java HotSpot(TM) Client VM",
            # system properties
            "specification" : {
                # system properties
                "vendor" : "Oracle Corporation",
                # system properties
                "name" : "Java Virtual Machine Specification",
                # system properties
                "version" : "1.7"
            },
            # system properties
            "version" : "23.1-b03",
            # system properties
            "info" : "mixed mode"
        },
        # system properties
        "home" : "C:\\Program Files (x86)\\Java\\jre7",
        # system properties
        "awt" : {
            # system properties
            "graphicsenv" : "sun.awt.Win32GraphicsEnvironment",
            # system properties
            "printerjob" : "sun.awt.windows.WPrinterJob"
        },
        # system properties
        "vendor" : {
            # system properties
            "url" : {
                # system properties
                "bug" : "http://bugreport.sun.com/bugreport/"
            }
        },
        # system properties
        "endorsed" : {
            # system properties
            "dirs" : "C:\\Program Files (x86)\\Java\\jre7\\lib\\endorsed"
        },
        # system properties
        "library" : {
            # system properties
            "path" : "C:\\Windows\\SysWOW64;C:\\Windows\\Sun\\Java\\bin;C:\\Windows\\system32;C:\\Windows;C:\\cygwin\\usr\\local\\bin;C:\\cygwin\\bin;C:\\Program Files (x86)\\AMD APP\\bin\\x86_64;C:\\Program Files (x86)\\AMD APP\\bin\\x86;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0;C:\\Program Files (x86)\\ATI Technologies\\ATI.ACE\\Core-Static;C:\\Program Files\\Java\\jdk1.7.0_05\\bin;C:\\zmq;C:\\jacob;C:\\P2CGate64\\p2bin;D:\\opt\\apache-ant-1.8.4\\bin;C:\\cygwin\\lib\\lapack;."
        },
        # system properties
        "specification" : {
            # system properties
            "vendor" : "Oracle Corporation",
            # system properties
            "name" : "Java Platform API Specification",
            # system properties
            "version" : "1.7"
        },
        # system properties
        "class" : {
            # system properties
            "path" : "D:\\opt\\sbt\\sbt-launch.jar",
            # system properties
            "version" : "51.0"
        },
        # system properties
        "runtime" : {
            # system properties
            "name" : "Java(TM) SE Runtime Environment",
            # system properties
            "version" : "1.7.0_05-b05"
        },
        # system properties
        "ext" : {
            # system properties
            "dirs" : "C:\\Program Files (x86)\\Java\\jre7\\lib\\ext;C:\\Windows\\Sun\\Java\\lib\\ext"
        },
        # system properties
        "io" : {
            # system properties
            "tmpdir" : "C:\\cygwin\\tmp\\"
        },
        # system properties
        "version" : "1.7.0_05"
    },
    # system properties
    "user" : {
        # system properties
        "home" : "C:\\Users\\zheka",
        # system properties
        "timezone" : "Europe/Moscow",
        # system properties
        "dir" : "D:\\projects\\ergodicity",
        # system properties
        "name" : "zheka",
        # system properties
        "language" : "ru",
        # system properties
        "script" : "",
        # system properties
        "variant" : "",
        # system properties
        "country" : "RU"
    },
    # system properties
    "sun" : {
        # system properties
        "os" : {
            # system properties
            "patch" : {
                # system properties
                "level" : "Service Pack 1"
            }
        },
        # system properties
        "boot" : {
            # system properties
            "library" : {
                # system properties
                "path" : "C:\\Program Files (x86)\\Java\\jre7\\bin"
            },
            # system properties
            "class" : {
                # system properties
                "path" : "C:\\Program Files (x86)\\Java\\jre7\\lib\\resources.jar;C:\\Program Files (x86)\\Java\\jre7\\lib\\rt.jar;C:\\Program Files (x86)\\Java\\jre7\\lib\\sunrsasign.jar;C:\\Program Files (x86)\\Java\\jre7\\lib\\jsse.jar;C:\\Program Files (x86)\\Java\\jre7\\lib\\jce.jar;C:\\Program Files (x86)\\Java\\jre7\\lib\\charsets.jar;C:\\Program Files (x86)\\Java\\jre7\\lib\\jfr.jar;C:\\Program Files (x86)\\Java\\jre7\\classes"
            }
        },
        # system properties
        "arch" : {
            # system properties
            "data" : {
                # system properties
                "model" : "32"
            }
        },
        # system properties
        "jnu" : {
            # system properties
            "encoding" : "Cp1251"
        },
        # system properties
        "cpu" : {
            # system properties
            "endian" : "little",
            # system properties
            "isalist" : ""
        },
        # system properties
        "desktop" : "windows",
        # system properties
        "java" : {
            # system properties
            "launcher" : "SUN_STANDARD",
            # system properties
            "command" : "D:\\opt\\sbt\\sbt-launch.jar test\r"
        },
        # system properties
        "management" : {
            # system properties
            "compiler" : "HotSpot Client Compiler"
        },
        # system properties
        "io" : {
            # system properties
            "unicode" : {
                # system properties
                "encoding" : "UnicodeLittle"
            }
        }
    },
    # merge of application.conf: 22,reference.conf: 8
    "akka" : {
        # reference.conf: 13
        #  Home directory of Akka, modules in the deploy directory will be loaded
        "home" : "",
        # application.conf: 23
        "loglevel" : "DEBUG",
        # reference.conf: 42
        #  Toggles whether the threads created by this ActorSystem should be daemons or not
        "daemonic" : "off",
        # application.conf: 25
        "log-config-on-start" : "on",
        # reference.conf: 304
        #  Used to set the behavior of the scheduler.
        #  Changing the default values may change the system behavior drastically so make sure
        #  you know what you're doing! See the Scheduler section of the Akka documentation for more details.
        "scheduler" : {
            # reference.conf: 314
            "ticks-per-wheel" : 512,
            # reference.conf: 313
            #  The HashedWheelTimer (HWT) implementation from Netty is used as the default scheduler
            #  in the system.
            #  HWT does not execute the scheduled tasks on exact time.
            #  It will, on every tick, check if there are any tasks behind the schedule and execute them.
            #  You can increase or decrease the accuracy of the execution timing by specifying smaller
            #  or larger tick duration.
            #  If you are scheduling a lot of tasks you should consider increasing the ticks per wheel.
            #  For more information see: http://www.jboss.org/netty/
            "tick-duration" : "100ms"
        },
        # reference.conf: 9
        "test" : {
            # reference.conf: 19
            #  duration to wait in expectMsg and friends outside of within() block by default
            "single-expect-default" : "3s",
            # reference.conf: 22
            #  The timeout that is added as an implicit by DefaultTimeout trait
            "default-timeout" : "5s",
            # reference.conf: 24
            "calling-thread-dispatcher" : {
                # reference.conf: 25
                "type" : "akka.testkit.CallingThreadDispatcherConfigurator"
            },
            # reference.conf: 16
            #  duration of EventFilter.intercept waits after the block is finished until
            #  all required messages are received
            "filter-leeway" : "3s",
            # reference.conf: 12
            #  factor by which to scale timeouts during tests, e.g. to account for shared
            #  build system load
            "timefactor" : 1
        },
        # reference.conf: 21
        #  Event handlers are created and registered synchronously during ActorSystem
        #  start-up, and since they are actors, this timeout is used to bound the
        #  waiting time
        "event-handler-startup-timeout" : "5s",
        # merge of application.conf: 27,reference.conf: 47
        "actor" : {
            # reference.conf: 296
            #  Class to Serializer binding. You only need to specify the name of an interface
            #  or abstract base class of the messages. In case of ambiguity it is using the
            #  most specific configured class, or giving a warning and choosing the УfirstФ one.
            # 
            #  To disable one of the default serializers, assign its class to "none", like
            #  "java.io.Serializable" = none
            "serialization-bindings" : {
                # reference.conf: 297
                "java.io.Serializable" : "java"
            },
            # reference.conf: 286
            #  Entries for pluggable serializers and their bindings.
            "serializers" : {
                # reference.conf: 287
                "java" : "akka.serialization.JavaSerializer"
            },
            # reference.conf: 52
            #  Timeout for ActorSystem.actorOf
            "creation-timeout" : "20s",
            # reference.conf: 64
            #  Serializes and deserializes creators (in Props) to ensure that they can be sent over the network,
            #  this is only intended for testing.
            "serialize-creators" : "off",
            # reference.conf: 160
            "default-dispatcher" : {
                # reference.conf: 263
                #  For Actor with Stash: The default capacity of the stash.
                #  If negative (or zero) then an unbounded stash is used (default)
                #  If positive then a bounded stash is used and the capacity is set using the
                #  property
                "stash-capacity" : -1,
                # reference.conf: 252
                #  FQCN of the MailboxType, if not specified the default bounded or unbounded
                #  mailbox is used. The Class of the FQCN must have a constructor with
                #  (akka.actor.ActorSystem.Settings, com.typesafe.config.Config) parameters.
                "mailbox-type" : "",
                # reference.conf: 191
                #  This will be used if you have set "executor = "thread-pool-executor""
                "thread-pool-executor" : {
                    # reference.conf: 215
                    #  Specifies the bounded capacity of the task queue (< 1 == unbounded)
                    "task-queue-size" : -1,
                    # reference.conf: 193
                    #  Keep alive time for threads
                    "keep-alive-time" : "60s",
                    # reference.conf: 206
                    #  Hint: max-pool-size is only used for bounded task queues
                    #  minimum number of threads to cap factor-based max number to
                    "max-pool-size-min" : 8,
                    # reference.conf: 212
                    #  Max number of threads to cap factor-based max number to
                    "max-pool-size-max" : 64,
                    # reference.conf: 199
                    #  No of core threads ... ceil(available processors * factor)
                    "core-pool-size-factor" : 3,
                    # reference.conf: 202
                    #  Max number of threads to cap factor-based number to
                    "core-pool-size-max" : 64,
                    # reference.conf: 209
                    #  Max no of threads ... ceil(available processors * factor)
                    "max-pool-size-factor" : 3,
                    # reference.conf: 196
                    #  Min number of threads to cap factor-based core number to
                    "core-pool-size-min" : 8,
                    # reference.conf: 222
                    #  Allow core threads to time out
                    "allow-core-timeout" : "on",
                    # reference.conf: 219
                    #  Specifies which type of task queue will be used, can be "array" or
                    #  "linked" (default)
                    "task-queue-type" : "linked"
                },
                # reference.conf: 257
                #  For BalancingDispatcher: If the balancing dispatcher should attempt to
                #  schedule idle actors using the same dispatcher when a message comes in,
                #  and the dispatchers ExecutorService is not fully busy already.
                "attempt-teamwork" : "on",
                # reference.conf: 179
                #  This will be used if you have set "executor = "fork-join-executor""
                "fork-join-executor" : {
                    # reference.conf: 184
                    #  Parallelism (threads) ... ceil(available processors * factor)
                    "parallelism-factor" : 3,
                    # reference.conf: 181
                    #  Min number of threads to cap factor-based parallelism number to
                    "parallelism-min" : 8,
                    # reference.conf: 187
                    #  Max number of threads to cap factor-based parallelism number to
                    "parallelism-max" : 64
                },
                # reference.conf: 233
                #  Throughput deadline for Dispatcher, set to 0 or negative for no deadline
                "throughput-deadline-time" : "0ms",
                # reference.conf: 247
                #  Specifies the timeout to add a new message to a mailbox that is full -
                #  negative number means infinite timeout. It is only used for type=Dispatcher
                #  and only if mailbox-capacity > 0
                "mailbox-push-timeout-time" : "10s",
                # reference.conf: 242
                #  If negative (or zero) then an unbounded mailbox is used (default)
                #  If positive then a bounded mailbox is used and the capacity is set using the
                #  property
                #  NOTE: setting a mailbox to 'blocking' can be a bit dangerous, could lead to
                #  deadlock, use with care
                #  The following mailbox-push-timeout-time is only used for type=Dispatcher and
                #  only if mailbox-capacity > 0
                "mailbox-capacity" : -1,
                # reference.conf: 176
                #  Which kind of ExecutorService to use for this dispatcher
                #  Valid options:
                #                "fork-join-executor" requires a "fork-join-executor" section
                #                "thread-pool-executor" requires a "thread-pool-executor" section
                #                or
                #                A FQCN of a class extending ExecutorServiceConfigurator
                "executor" : "fork-join-executor",
                # reference.conf: 226
                #  How long time the dispatcher will wait for new actors until it shuts down
                "shutdown-timeout" : "1s",
                # reference.conf: 168
                #  Must be one of the following
                #  Dispatcher, (BalancingDispatcher, only valid when all actors using it are of
                #  the same type), PinnedDispatcher, or a FQCN to a class inheriting
                #  MessageDispatcherConfigurator with a constructor with
                #  com.typesafe.config.Config parameter and akka.dispatch.DispatcherPrerequisites
                #  parameters.
                #  PinnedDispatcher must be used toghether with executor=thread-pool-executor.
                "type" : "Dispatcher",
                # reference.conf: 230
                #  Throughput defines the number of messages that are processed in a batch
                #  before the thread is returned to the pool. Set to 1 for as fair as possible.
                "throughput" : 5
            },
            # reference.conf: 71
            "deployment" : {
                # reference.conf: 74
                #  deployment id pattern - on the format: /parent/child etc.
                "default" : {
                    # reference.conf: 109
                    #  Routers with dynamically resizable number of routees; this feature is enabled
                    #  by including (parts of) this section in the deployment
                    "resizer" : {
                        # reference.conf: 131
                        #  Percentage to increase capacity whenever all routees are busy.
                        #  For example, 0.2 would increase 20% (rounded up), i.e. if current
                        #  capacity is 6 it will request an increase of 2 more routees.
                        "rampup-rate" : 0.2,
                        # reference.conf: 151
                        #  When the resizer reduce the capacity the abandoned routee actors are stopped
                        #  with PoisonPill after this delay. The reason for the delay is to give concurrent
                        #  messages a chance to be placed in mailbox before sending PoisonPill.
                        #  Use 0s to skip delay.
                        "stop-delay" : "1s",
                        # reference.conf: 116
                        #  The most number of routees the router should ever have.
                        #  Must be greater than or equal to lower-bound.
                        "upper-bound" : 10,
                        # reference.conf: 155
                        #  Number of messages between resize operation.
                        #  Use 1 to resize before each message.
                        "messages-per-resize" : 10,
                        # reference.conf: 139
                        #  Minimum fraction of busy routees before backing off.
                        #  For example, if this is 0.3, then we'll remove some routees only when
                        #  less than 30% of routees are busy, i.e. if current capacity is 10 and
                        #  3 are busy then the capacity is unchanged, but if 2 or less are busy
                        #  the capacity is decreased.
                        #  Use 0.0 or negative to avoid removal of routees.
                        "backoff-threshold" : 0.3,
                        # reference.conf: 145
                        #  Fraction of routees to be removed when the resizer reaches the
                        #  backoffThreshold.
                        #  For example, 0.1 would decrease 10% (rounded up), i.e. if current
                        #  capacity is 9 it will request an decrease of 1 routee.
                        "backoff-rate" : 0.1,
                        # reference.conf: 112
                        #  The fewest number of routees the router should ever have.
                        "lower-bound" : 1,
                        # reference.conf: 126
                        #  Threshold to evaluate if routee is considered to be busy (under pressure).
                        #  Implementation depends on this value (default is 1).
                        #  0:   number of routees currently processing a message.
                        #  1:   number of routees currently processing a message has
                        #       some messages in mailbox.
                        #  > 1: number of routees with at least the configured pressure-threshold
                        #       messages in their mailbox. Note that estimating mailbox size of
                        #       default UnboundedMailbox is O(N) operation.
                        "pressure-threshold" : 1
                    },
                    # reference.conf: 95
                    #  number of children to create in case of a non-direct router; this setting
                    #  is ignored if routees.paths is given
                    "nr-of-instances" : 1,
                    # reference.conf: 91
                    #  routing (load-balance) scheme to use
                    #      available: "from-code", "round-robin", "random", "smallest-mailbox", "scatter-gather", "broadcast"
                    #      or:        Fully qualified class name of the router class.
                    #                 The router class must extend akka.routing.CustomRouterConfig and and have constructor
                    #                 with com.typesafe.config.Config parameter.
                    #      default is "from-code";
                    #  Whether or not an actor is transformed to a Router is decided in code only (Props.withRouter).
                    #  The type of router can be overridden in the configuration; specifying "from-code" means
                    #  that the values specified in the code shall be used.
                    #  In case of routing, the actors to be routed to can be specified
                    #  in several ways:
                    #  - nr-of-instances: will create that many children
                    #  - routees.paths: will look the paths up using actorFor and route to
                    #    them, i.e. will not create children
                    #  - resizer: dynamically resizable number of routees as specified in resizer below
                    "router" : "from-code",
                    # reference.conf: 98
                    #  within is the timeout used for routers containing future calls
                    "within" : "5 seconds",
                    # reference.conf: 100
                    "routees" : {
                        # reference.conf: 104
                        #  Alternatively to giving nr-of-instances you can specify the full
                        #  paths of those actors which should be routed to. This setting takes
                        #  precedence over nr-of-instances
                        "paths" : []
                    }
                }
            },
            # reference.conf: 49
            "provider" : "akka.actor.LocalActorRefProvider",
            # merge of application.conf: 28,reference.conf: 266
            "debug" : {
                # reference.conf: 282
                #  enable DEBUG logging of subscription changes on the eventStream
                "event-stream" : "off",
                # reference.conf: 273
                #  enable DEBUG logging of all AutoReceiveMessages (Kill, PoisonPill and the like)
                "autoreceive" : "off",
                # application.conf: 30
                "lifecycle" : "on",
                # reference.conf: 279
                #  enable DEBUG logging of all LoggingFSMs for events, transitions and timers
                "fsm" : "off",
                # application.conf: 29
                "receive" : "on"
            },
            # reference.conf: 66
            "typed" : {
                # reference.conf: 68
                #  Default timeout for typed actor methods with non-void return type
                "timeout" : "5s"
            },
            # reference.conf: 56
            #  frequency with which stopping actors are prodded in case they had to be
            #  removed from their parents
            "reaper-interval" : "5s",
            # reference.conf: 60
            #  Serializes and deserializes (non-primitive) messages to ensure immutability,
            #  this is only intended for testing.
            "serialize-messages" : "off"
        },
        # reference.conf: 45
        #  JVM shutdown, System.exit(-1), in case of a fatal error, such as OutOfMemoryError
        "jvm-exit-on-fatal-error" : "on",
        # reference.conf: 39
        #  List FQCN of extensions which shall be loaded at actor system startup.
        #  Should be on the format: 'extensions = ["foo", "bar"]' etc.
        #  See the Akka Documentation for more info about Extensions
        "extensions" : [],
        # reference.conf: 10
        #  Akka version, checked against the runtime version of Akka.
        "version" : "2.0.4",
        # reference.conf: 30
        #  Log level for the very basic logger activated during AkkaApplication startup
        #  Options: ERROR, WARNING, INFO, DEBUG
        "stdout-loglevel" : "WARNING",
        # reference.conf: 16
        #  Event handlers to register at boot time (Logging$DefaultLogger logs to STDOUT)
        "event-handlers" : [
            # reference.conf: 16
            "akka.event.Logging$DefaultLogger"
        ]
    }
}
[DEBUG] [12/06/2012 00:37:09.48] [RouterSpec-akka.actor.default-dispatcher-3] [akka://RouterSpec/user] now supervising TestActor[akka://RouterSpec/user/Router]
[DEBUG] [12/06/2012 00:37:09.51] [RouterSpec-akka.actor.default-dispatcher-1] [akka://RouterSpec/system/testActor2] started (akka.testkit.TestActor@6a2666)
[DEBUG] [12/06/2012 00:37:09.51] [RouterSpec-akka.actor.default-dispatcher-1] [akka://RouterSpec/system] now supervising Actor[akka://RouterSpec/system/testActor2]
[DEBUG] [12/06/2012 00:37:09.77] [pool-4-thread-1] [akka://RouterSpec/user/Router] started (com.ergodicity.capture.Router@7e680)
[ERROR] [12/06/2012 00:37:09.488] [InstrumentWatchDogSpec-scheduler-1] [akka://InstrumentWatchDogSpec/user/InstrumentWatchDog] Catching instrument for isin = Isin(GMKR-6.12) timed out
[ERROR] [12/06/2012 00:37:09.488] [InstrumentWatchDogSpec-scheduler-1] [akka://InstrumentWatchDogSpec/user/InstrumentWatchDog] Catching instrument for isin = Isin(GMKR-6.12) timed out
com.ergodicity.engine.strategy.InstrumentWatcherException: Catching instrument for isin = Isin(GMKR-6.12) timed out
	at com.ergodicity.engine.strategy.InstrumentWatchDog$$anonfun$3.apply(InstrumentWatcher.scala:107)
	at com.ergodicity.engine.strategy.InstrumentWatchDog$$anonfun$3.apply(InstrumentWatcher.scala:82)
	at akka.actor.FSM$class.processEvent(FSM.scala:486)
	at com.ergodicity.engine.strategy.InstrumentWatchDog.akka$actor$LoggingFSM$$super$processEvent(InstrumentWatcher.scala:63)
	at akka.actor.LoggingFSM$class.processEvent(FSM.scala:605)
	at com.ergodicity.engine.strategy.InstrumentWatchDog.processEvent(InstrumentWatcher.scala:63)
	at akka.actor.FSM$class.akka$actor$FSM$$processMsg(FSM.scala:480)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:440)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:437)
	at akka.actor.Actor$class.apply(Actor.scala:318)
	at com.ergodicity.engine.strategy.InstrumentWatchDog.apply(InstrumentWatcher.scala:63)
	at akka.actor.ActorCell.invoke(ActorCell.scala:626)
	at akka.testkit.CallingThreadDispatcher.runQueue(CallingThreadDispatcher.scala:235)
	at akka.testkit.CallingThreadDispatcher.dispatch(CallingThreadDispatcher.scala:201)
	at akka.actor.ActorCell.tell(ActorCell.scala:475)
	at akka.actor.LocalActorRef.$bang(ActorRef.scala:328)
	at akka.actor.DefaultScheduler$$anon$5.run(Scheduler.scala:174)
	at org.jboss.netty.akka.util.HashedWheelTimer$HashedWheelTimeout.expire(HashedWheelTimer.java:476)
	at org.jboss.netty.akka.util.HashedWheelTimer$Worker.notifyExpiredTimeouts(HashedWheelTimer.java:381)
	at org.jboss.netty.akka.util.HashedWheelTimer$Worker.run(HashedWheelTimer.java:321)
	at java.lang.Thread.run(Unknown Source)

[INFO] [12/06/2012 00:37:09.489] [pool-4-thread-4] [akka://InstrumentWatchDogSpec/user/InstrumentWatchDog] Catched ongoing session, session id = SessionId(100,100)
[DEBUG] [12/06/2012 00:37:09.490] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-6] [akka://InstrumentWatchDogSpec/user/Session/Futures] Get session instrument: FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract); Result = Some((FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract),Actor[akka://InstrumentWatchDogSpec/user/Session/Futures/GMKR-6.12]))
[DEBUG] [12/06/2012 00:37:09.490] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-6] [akka://InstrumentWatchDogSpec/user/Session/Options] Get session instrument: FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract); Result = None
[INFO] [12/06/2012 00:37:09.490] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-2] [akka://InstrumentWatchDogSpec/user/InstrumentWatchDog] Catched instrument for isin = Isin(GMKR-6.12); ref = InstrumentRef(SessionId(100,100),FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract),Actor[akka://InstrumentWatchDogSpec/user/Session/Futures/GMKR-6.12])
[info] InstrumentWatchDogSpec:
[info] InstrumentWatchDog 
[info] - must subscribe for ongoing session
[info] - must catch instument
[info] - must fail watching instument that is not assigned
[info] - must catch new instrument on session reassigned
[info] - must fail on catched instrument terminated
[info] - must notify on catched instrument states
[DEBUG] [12/06/2012 00:37:09.493] [RouterSpec-akka.actor.default-dispatcher-2] [akka://RouterSpec/user] now supervising TestActor[akka://RouterSpec/user/Router]
[DEBUG] [12/06/2012 00:37:09.493] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-1] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:09.493] [RouterSpec-akka.actor.default-dispatcher-2] [akka://RouterSpec/system/testActor3] started (akka.testkit.TestActor@1bf40cb)
[DEBUG] [12/06/2012 00:37:09.492] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-1] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:09.493] [RouterSpec-akka.actor.default-dispatcher-2] [akka://RouterSpec/system] now supervising Actor[akka://RouterSpec/system/testActor3]
[DEBUG] [12/06/2012 00:37:09.493] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-1] [EventStream] all default loggers stopped
[ERROR] [12/06/2012 00:37:09.496] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-1] [akka://InstrumentWatchDogSpec/user/InstrumentWatchDog] Catching instrument for isin = Isin(GMKR-6.12) timed out
[ERROR] [12/06/2012 00:37:09.496] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-1] [akka://InstrumentWatchDogSpec/user/InstrumentWatchDog] Catching instrument for isin = Isin(GMKR-6.12) timed out
com.ergodicity.engine.strategy.InstrumentWatcherException: Catching instrument for isin = Isin(GMKR-6.12) timed out
	at com.ergodicity.engine.strategy.InstrumentWatchDog$$anonfun$3.apply(InstrumentWatcher.scala:107)
	at com.ergodicity.engine.strategy.InstrumentWatchDog$$anonfun$3.apply(InstrumentWatcher.scala:82)
	at akka.actor.FSM$class.processEvent(FSM.scala:486)
	at com.ergodicity.engine.strategy.InstrumentWatchDog.akka$actor$LoggingFSM$$super$processEvent(InstrumentWatcher.scala:63)
	at akka.actor.LoggingFSM$class.processEvent(FSM.scala:605)
	at com.ergodicity.engine.strategy.InstrumentWatchDog.processEvent(InstrumentWatcher.scala:63)
	at akka.actor.FSM$class.akka$actor$FSM$$processMsg(FSM.scala:480)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:440)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:437)
	at akka.actor.Actor$class.apply(Actor.scala:318)
	at com.ergodicity.engine.strategy.InstrumentWatchDog.apply(InstrumentWatcher.scala:63)
	at akka.actor.ActorCell.invoke(ActorCell.scala:626)
	at akka.testkit.CallingThreadDispatcher.runQueue(CallingThreadDispatcher.scala:235)
	at akka.testkit.CallingThreadDispatcher.dispatch(CallingThreadDispatcher.scala:201)
	at akka.actor.ActorCell.tell(ActorCell.scala:475)
	at akka.actor.LocalActorRef.$bang(ActorRef.scala:328)
	at akka.actor.DefaultScheduler$$anon$5.run(Scheduler.scala:174)
	at akka.actor.DefaultScheduler.akka$actor$DefaultScheduler$$execDirectly(Scheduler.scala:200)
	at akka.actor.DefaultScheduler$$anonfun$close$1.apply(Scheduler.scala:208)
	at akka.actor.DefaultScheduler$$anonfun$close$1.apply(Scheduler.scala:208)
	at scala.collection.Iterator$class.foreach(Iterator.scala:772)
	at scala.collection.JavaConversions$JIteratorWrapper.foreach(JavaConversions.scala:573)
	at scala.collection.IterableLike$class.foreach(IterableLike.scala:73)
	at scala.collection.JavaConversions$JSetWrapper.foreach(JavaConversions.scala:661)
	at akka.actor.DefaultScheduler.close(Scheduler.scala:208)
	at akka.actor.ActorSystemImpl.stopScheduler(ActorSystem.scala:642)
	at akka.actor.ActorSystemImpl$$anonfun$_start$1.apply$mcV$sp(ActorSystem.scala:589)
	at akka.actor.ActorSystemImpl$$anonfun$_start$1.apply(ActorSystem.scala:589)
	at akka.actor.ActorSystemImpl$$anonfun$_start$1.apply(ActorSystem.scala:589)
	at akka.actor.ActorSystemImpl$$anon$4.run(ActorSystem.scala:602)
	at akka.actor.ActorSystemImpl$TerminationCallbacks$$anonfun$run$1.runNext$1(ActorSystem.scala:726)
	at akka.actor.ActorSystemImpl$TerminationCallbacks$$anonfun$run$1.apply$mcV$sp(ActorSystem.scala:729)
	at akka.actor.ActorSystemImpl$TerminationCallbacks$$anonfun$run$1.apply(ActorSystem.scala:722)
	at akka.actor.ActorSystemImpl$TerminationCallbacks$$anonfun$run$1.apply(ActorSystem.scala:722)
	at akka.util.ReentrantGuard.withGuard(LockUtil.scala:17)
	at akka.actor.ActorSystemImpl$TerminationCallbacks.run(ActorSystem.scala:722)
	at akka.actor.ActorSystemImpl$$anonfun$terminationCallbacks$1.apply(ActorSystem.scala:599)
	at akka.actor.ActorSystemImpl$$anonfun$terminationCallbacks$1.apply(ActorSystem.scala:599)
	at akka.dispatch.DefaultPromise.akka$dispatch$DefaultPromise$$notifyCompleted(Future.scala:943)
	at akka.dispatch.DefaultPromise$$anonfun$tryComplete$1$$anonfun$apply$mcV$sp$4.apply(Future.scala:920)
	at akka.dispatch.DefaultPromise$$anonfun$tryComplete$1$$anonfun$apply$mcV$sp$4.apply(Future.scala:920)
	at scala.collection.LinearSeqOptimized$class.foreach(LinearSeqOptimized.scala:59)
	at scala.collection.immutable.List.foreach(List.scala:76)
	at akka.dispatch.DefaultPromise$$anonfun$tryComplete$1.apply$mcV$sp(Future.scala:920)
	at akka.dispatch.Future$$anon$4$$anonfun$run$1.apply$mcV$sp(Future.scala:386)
	at akka.dispatch.Future$$anon$4$$anonfun$run$1.apply(Future.scala:378)
	at akka.dispatch.Future$$anon$4$$anonfun$run$1.apply(Future.scala:378)
	at scala.util.DynamicVariable.withValue(DynamicVariable.scala:57)
	at akka.dispatch.Future$$anon$4.run(Future.scala:378)
	at akka.dispatch.TaskInvocation.run(AbstractDispatcher.scala:94)
	at akka.jsr166y.ForkJoinTask$AdaptedRunnableAction.exec(ForkJoinTask.java:1381)
	at akka.jsr166y.ForkJoinTask.doExec(ForkJoinTask.java:259)
	at akka.jsr166y.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:975)
	at akka.jsr166y.ForkJoinPool.runWorker(ForkJoinPool.java:1479)
	at akka.jsr166y.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:104)

[DEBUG] [12/06/2012 00:37:09.505] [pool-4-thread-1] [akka://RouterSpec/user/Router] started (com.ergodicity.capture.Router@287178)
[DEBUG] [12/06/2012 00:37:09.506] [pool-4-thread-4] [EventStream(akka://RepositorySpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:37:09.506] [pool-4-thread-4] [EventStream(akka://RepositorySpec)] Default Loggers started
[DEBUG] [12/06/2012 00:37:09.508] [RepositorySpec-akka.actor.default-dispatcher-1] [akka://RepositorySpec/system/testActor4] started (akka.testkit.TestActor@1c26253)
[DEBUG] [12/06/2012 00:37:09.508] [RepositorySpec-akka.actor.default-dispatcher-1] [akka://RepositorySpec/system] now supervising Actor[akka://RepositorySpec/system/testActor4]
[DEBUG] [12/06/2012 00:37:09.522] [RepositorySpec-akka.actor.default-dispatcher-2] [akka://RepositorySpec/user] now supervising TestActor[akka://RepositorySpec/user/Repository]
[DEBUG] [12/06/2012 00:37:09.596] [pool-4-thread-4] [akka://RepositorySpec/user/Repository] started (com.ergodicity.capture.Repository@1c01c8f)
[DEBUG] [12/06/2012 00:37:09.602] [RepositorySpec-akka.actor.default-dispatcher-1] [akka://RepositorySpec/user] now supervising TestActor[akka://RepositorySpec/user/Repository]
[DEBUG] [12/06/2012 00:37:09.602] [pool-4-thread-4] [akka://RepositorySpec/user/Repository] started (com.ergodicity.capture.Repository@199ad14)
[DEBUG] [12/06/2012 00:37:09.617] [RepositorySpec-akka.actor.default-dispatcher-1] [akka://RepositorySpec/user] now supervising TestActor[akka://RepositorySpec/user/Repository]
[DEBUG] [12/06/2012 00:37:09.617] [pool-4-thread-4] [akka://RepositorySpec/user/Repository] started (com.ergodicity.capture.Repository@5407c9)
[DEBUG] [12/06/2012 00:37:09.620] [RepositorySpec-akka.actor.default-dispatcher-1] [akka://RepositorySpec/user] now supervising TestActor[akka://RepositorySpec/user/Repository]
[DEBUG] [12/06/2012 00:37:09.620] [pool-4-thread-4] [akka://RepositorySpec/user/Repository] started (com.ergodicity.capture.Repository@b19152)
[DEBUG] [12/06/2012 00:37:09.622] [RepositorySpec-akka.actor.default-dispatcher-2] [akka://RepositorySpec/user] now supervising TestActor[akka://RepositorySpec/user/Repository]
[DEBUG] [12/06/2012 00:37:09.622] [pool-4-thread-4] [akka://RepositorySpec/user/Repository] started (com.ergodicity.capture.Repository@189fae)
[INFO] [12/06/2012 00:37:09.622] [pool-4-thread-4] [akka://RepositorySpec/user/Repository] Begin updating repository
[DEBUG] [12/06/2012 00:37:09.700] [MarketDbBuncherSpec-akka.actor.default-dispatcher-2] [akka://MarketDbBuncherSpec/user] now supervising TestActor[akka://MarketDbBuncherSpec/user/$$a]
Setting up data.
[info] RouterSpec:
[info] Router 
[info] - must subscribe stream events
[info] - must route only defined table
[DEBUG] [12/06/2012 00:37:09.749] [RouterSpec-akka.actor.default-dispatcher-4] [akka://RouterSpec/user/Router] stopped
[DEBUG] [12/06/2012 00:37:09.749] [pool-4-thread-1] [EventStream(akka://MarketDbCaptureSpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:37:09.749] [pool-4-thread-1] [EventStream(akka://MarketDbCaptureSpec)] Default Loggers started
[INFO] [12/06/2012 00:37:09.750] [pool-4-thread-1] [ActorSystem(MarketDbCaptureSpec)] {
    # system properties
    "os" : {
        # system properties
        "arch" : "x86",
        # system properties
        "name" : "Windows 7",
        # system properties
        "version" : "6.1"
    },
    # system properties
    "awt" : {
        # system properties
        "toolkit" : "sun.awt.windows.WToolkit"
    },
    # system properties
    "file" : {
        # system properties
        "encoding" : {
            # system properties
            "pkg" : "sun.io"
        },
        # system properties
        "separator" : "\\"
    },
    # system properties
    "path" : {
        # system properties
        "separator" : ";"
    },
    # application.conf: 1
    "capture" : {
        # application.conf: 2
        "dispatchers" : {
            # application.conf: 3
            "replicationDispatcher" : {
                # application.conf: 9
                #  Single Threaded Executor
                "thread-pool-executor" : {
                    # application.conf: 12
                    "max-pool-size-min" : 1,
                    # application.conf: 13
                    "max-pool-size-max" : 1,
                    # application.conf: 11
                    "core-pool-size-max" : 1,
                    # application.conf: 10
                    "core-pool-size-min" : 1
                },
                # application.conf: 6
                "executor" : "thread-pool-executor",
                # application.conf: 4
                "type" : "Dispatcher",
                # application.conf: 16
                "throughput" : 1
            }
        }
    },
    # system properties
    "line" : {
        # system properties
        "separator" : "\r\n"
    },
    # system properties
    "java" : {
        # system properties
        "vm" : {
            # system properties
            "vendor" : "Oracle Corporation",
            # system properties
            "name" : "Java HotSpot(TM) Client VM",
            # system properties
            "specification" : {
                # system properties
                "vendor" : "Oracle Corporation",
                # system properties
                "name" : "Java Virtual Machine Specification",
                # system properties
                "version" : "1.7"
            },
            # system properties
            "version" : "23.1-b03",
            # system properties
            "info" : "mixed mode"
        },
        # system properties
        "home" : "C:\\Program Files (x86)\\Java\\jre7",
        # system properties
        "awt" : {
            # system properties
            "graphicsenv" : "sun.awt.Win32GraphicsEnvironment",
            # system properties
            "printerjob" : "sun.awt.windows.WPrinterJob"
        },
        # system properties
        "vendor" : {
            # system properties
            "url" : {
                # system properties
                "bug" : "http://bugreport.sun.com/bugreport/"
            }
        },
        # system properties
        "endorsed" : {
            # system properties
            "dirs" : "C:\\Program Files (x86)\\Java\\jre7\\lib\\endorsed"
        },
        # system properties
        "library" : {
            # system properties
            "path" : "C:\\Windows\\SysWOW64;C:\\Windows\\Sun\\Java\\bin;C:\\Windows\\system32;C:\\Windows;C:\\cygwin\\usr\\local\\bin;C:\\cygwin\\bin;C:\\Program Files (x86)\\AMD APP\\bin\\x86_64;C:\\Program Files (x86)\\AMD APP\\bin\\x86;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0;C:\\Program Files (x86)\\ATI Technologies\\ATI.ACE\\Core-Static;C:\\Program Files\\Java\\jdk1.7.0_05\\bin;C:\\zmq;C:\\jacob;C:\\P2CGate64\\p2bin;D:\\opt\\apache-ant-1.8.4\\bin;C:\\cygwin\\lib\\lapack;."
        },
        # system properties
        "specification" : {
            # system properties
            "vendor" : "Oracle Corporation",
            # system properties
            "name" : "Java Platform API Specification",
            # system properties
            "version" : "1.7"
        },
        # system properties
        "class" : {
            # system properties
            "path" : "D:\\opt\\sbt\\sbt-launch.jar",
            # system properties
            "version" : "51.0"
        },
        # system properties
        "runtime" : {
            # system properties
            "name" : "Java(TM) SE Runtime Environment",
            # system properties
            "version" : "1.7.0_05-b05"
        },
        # system properties
        "ext" : {
            # system properties
            "dirs" : "C:\\Program Files (x86)\\Java\\jre7\\lib\\ext;C:\\Windows\\Sun\\Java\\lib\\ext"
        },
        # system properties
        "io" : {
            # system properties
            "tmpdir" : "C:\\cygwin\\tmp\\"
        },
        # system properties
        "version" : "1.7.0_05"
    },
    # system properties
    "user" : {
        # system properties
        "home" : "C:\\Users\\zheka",
        # system properties
        "timezone" : "Europe/Moscow",
        # system properties
        "dir" : "D:\\projects\\ergodicity",
        # system properties
        "name" : "zheka",
        # system properties
        "language" : "ru",
        # system properties
        "script" : "",
        # system properties
        "variant" : "",
        # system properties
        "country" : "RU"
    },
    # system properties
    "sun" : {
        # system properties
        "os" : {
            # system properties
            "patch" : {
                # system properties
                "level" : "Service Pack 1"
            }
        },
        # system properties
        "boot" : {
            # system properties
            "library" : {
                # system properties
                "path" : "C:\\Program Files (x86)\\Java\\jre7\\bin"
            },
            # system properties
            "class" : {
                # system properties
                "path" : "C:\\Program Files (x86)\\Java\\jre7\\lib\\resources.jar;C:\\Program Files (x86)\\Java\\jre7\\lib\\rt.jar;C:\\Program Files (x86)\\Java\\jre7\\lib\\sunrsasign.jar;C:\\Program Files (x86)\\Java\\jre7\\lib\\jsse.jar;C:\\Program Files (x86)\\Java\\jre7\\lib\\jce.jar;C:\\Program Files (x86)\\Java\\jre7\\lib\\charsets.jar;C:\\Program Files (x86)\\Java\\jre7\\lib\\jfr.jar;C:\\Program Files (x86)\\Java\\jre7\\classes"
            }
        },
        # system properties
        "arch" : {
            # system properties
            "data" : {
                # system properties
                "model" : "32"
            }
        },
        # system properties
        "jnu" : {
            # system properties
            "encoding" : "Cp1251"
        },
        # system properties
        "cpu" : {
            # system properties
            "endian" : "little",
            # system properties
            "isalist" : ""
        },
        # system properties
        "desktop" : "windows",
        # system properties
        "java" : {
            # system properties
            "launcher" : "SUN_STANDARD",
            # system properties
            "command" : "D:\\opt\\sbt\\sbt-launch.jar test\r"
        },
        # system properties
        "management" : {
            # system properties
            "compiler" : "HotSpot Client Compiler"
        },
        # system properties
        "io" : {
            # system properties
            "unicode" : {
                # system properties
                "encoding" : "UnicodeLittle"
            }
        }
    },
    # merge of application.conf: 22,reference.conf: 8
    "akka" : {
        # reference.conf: 13
        #  Home directory of Akka, modules in the deploy directory will be loaded
        "home" : "",
        # application.conf: 23
        "loglevel" : "DEBUG",
        # reference.conf: 42
        #  Toggles whether the threads created by this ActorSystem should be daemons or not
        "daemonic" : "off",
        # application.conf: 25
        "log-config-on-start" : "on",
        # reference.conf: 304
        #  Used to set the behavior of the scheduler.
        #  Changing the default values may change the system behavior drastically so make sure
        #  you know what you're doing! See the Scheduler section of the Akka documentation for more details.
        "scheduler" : {
            # reference.conf: 314
            "ticks-per-wheel" : 512,
            # reference.conf: 313
            #  The HashedWheelTimer (HWT) implementation from Netty is used as the default scheduler
            #  in the system.
            #  HWT does not execute the scheduled tasks on exact time.
            #  It will, on every tick, check if there are any tasks behind the schedule and execute them.
            #  You can increase or decrease the accuracy of the execution timing by specifying smaller
            #  or larger tick duration.
            #  If you are scheduling a lot of tasks you should consider increasing the ticks per wheel.
            #  For more information see: http://www.jboss.org/netty/
            "tick-duration" : "100ms"
        },
        # reference.conf: 9
        "test" : {
            # reference.conf: 19
            #  duration to wait in expectMsg and friends outside of within() block by default
            "single-expect-default" : "3s",
            # reference.conf: 22
            #  The timeout that is added as an implicit by DefaultTimeout trait
            "default-timeout" : "5s",
            # reference.conf: 24
            "calling-thread-dispatcher" : {
                # reference.conf: 25
                "type" : "akka.testkit.CallingThreadDispatcherConfigurator"
            },
            # reference.conf: 16
            #  duration of EventFilter.intercept waits after the block is finished until
            #  all required messages are received
            "filter-leeway" : "3s",
            # reference.conf: 12
            #  factor by which to scale timeouts during tests, e.g. to account for shared
            #  build system load
            "timefactor" : 1
        },
        # reference.conf: 21
        #  Event handlers are created and registered synchronously during ActorSystem
        #  start-up, and since they are actors, this timeout is used to bound the
        #  waiting time
        "event-handler-startup-timeout" : "5s",
        # merge of application.conf: 27,reference.conf: 47
        "actor" : {
            # reference.conf: 296
            #  Class to Serializer binding. You only need to specify the name of an interface
            #  or abstract base class of the messages. In case of ambiguity it is using the
            #  most specific configured class, or giving a warning and choosing the УfirstФ one.
            # 
            #  To disable one of the default serializers, assign its class to "none", like
            #  "java.io.Serializable" = none
            "serialization-bindings" : {
                # reference.conf: 297
                "java.io.Serializable" : "java"
            },
            # reference.conf: 286
            #  Entries for pluggable serializers and their bindings.
            "serializers" : {
                # reference.conf: 287
                "java" : "akka.serialization.JavaSerializer"
            },
            # reference.conf: 52
            #  Timeout for ActorSystem.actorOf
            "creation-timeout" : "20s",
            # reference.conf: 64
            #  Serializes and deserializes creators (in Props) to ensure that they can be sent over the network,
            #  this is only intended for testing.
            "serialize-creators" : "off",
            # reference.conf: 160
            "default-dispatcher" : {
                # reference.conf: 263
                #  For Actor with Stash: The default capacity of the stash.
                #  If negative (or zero) then an unbounded stash is used (default)
                #  If positive then a bounded stash is used and the capacity is set using the
                #  property
                "stash-capacity" : -1,
                # reference.conf: 252
                #  FQCN of the MailboxType, if not specified the default bounded or unbounded
                #  mailbox is used. The Class of the FQCN must have a constructor with
                #  (akka.actor.ActorSystem.Settings, com.typesafe.config.Config) parameters.
                "mailbox-type" : "",
                # reference.conf: 191
                #  This will be used if you have set "executor = "thread-pool-executor""
                "thread-pool-executor" : {
                    # reference.conf: 215
                    #  Specifies the bounded capacity of the task queue (< 1 == unbounded)
                    "task-queue-size" : -1,
                    # reference.conf: 193
                    #  Keep alive time for threads
                    "keep-alive-time" : "60s",
                    # reference.conf: 206
                    #  Hint: max-pool-size is only used for bounded task queues
                    #  minimum number of threads to cap factor-based max number to
                    "max-pool-size-min" : 8,
                    # reference.conf: 212
                    #  Max number of threads to cap factor-based max number to
                    "max-pool-size-max" : 64,
                    # reference.conf: 199
                    #  No of core threads ... ceil(available processors * factor)
                    "core-pool-size-factor" : 3,
                    # reference.conf: 202
                    #  Max number of threads to cap factor-based number to
                    "core-pool-size-max" : 64,
                    # reference.conf: 209
                    #  Max no of threads ... ceil(available processors * factor)
                    "max-pool-size-factor" : 3,
                    # reference.conf: 196
                    #  Min number of threads to cap factor-based core number to
                    "core-pool-size-min" : 8,
                    # reference.conf: 222
                    #  Allow core threads to time out
                    "allow-core-timeout" : "on",
                    # reference.conf: 219
                    #  Specifies which type of task queue will be used, can be "array" or
                    #  "linked" (default)
                    "task-queue-type" : "linked"
                },
                # reference.conf: 257
                #  For BalancingDispatcher: If the balancing dispatcher should attempt to
                #  schedule idle actors using the same dispatcher when a message comes in,
                #  and the dispatchers ExecutorService is not fully busy already.
                "attempt-teamwork" : "on",
                # reference.conf: 179
                #  This will be used if you have set "executor = "fork-join-executor""
                "fork-join-executor" : {
                    # reference.conf: 184
                    #  Parallelism (threads) ... ceil(available processors * factor)
                    "parallelism-factor" : 3,
                    # reference.conf: 181
                    #  Min number of threads to cap factor-based parallelism number to
                    "parallelism-min" : 8,
                    # reference.conf: 187
                    #  Max number of threads to cap factor-based parallelism number to
                    "parallelism-max" : 64
                },
                # reference.conf: 233
                #  Throughput deadline for Dispatcher, set to 0 or negative for no deadline
                "throughput-deadline-time" : "0ms",
                # reference.conf: 247
                #  Specifies the timeout to add a new message to a mailbox that is full -
                #  negative number means infinite timeout. It is only used for type=Dispatcher
                #  and only if mailbox-capacity > 0
                "mailbox-push-timeout-time" : "10s",
                # reference.conf: 242
                #  If negative (or zero) then an unbounded mailbox is used (default)
                #  If positive then a bounded mailbox is used and the capacity is set using the
                #  property
                #  NOTE: setting a mailbox to 'blocking' can be a bit dangerous, could lead to
                #  deadlock, use with care
                #  The following mailbox-push-timeout-time is only used for type=Dispatcher and
                #  only if mailbox-capacity > 0
                "mailbox-capacity" : -1,
                # reference.conf: 176
                #  Which kind of ExecutorService to use for this dispatcher
                #  Valid options:
                #                "fork-join-executor" requires a "fork-join-executor" section
                #                "thread-pool-executor" requires a "thread-pool-executor" section
                #                or
                #                A FQCN of a class extending ExecutorServiceConfigurator
                "executor" : "fork-join-executor",
                # reference.conf: 226
                #  How long time the dispatcher will wait for new actors until it shuts down
                "shutdown-timeout" : "1s",
                # reference.conf: 168
                #  Must be one of the following
                #  Dispatcher, (BalancingDispatcher, only valid when all actors using it are of
                #  the same type), PinnedDispatcher, or a FQCN to a class inheriting
                #  MessageDispatcherConfigurator with a constructor with
                #  com.typesafe.config.Config parameter and akka.dispatch.DispatcherPrerequisites
                #  parameters.
                #  PinnedDispatcher must be used toghether with executor=thread-pool-executor.
                "type" : "Dispatcher",
                # reference.conf: 230
                #  Throughput defines the number of messages that are processed in a batch
                #  before the thread is returned to the pool. Set to 1 for as fair as possible.
                "throughput" : 5
            },
            # reference.conf: 71
            "deployment" : {
                # reference.conf: 74
                #  deployment id pattern - on the format: /parent/child etc.
                "default" : {
                    # reference.conf: 109
                    #  Routers with dynamically resizable number of routees; this feature is enabled
                    #  by including (parts of) this section in the deployment
                    "resizer" : {
                        # reference.conf: 131
                        #  Percentage to increase capacity whenever all routees are busy.
                        #  For example, 0.2 would increase 20% (rounded up), i.e. if current
                        #  capacity is 6 it will request an increase of 2 more routees.
                        "rampup-rate" : 0.2,
                        # reference.conf: 151
                        #  When the resizer reduce the capacity the abandoned routee actors are stopped
                        #  with PoisonPill after this delay. The reason for the delay is to give concurrent
                        #  messages a chance to be placed in mailbox before sending PoisonPill.
                        #  Use 0s to skip delay.
                        "stop-delay" : "1s",
                        # reference.conf: 116
                        #  The most number of routees the router should ever have.
                        #  Must be greater than or equal to lower-bound.
                        "upper-bound" : 10,
                        # reference.conf: 155
                        #  Number of messages between resize operation.
                        #  Use 1 to resize before each message.
                        "messages-per-resize" : 10,
                        # reference.conf: 139
                        #  Minimum fraction of busy routees before backing off.
                        #  For example, if this is 0.3, then we'll remove some routees only when
                        #  less than 30% of routees are busy, i.e. if current capacity is 10 and
                        #  3 are busy then the capacity is unchanged, but if 2 or less are busy
                        #  the capacity is decreased.
                        #  Use 0.0 or negative to avoid removal of routees.
                        "backoff-threshold" : 0.3,
                        # reference.conf: 145
                        #  Fraction of routees to be removed when the resizer reaches the
                        #  backoffThreshold.
                        #  For example, 0.1 would decrease 10% (rounded up), i.e. if current
                        #  capacity is 9 it will request an decrease of 1 routee.
                        "backoff-rate" : 0.1,
                        # reference.conf: 112
                        #  The fewest number of routees the router should ever have.
                        "lower-bound" : 1,
                        # reference.conf: 126
                        #  Threshold to evaluate if routee is considered to be busy (under pressure).
                        #  Implementation depends on this value (default is 1).
                        #  0:   number of routees currently processing a message.
                        #  1:   number of routees currently processing a message has
                        #       some messages in mailbox.
                        #  > 1: number of routees with at least the configured pressure-threshold
                        #       messages in their mailbox. Note that estimating mailbox size of
                        #       default UnboundedMailbox is O(N) operation.
                        "pressure-threshold" : 1
                    },
                    # reference.conf: 95
                    #  number of children to create in case of a non-direct router; this setting
                    #  is ignored if routees.paths is given
                    "nr-of-instances" : 1,
                    # reference.conf: 91
                    #  routing (load-balance) scheme to use
                    #      available: "from-code", "round-robin", "random", "smallest-mailbox", "scatter-gather", "broadcast"
                    #      or:        Fully qualified class name of the router class.
                    #                 The router class must extend akka.routing.CustomRouterConfig and and have constructor
                    #                 with com.typesafe.config.Config parameter.
                    #      default is "from-code";
                    #  Whether or not an actor is transformed to a Router is decided in code only (Props.withRouter).
                    #  The type of router can be overridden in the configuration; specifying "from-code" means
                    #  that the values specified in the code shall be used.
                    #  In case of routing, the actors to be routed to can be specified
                    #  in several ways:
                    #  - nr-of-instances: will create that many children
                    #  - routees.paths: will look the paths up using actorFor and route to
                    #    them, i.e. will not create children
                    #  - resizer: dynamically resizable number of routees as specified in resizer below
                    "router" : "from-code",
                    # reference.conf: 98
                    #  within is the timeout used for routers containing future calls
                    "within" : "5 seconds",
                    # reference.conf: 100
                    "routees" : {
                        # reference.conf: 104
                        #  Alternatively to giving nr-of-instances you can specify the full
                        #  paths of those actors which should be routed to. This setting takes
                        #  precedence over nr-of-instances
                        "paths" : []
                    }
                }
            },
            # reference.conf: 49
            "provider" : "akka.actor.LocalActorRefProvider",
            # merge of application.conf: 28,reference.conf: 266
            "debug" : {
                # reference.conf: 282
                #  enable DEBUG logging of subscription changes on the eventStream
                "event-stream" : "off",
                # reference.conf: 273
                #  enable DEBUG logging of all AutoReceiveMessages (Kill, PoisonPill and the like)
                "autoreceive" : "off",
                # application.conf: 30
                "lifecycle" : "on",
                # reference.conf: 279
                #  enable DEBUG logging of all LoggingFSMs for events, transitions and timers
                "fsm" : "off",
                # application.conf: 29
                "receive" : "on"
            },
            # reference.conf: 66
            "typed" : {
                # reference.conf: 68
                #  Default timeout for typed actor methods with non-void return type
                "timeout" : "5s"
            },
            # reference.conf: 56
            #  frequency with which stopping actors are prodded in case they had to be
            #  removed from their parents
            "reaper-interval" : "5s",
            # reference.conf: 60
            #  Serializes and deserializes (non-primitive) messages to ensure immutability,
            #  this is only intended for testing.
            "serialize-messages" : "off"
        },
        # reference.conf: 45
        #  JVM shutdown, System.exit(-1), in case of a fatal error, such as OutOfMemoryError
        "jvm-exit-on-fatal-error" : "on",
        # reference.conf: 39
        #  List FQCN of extensions which shall be loaded at actor system startup.
        #  Should be on the format: 'extensions = ["foo", "bar"]' etc.
        #  See the Akka Documentation for more info about Extensions
        "extensions" : [],
        # reference.conf: 10
        #  Akka version, checked against the runtime version of Akka.
        "version" : "2.0.4",
        # reference.conf: 30
        #  Log level for the very basic logger activated during AkkaApplication startup
        #  Options: ERROR, WARNING, INFO, DEBUG
        "stdout-loglevel" : "WARNING",
        # reference.conf: 16
        #  Event handlers to register at boot time (Logging$DefaultLogger logs to STDOUT)
        "event-handlers" : [
            # reference.conf: 16
            "akka.event.Logging$DefaultLogger"
        ]
    }
}
[DEBUG] [12/06/2012 00:37:09.753] [RouterSpec-akka.actor.default-dispatcher-4] [akka://RouterSpec/user] stopping
[DEBUG] [12/06/2012 00:37:09.757] [RouterSpec-akka.actor.default-dispatcher-4] [akka://RouterSpec/user] stopped
[DEBUG] [12/06/2012 00:37:09.759] [RouterSpec-akka.actor.default-dispatcher-3] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:09.759] [RouterSpec-akka.actor.default-dispatcher-3] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:09.760] [pool-4-thread-3] [akka://MarketDbBuncherSpec/user/$$a] started (com.ergodicity.capture.TradesBuncher@14b6585)
[DEBUG] [12/06/2012 00:37:09.761] [RouterSpec-akka.actor.default-dispatcher-3] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:37:09.762] [RouterSpec-akka.actor.default-dispatcher-2] [akka://RouterSpec/system/log1-Logging$DefaultLogger] stopped
[DEBUG] [12/06/2012 00:37:09.765] [MarketDbBuncherSpec-akka.actor.default-dispatcher-1] [akka://MarketDbBuncherSpec/user] now supervising TestActor[akka://MarketDbBuncherSpec/user/$$b]
[DEBUG] [12/06/2012 00:37:09.765] [pool-4-thread-3] [akka://MarketDbBuncherSpec/user/$$b] started (com.ergodicity.capture.TradesBuncher@116e3ed)
[DEBUG] [12/06/2012 00:37:09.765] [RouterSpec-akka.actor.default-dispatcher-3] [akka://RouterSpec/system/testActor1] stopped
[DEBUG] [12/06/2012 00:37:09.769] [RouterSpec-akka.actor.default-dispatcher-3] [akka://RouterSpec/system/testActor2] stopped
[DEBUG] [12/06/2012 00:37:09.775] [RouterSpec-akka.actor.default-dispatcher-3] [akka://RouterSpec/system/testActor3] stopped
[DEBUG] [12/06/2012 00:37:09.775] [RouterSpec-akka.actor.default-dispatcher-3] [akka://RouterSpec/system] stopping
[DEBUG] [12/06/2012 00:37:09.776] [RouterSpec-akka.actor.default-dispatcher-3] [akka://RouterSpec/system] stopped
[DEBUG] [12/06/2012 00:37:09.781] [MarketDbBuncherSpec-akka.actor.default-dispatcher-1] [akka://MarketDbBuncherSpec/system/testActor5] started (akka.testkit.TestActor@a831b)
[DEBUG] [12/06/2012 00:37:09.781] [MarketDbBuncherSpec-akka.actor.default-dispatcher-1] [akka://MarketDbBuncherSpec/system] now supervising Actor[akka://MarketDbBuncherSpec/system/testActor5]
[DEBUG] [12/06/2012 00:37:09.783] [RouterSpec-akka.actor.default-dispatcher-2] [akka://RouterSpec/] stopped
[DEBUG] [12/06/2012 00:37:09.827] [MarketDbBuncherSpec-akka.actor.default-dispatcher-2] [akka://MarketDbBuncherSpec/user] now supervising TestActor[akka://MarketDbBuncherSpec/user/$$c]
[DEBUG] [12/06/2012 00:37:09.827] [pool-4-thread-3] [akka://MarketDbBuncherSpec/user/$$c] started (com.ergodicity.capture.TradesBuncher@1dad584)
[DEBUG] [12/06/2012 00:37:09.828] [MarketDbCaptureSpec-akka.actor.default-dispatcher-3] [akka://MarketDbCaptureSpec/user] now supervising TestActor[akka://MarketDbCaptureSpec/user/MarketDbCapture]
[INFO] [12/06/2012 00:37:09.828] [pool-4-thread-3] [akka://MarketDbBuncherSpec/user/$$c] Flush market payloads: 1
[DEBUG] [12/06/2012 00:37:09.840] [MarketDbCaptureSpec-akka.actor.default-dispatcher-3] [akka://MarketDbCaptureSpec/user/MarketDbCapture/KestrelBuncher] started (com.ergodicity.capture.OrdersBuncher@15faf0a)
[DEBUG] [12/06/2012 00:37:09.843] [pool-4-thread-1] [akka://MarketDbCaptureSpec/user/MarketDbCapture] started (com.ergodicity.capture.MarketDbCapture@1348b9a)
[DEBUG] [12/06/2012 00:37:09.843] [pool-4-thread-1] [akka://MarketDbCaptureSpec/user/MarketDbCapture] now supervising Actor[akka://MarketDbCaptureSpec/user/MarketDbCapture/KestrelBuncher]
[DEBUG] [12/06/2012 00:37:09.843] [pool-4-thread-1] [akka://MarketDbCaptureSpec/user/MarketDbCapture] now monitoring Actor[akka://MarketDbCaptureSpec/user/MarketDbCapture/KestrelBuncher]
[DEBUG] [12/06/2012 00:37:09.844] [MarketDbCaptureSpec-akka.actor.default-dispatcher-1] [akka://MarketDbCaptureSpec/system/testActor6] started (akka.testkit.TestActor@1558b01)
[DEBUG] [12/06/2012 00:37:09.844] [MarketDbCaptureSpec-akka.actor.default-dispatcher-1] [akka://MarketDbCaptureSpec/system] now supervising Actor[akka://MarketDbCaptureSpec/system/testActor6]
[DEBUG] [12/06/2012 00:37:09.844] [pool-4-thread-1] [akka://MarketDbCaptureSpec/user/MarketDbCapture] Begin data
[INFO] [12/06/2012 00:37:09.925] [pool-4-thread-4] [akka://RepositorySpec/user/Repository] Completed transaction; Repository size = 2
[DEBUG] [12/06/2012 00:37:09.926] [RepositorySpec-akka.actor.default-dispatcher-1] [akka://RepositorySpec/user] now supervising TestActor[akka://RepositorySpec/user/Repository]
[DEBUG] [12/06/2012 00:37:09.926] [pool-4-thread-4] [akka://RepositorySpec/user/Repository] started (com.ergodicity.capture.Repository@749454)
[INFO] [12/06/2012 00:37:09.926] [pool-4-thread-4] [akka://RepositorySpec/user/Repository] Begin updating repository
[INFO] [12/06/2012 00:37:09.930] [pool-4-thread-4] [akka://RepositorySpec/user/Repository] Completed transaction; Repository size = 2
[INFO] [12/06/2012 00:37:09.930] [pool-4-thread-4] [akka://RepositorySpec/user/Repository] Begin updating repository
[INFO] [12/06/2012 00:37:09.932] [pool-4-thread-4] [akka://RepositorySpec/user/Repository] Completed transaction; Repository size = 1
[info] RepositorySpec:
[info] Repository 
[info] - must be initialized in Consistent state
[info] - must receive snapshot immediately in Consistent state
[info] - must clean on LifeNumChanged
[info] - must return snapshot immediatly in consistend state on GetSnapshot
[info] - must return snapshot after returned to consistend state on GetSnapshot
[info] - must handle new data
[INFO] [12/06/2012 00:37:09.934] [pool-4-thread-4] [akka://RepositorySpec/system/testActor4] Data: Map(3 -> com.ergodicity.cgate.scheme.FutInfo$session@1c2882c)
[DEBUG] [12/06/2012 00:37:09.937] [RepositorySpec-akka.actor.default-dispatcher-2] [akka://RepositorySpec/user/Repository] stopped
[DEBUG] [12/06/2012 00:37:09.943] [RepositorySpec-akka.actor.default-dispatcher-2] [akka://RepositorySpec/user] stopping
[DEBUG] [12/06/2012 00:37:09.943] [RepositorySpec-akka.actor.default-dispatcher-2] [akka://RepositorySpec/user] stopped
[DEBUG] [12/06/2012 00:37:09.943] [RepositorySpec-akka.actor.default-dispatcher-3] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:09.943] [RepositorySpec-akka.actor.default-dispatcher-3] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:09.944] [RepositorySpec-akka.actor.default-dispatcher-3] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:37:09.944] [RepositorySpec-akka.actor.default-dispatcher-4] [akka://RepositorySpec/system/log1-Logging$DefaultLogger] stopped
[DEBUG] [12/06/2012 00:37:09.944] [RepositorySpec-akka.actor.default-dispatcher-3] [akka://RepositorySpec/system/testActor4] stopped
[DEBUG] [12/06/2012 00:37:09.944] [RepositorySpec-akka.actor.default-dispatcher-3] [akka://RepositorySpec/system] stopping
[DEBUG] [12/06/2012 00:37:09.944] [RepositorySpec-akka.actor.default-dispatcher-3] [akka://RepositorySpec/system] stopped
[DEBUG] [12/06/2012 00:37:09.945] [RepositorySpec-akka.actor.default-dispatcher-4] [akka://RepositorySpec/] stopped
Setting up data.
[info] MarketDbBuncherSpec:
[info] TradesBuncher 
[info] - must be initialized in Idle state
[info] - must accumulate trades revisions
[info] - must flush table revisions on request
[DEBUG] [12/06/2012 00:37:10.437] [MarketDbBuncherSpec-akka.actor.default-dispatcher-3] [akka://MarketDbBuncherSpec/user/$$a] stopped
[info] Passed: : Total 97, Failed 0, Errors 0, Passed 97, Skipped 0
[info] Passed: : Total 1, Failed 0, Errors 0, Passed 1, Skipped 0
[DEBUG] [12/06/2012 00:37:10.438] [MarketDbBuncherSpec-akka.actor.default-dispatcher-3] [akka://MarketDbBuncherSpec/user/$$b] stopped
[DEBUG] [12/06/2012 00:37:10.438] [MarketDbBuncherSpec-akka.actor.default-dispatcher-3] [akka://MarketDbBuncherSpec/user/$$c] stopped
[DEBUG] [12/06/2012 00:37:10.438] [MarketDbBuncherSpec-akka.actor.default-dispatcher-3] [akka://MarketDbBuncherSpec/user] stopping
[DEBUG] [12/06/2012 00:37:10.439] [MarketDbBuncherSpec-akka.actor.default-dispatcher-2] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:10.439] [MarketDbBuncherSpec-akka.actor.default-dispatcher-2] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:37:10.439] [MarketDbBuncherSpec-akka.actor.default-dispatcher-3] [akka://MarketDbBuncherSpec/user] stopped
[DEBUG] [12/06/2012 00:37:10.439] [MarketDbBuncherSpec-akka.actor.default-dispatcher-2] [akka://MarketDbBuncherSpec/system/testActor5] stopped
[DEBUG] [12/06/2012 00:37:10.439] [MarketDbBuncherSpec-akka.actor.default-dispatcher-2] [akka://MarketDbBuncherSpec/system] stopping
[DEBUG] [12/06/2012 00:37:10.439] [MarketDbBuncherSpec-akka.actor.default-dispatcher-3] [akka://MarketDbBuncherSpec/system/log1-Logging$DefaultLogger] stopped
[DEBUG] [12/06/2012 00:37:10.440] [MarketDbBuncherSpec-akka.actor.default-dispatcher-2] [akka://MarketDbBuncherSpec/system] stopped
[DEBUG] [12/06/2012 00:37:10.440] [MarketDbBuncherSpec-akka.actor.default-dispatcher-3] [akka://MarketDbBuncherSpec/] stopped
[info] Passed: : Total 53, Failed 0, Errors 0, Passed 53, Skipped 0
[DEBUG] [12/06/2012 00:37:10.469] [pool-4-thread-1] [akka://MarketDbCaptureSpec/user/MarketDbCapture] End data
[INFO] [12/06/2012 00:37:10.469] [MarketDbCaptureSpec-akka.actor.default-dispatcher-3] [akka://MarketDbCaptureSpec/user/MarketDbCapture/KestrelBuncher] Flush market payloads: 1
[info] MarketDbCaptureSpec:
[info] MarketDbCapture 
[info] - must flush market events on TnCommit
[DEBUG] [12/06/2012 00:37:10.770] [MarketDbCaptureSpec-akka.actor.default-dispatcher-3] [akka://MarketDbCaptureSpec/user/MarketDbCapture] stopping
[DEBUG] [12/06/2012 00:37:10.770] [MarketDbCaptureSpec-akka.actor.default-dispatcher-3] [akka://MarketDbCaptureSpec/user] stopping
[DEBUG] [12/06/2012 00:37:10.771] [MarketDbCaptureSpec-akka.actor.default-dispatcher-4] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:10.771] [MarketDbCaptureSpec-akka.actor.default-dispatcher-3] [akka://MarketDbCaptureSpec/user/MarketDbCapture/KestrelBuncher] stopped
[DEBUG] [12/06/2012 00:37:10.771] [MarketDbCaptureSpec-akka.actor.default-dispatcher-4] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:37:10.772] [MarketDbCaptureSpec-akka.actor.default-dispatcher-3] [akka://MarketDbCaptureSpec/system/log1-Logging$DefaultLogger] stopped
[DEBUG] [12/06/2012 00:37:10.772] [MarketDbCaptureSpec-akka.actor.default-dispatcher-4] [akka://MarketDbCaptureSpec/system/testActor6] stopped
[DEBUG] [12/06/2012 00:37:10.772] [MarketDbCaptureSpec-akka.actor.default-dispatcher-4] [akka://MarketDbCaptureSpec/system] stopping
[DEBUG] [12/06/2012 00:37:10.772] [MarketDbCaptureSpec-akka.actor.default-dispatcher-4] [akka://MarketDbCaptureSpec/system] stopped
[DEBUG] [12/06/2012 00:37:10.773] [MarketDbCaptureSpec-akka.actor.default-dispatcher-4] [akka://MarketDbCaptureSpec/] stopped
[DEBUG] [12/06/2012 00:37:10.806] [pool-4-thread-3] [EventStream(akka://SessionsServiceSpec)] logger log1-TestEventListener started
[DEBUG] [12/06/2012 00:37:10.806] [pool-4-thread-3] [EventStream(akka://SessionsServiceSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:37:10.806] [pool-4-thread-1] [EventStream(akka://PositionsServiceSpec)] logger log1-TestEventListener started
[DEBUG] [12/06/2012 00:37:10.806] [pool-4-thread-1] [EventStream(akka://PositionsServiceSpec)] Default Loggers started
[INFO] [12/06/2012 00:37:11.519] [pool-4-thread-3] [akka://SessionsServiceSpec/user/Services] Register service, Id = Connection, depends on = List()
[INFO] [12/06/2012 00:37:11.541] [pool-4-thread-1] [akka://PositionsServiceSpec/user/Services] Register service, Id = Connection, depends on = List()
[INFO] [12/06/2012 00:37:11.546] [pool-4-thread-1] [akka://PositionsServiceSpec/user/Services] Register service, Id = InstrumentData, depends on = List(Connection)
[INFO] [12/06/2012 00:37:11.546] [pool-4-thread-3] [akka://SessionsServiceSpec/user/Services] Register service, Id = InstrumentData, depends on = List(Connection)
[INFO] [12/06/2012 00:37:11.551] [pool-4-thread-3] [akka://SessionsServiceSpec/user/Services] Registered services = Set(Connection, InstrumentData)
[INFO] [12/06/2012 00:37:11.552] [pool-4-thread-3] [akka://SessionsServiceSpec/user/Services]  - Connection; startBarrier = List(StartUp), stopBarrier = List(ShutDown, InstrumentData)
[INFO] [12/06/2012 00:37:11.552] [pool-4-thread-3] [akka://SessionsServiceSpec/user/Services]  - InstrumentData; startBarrier = List(StartUp, Connection), stopBarrier = List(ShutDown)
[INFO] [12/06/2012 00:37:11.555] [pool-4-thread-1] [akka://PositionsServiceSpec/user/Services] Register service, Id = Portfolio, depends on = List(InstrumentData)
[INFO] [12/06/2012 00:37:11.555] [pool-4-thread-1] [akka://PositionsServiceSpec/user/Services] Registered services = Set(Connection, InstrumentData, Portfolio)
[INFO] [12/06/2012 00:37:11.555] [pool-4-thread-1] [akka://PositionsServiceSpec/user/Services]  - Connection; startBarrier = List(StartUp), stopBarrier = List(ShutDown, InstrumentData)
[INFO] [12/06/2012 00:37:11.555] [pool-4-thread-1] [akka://PositionsServiceSpec/user/Services]  - InstrumentData; startBarrier = List(StartUp, Connection), stopBarrier = List(ShutDown, Portfolio)
[INFO] [12/06/2012 00:37:11.555] [pool-4-thread-1] [akka://PositionsServiceSpec/user/Services]  - Portfolio; startBarrier = List(StartUp, InstrumentData), stopBarrier = List(ShutDown)
[INFO] [12/06/2012 00:37:11.578] [pool-4-thread-3] [akka://SessionsServiceSpec/user/Services] Start all services = Set(Connection, InstrumentData)
[INFO] [12/06/2012 00:37:11.640] [pool-4-thread-1] [akka://PositionsServiceSpec/user/Services] Start all services = Set(Connection, InstrumentData, Portfolio)
[DEBUG] [12/06/2012 00:37:12.155] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-1] [akka://MarketContentsCaptureSpec/user] now supervising TestActor[akka://MarketContentsCaptureSpec/user/FutInfoStream]
[INFO] [12/06/2012 00:37:12.163] [PositionsServiceSpec-akka.actor.default-dispatcher-1] [akka://PositionsServiceSpec/user/Services/Connection] Start Connection service
[INFO] [12/06/2012 00:37:12.164] [SessionsServiceSpec-akka.actor.default-dispatcher-3] [akka://SessionsServiceSpec/user/Services/Connection] Start Connection service
[DEBUG] [12/06/2012 00:37:12.172] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/FutInfoStream] started (com.ergodicity.cgate.DataStream@1a83f8f)
[DEBUG] [12/06/2012 00:37:12.173] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-3] [akka://MarketContentsCaptureSpec/user] now supervising TestActor[akka://MarketContentsCaptureSpec/user/OptInfoStream]
[DEBUG] [12/06/2012 00:37:12.173] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/OptInfoStream] started (com.ergodicity.cgate.DataStream@1cf628a)
[DEBUG] [12/06/2012 00:37:12.174] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-3] [akka://MarketContentsCaptureSpec/user] now supervising TestActor[akka://MarketContentsCaptureSpec/user/MarketContentsCapture]
[DEBUG] [12/06/2012 00:37:12.176] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-1] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture/SessionsRepository] started (com.ergodicity.capture.Repository@7e9fe4)
[DEBUG] [12/06/2012 00:37:12.178] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-3] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture/FutSessContentsRepository] started (com.ergodicity.capture.Repository@24a321)
[DEBUG] [12/06/2012 00:37:12.179] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-2] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture/OptSessContentsRepository] started (com.ergodicity.capture.Repository@17e355f)
[DEBUG] [12/06/2012 00:37:12.181] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-4] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture/$a] started (com.ergodicity.capture.Router@f6f8c)
[DEBUG] [12/06/2012 00:37:12.181] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-5] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture/$b] started (com.ergodicity.capture.Router@1d68f11)
[DEBUG] [12/06/2012 00:37:12.181] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-5] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture/$c] started (com.ergodicity.capture.Router@12439c9)
[DEBUG] [12/06/2012 00:37:12.191] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture] started (com.ergodicity.capture.MarketContentsCapture@101489d)
[DEBUG] [12/06/2012 00:37:12.192] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture] now supervising Actor[akka://MarketContentsCaptureSpec/user/MarketContentsCapture/SessionsRepository]
[DEBUG] [12/06/2012 00:37:12.192] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture] now supervising Actor[akka://MarketContentsCaptureSpec/user/MarketContentsCapture/FutSessContentsRepository]
[DEBUG] [12/06/2012 00:37:12.192] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture] now supervising Actor[akka://MarketContentsCaptureSpec/user/MarketContentsCapture/OptSessContentsRepository]
[DEBUG] [12/06/2012 00:37:12.192] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture] now supervising Actor[akka://MarketContentsCaptureSpec/user/MarketContentsCapture/$a]
[DEBUG] [12/06/2012 00:37:12.192] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture] now supervising Actor[akka://MarketContentsCaptureSpec/user/MarketContentsCapture/$b]
[DEBUG] [12/06/2012 00:37:12.192] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture] now supervising Actor[akka://MarketContentsCaptureSpec/user/MarketContentsCapture/$c]
[INFO] [12/06/2012 00:37:12.219] [SessionsServiceSpec-akka.actor.default-dispatcher-5] [akka://SessionsServiceSpec/user/Services/InstrumentData/SessionsTracking] Start session tracking
[DEBUG] [12/06/2012 00:37:12.220] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-6] [akka://MarketContentsCaptureSpec/system/testActor7] started (akka.testkit.TestActor@1dd51ac)
[DEBUG] [12/06/2012 00:37:12.220] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-6] [akka://MarketContentsCaptureSpec/system] now supervising Actor[akka://MarketContentsCaptureSpec/system/testActor7]
[INFO] [12/06/2012 00:37:12.221] [PositionsServiceSpec-akka.actor.default-dispatcher-8] [akka://PositionsServiceSpec/user/Services/InstrumentData/SessionsTracking] Start session tracking
[WARN] [12/06/2012 00:37:12.223] [PositionsServiceSpec-akka.actor.default-dispatcher-4] [akka://PositionsServiceSpec/user/Services/Connection] Unhandled event: CurrentState(Actor[akka://PositionsServiceSpec/user/Services/Connection/Connection],Closed)
[WARN] [12/06/2012 00:37:12.223] [SessionsServiceSpec-akka.actor.default-dispatcher-2] [akka://SessionsServiceSpec/user/Services/Connection] Unhandled event: CurrentState(Actor[akka://SessionsServiceSpec/user/Services/Connection/Connection],Closed)
[INFO] [12/06/2012 00:37:12.232] [SessionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://SessionsServiceSpec/user/Services/Connection/Connection] Open connection
[INFO] [12/06/2012 00:37:12.232] [PositionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://PositionsServiceSpec/user/Services/Connection/Connection] Open connection
[INFO] [12/06/2012 00:37:12.245] [PositionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://PositionsServiceSpec/user/Services/Connection/Connection] Trying to establish connection to CGate router
[WARN] [12/06/2012 00:37:12.245] [PositionsServiceSpec-akka.actor.default-dispatcher-3] [akka://PositionsServiceSpec/user/Services/Connection] Unhandled event: Transition(Actor[akka://PositionsServiceSpec/user/Services/Connection/Connection],Closed,Opening)
[DEBUG] [12/06/2012 00:37:12.258] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-2] [akka://MarketContentsCaptureSpec/user] now supervising TestActor[akka://MarketContentsCaptureSpec/user/FutInfoStream]
[DEBUG] [12/06/2012 00:37:12.258] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/FutInfoStream] started (com.ergodicity.cgate.DataStream@1275fcb)
[DEBUG] [12/06/2012 00:37:12.259] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-2] [akka://MarketContentsCaptureSpec/user] now supervising TestActor[akka://MarketContentsCaptureSpec/user/OptInfoStream]
[DEBUG] [12/06/2012 00:37:12.259] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/OptInfoStream] started (com.ergodicity.cgate.DataStream@4af355)
[DEBUG] [12/06/2012 00:37:12.260] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-3] [akka://MarketContentsCaptureSpec/user] now supervising TestActor[akka://MarketContentsCaptureSpec/user/MarketContentsCapture]
[DEBUG] [12/06/2012 00:37:12.261] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-2] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture/SessionsRepository] started (com.ergodicity.capture.Repository@60725f)
[DEBUG] [12/06/2012 00:37:12.261] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-3] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture/FutSessContentsRepository] started (com.ergodicity.capture.Repository@1540c33)
[DEBUG] [12/06/2012 00:37:12.261] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture] started (com.ergodicity.capture.MarketContentsCapture@ed171c)
[DEBUG] [12/06/2012 00:37:12.261] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture] now supervising Actor[akka://MarketContentsCaptureSpec/user/MarketContentsCapture/SessionsRepository]
[DEBUG] [12/06/2012 00:37:12.261] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-7] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture/OptSessContentsRepository] started (com.ergodicity.capture.Repository@188661b)
[DEBUG] [12/06/2012 00:37:12.261] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture] now supervising Actor[akka://MarketContentsCaptureSpec/user/MarketContentsCapture/FutSessContentsRepository]
[DEBUG] [12/06/2012 00:37:12.261] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture] now supervising Actor[akka://MarketContentsCaptureSpec/user/MarketContentsCapture/OptSessContentsRepository]
[DEBUG] [12/06/2012 00:37:12.261] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture] now supervising Actor[akka://MarketContentsCaptureSpec/user/MarketContentsCapture/$a]
[DEBUG] [12/06/2012 00:37:12.261] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture] now supervising Actor[akka://MarketContentsCaptureSpec/user/MarketContentsCapture/$b]
[DEBUG] [12/06/2012 00:37:12.261] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture] now supervising Actor[akka://MarketContentsCaptureSpec/user/MarketContentsCapture/$c]
[DEBUG] [12/06/2012 00:37:12.261] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-5] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture/$b] started (com.ergodicity.capture.Router@4ea76c)
[DEBUG] [12/06/2012 00:37:12.261] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-1] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture/$a] started (com.ergodicity.capture.Router@13e3c8d)
[DEBUG] [12/06/2012 00:37:12.261] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-4] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture/$c] started (com.ergodicity.capture.Router@f97cce)
[INFO] [12/06/2012 00:37:12.266] [SessionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://SessionsServiceSpec/user/Services/Connection/Connection] Trying to establish connection to CGate router
[WARN] [12/06/2012 00:37:12.266] [SessionsServiceSpec-akka.actor.default-dispatcher-2] [akka://SessionsServiceSpec/user/Services/Connection] Unhandled event: Transition(Actor[akka://SessionsServiceSpec/user/Services/Connection/Connection],Closed,Opening)
00:37:12.298 [pool-4-thread-4] INFO  c.e.capture.MarketDbRepositorySpec - Session = Some(Session(sess_id=100, opt_sess_id=100))
[DEBUG] [12/06/2012 00:37:12.842] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-7] [akka://MarketContentsCaptureSpec/user] now supervising TestActor[akka://MarketContentsCaptureSpec/user/FutInfoStream]
[DEBUG] [12/06/2012 00:37:12.842] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/FutInfoStream] started (com.ergodicity.cgate.DataStream@1c0ee20)
[DEBUG] [12/06/2012 00:37:12.843] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-7] [akka://MarketContentsCaptureSpec/user] now supervising TestActor[akka://MarketContentsCaptureSpec/user/OptInfoStream]
[DEBUG] [12/06/2012 00:37:12.843] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/OptInfoStream] started (com.ergodicity.cgate.DataStream@1299490)
[DEBUG] [12/06/2012 00:37:12.844] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-3] [akka://MarketContentsCaptureSpec/user] now supervising TestActor[akka://MarketContentsCaptureSpec/user/MarketContentsCapture]
[DEBUG] [12/06/2012 00:37:12.845] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-3] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture/SessionsRepository] started (com.ergodicity.capture.Repository@137564)
[DEBUG] [12/06/2012 00:37:12.845] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-7] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture/FutSessContentsRepository] started (com.ergodicity.capture.Repository@15d7289)
[DEBUG] [12/06/2012 00:37:12.845] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-4] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture/OptSessContentsRepository] started (com.ergodicity.capture.Repository@df3533)
[DEBUG] [12/06/2012 00:37:12.846] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-5] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture/$a] started (com.ergodicity.capture.Router@388161)
[DEBUG] [12/06/2012 00:37:12.846] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture] started (com.ergodicity.capture.MarketContentsCapture@1b60f98)
[DEBUG] [12/06/2012 00:37:12.846] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture] now supervising Actor[akka://MarketContentsCaptureSpec/user/MarketContentsCapture/SessionsRepository]
[DEBUG] [12/06/2012 00:37:12.846] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture] now supervising Actor[akka://MarketContentsCaptureSpec/user/MarketContentsCapture/FutSessContentsRepository]
[DEBUG] [12/06/2012 00:37:12.846] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture] now supervising Actor[akka://MarketContentsCaptureSpec/user/MarketContentsCapture/OptSessContentsRepository]
[DEBUG] [12/06/2012 00:37:12.846] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture] now supervising Actor[akka://MarketContentsCaptureSpec/user/MarketContentsCapture/$a]
[DEBUG] [12/06/2012 00:37:12.846] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-2] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture/$b] started (com.ergodicity.capture.Router@164c486)
[DEBUG] [12/06/2012 00:37:12.846] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture] now supervising Actor[akka://MarketContentsCaptureSpec/user/MarketContentsCapture/$b]
[DEBUG] [12/06/2012 00:37:12.846] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture] now supervising Actor[akka://MarketContentsCaptureSpec/user/MarketContentsCapture/$c]
[DEBUG] [12/06/2012 00:37:12.846] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-6] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture/$c] started (com.ergodicity.capture.Router@1bc4e20)
[info] MarketContentsCaptureSpec:
[info] MarketContentsCapture 
[info] - must save session data
[info] - must initialize with Future session content
[info] - must initialize with Option session content
[DEBUG] [12/06/2012 00:37:13.262] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-4] [akka://MarketContentsCaptureSpec/user/FutInfoStream] stopped
[DEBUG] [12/06/2012 00:37:13.268] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-4] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture] stopping
[DEBUG] [12/06/2012 00:37:13.268] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-7] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture/$a] stopped
[DEBUG] [12/06/2012 00:37:13.268] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-4] [akka://MarketContentsCaptureSpec/user/OptInfoStream] stopped
[DEBUG] [12/06/2012 00:37:13.270] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-4] [akka://MarketContentsCaptureSpec/user] stopping
[DEBUG] [12/06/2012 00:37:13.271] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-7] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture/$c] stopped
[DEBUG] [12/06/2012 00:37:13.271] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-7] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture/OptSessContentsRepository] stopped
[DEBUG] [12/06/2012 00:37:13.272] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-7] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture] stopped
[DEBUG] [12/06/2012 00:37:13.272] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-7] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture/SessionsRepository] stopped
[DEBUG] [12/06/2012 00:37:13.272] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-1] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture/$b] stopped
[DEBUG] [12/06/2012 00:37:13.272] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-4] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture/FutSessContentsRepository] stopped
[DEBUG] [12/06/2012 00:37:13.273] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-3] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:13.273] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-3] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:37:13.273] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-3] [akka://MarketContentsCaptureSpec/system/testActor7] stopped
[DEBUG] [12/06/2012 00:37:13.274] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-3] [akka://MarketContentsCaptureSpec/system] stopping
[DEBUG] [12/06/2012 00:37:13.274] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-3] [akka://MarketContentsCaptureSpec/system/log1-Logging$DefaultLogger] stopped
[DEBUG] [12/06/2012 00:37:13.274] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-7] [akka://MarketContentsCaptureSpec/system] stopped
[DEBUG] [12/06/2012 00:37:13.274] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-3] [akka://MarketContentsCaptureSpec/] stopped
[DEBUG] [12/06/2012 00:37:13.280] [pool-4-thread-2] [EventStream(akka://TradesServiceSpec)] logger log1-TestEventListener started
[DEBUG] [12/06/2012 00:37:13.280] [pool-4-thread-2] [EventStream(akka://TradesServiceSpec)] Default Loggers started
[INFO] [12/06/2012 00:37:13.279] [SessionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://SessionsServiceSpec/user/Services/Connection/Connection] Connection opened
[INFO] [12/06/2012 00:37:13.282] [SessionsServiceSpec-akka.actor.default-dispatcher-5] [akka://SessionsServiceSpec/user/Services] Service started = Connection, remaining = Set(InstrumentData)
[INFO] [12/06/2012 00:37:13.282] [SessionsServiceSpec-akka.actor.default-dispatcher-5] [akka://SessionsServiceSpec/user/Services/InstrumentData] Start InstrumentData service
[INFO] [12/06/2012 00:37:13.301] [pool-4-thread-2] [akka://TradesServiceSpec/user/Services] Register service, Id = Connection, depends on = List()
[INFO] [12/06/2012 00:37:13.301] [pool-4-thread-2] [akka://TradesServiceSpec/user/Services] Register service, Id = InstrumentData, depends on = List(Connection)
[INFO] [12/06/2012 00:37:13.301] [PositionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://PositionsServiceSpec/user/Services/Connection/Connection] Connection opened
[INFO] [12/06/2012 00:37:13.302] [PositionsServiceSpec-akka.actor.default-dispatcher-6] [akka://PositionsServiceSpec/user/Services] Service started = Connection, remaining = Set(InstrumentData, Portfolio)
[INFO] [12/06/2012 00:37:13.302] [PositionsServiceSpec-akka.actor.default-dispatcher-2] [akka://PositionsServiceSpec/user/Services/InstrumentData] Start InstrumentData service
[INFO] [12/06/2012 00:37:13.302] [PositionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://PositionsServiceSpec/user/Services/InstrumentData/FutInfoListener] Open listener with config = mode=snapshot+online
[WARN] [12/06/2012 00:37:13.303] [TradesServiceSpec-akka.actor.default-dispatcher-3] [akka://TradesServiceSpec/user/Services/Connection] Unhandled event: CurrentState(Actor[akka://TradesServiceSpec/user/Services/Connection/Connection],Closed)
[INFO] [12/06/2012 00:37:13.304] [pool-4-thread-2] [akka://TradesServiceSpec/user/Services] Register service, Id = TradesData, depends on = List(InstrumentData)
[INFO] [12/06/2012 00:37:13.304] [TradesServiceSpec-akka.actor.default-dispatcher-4] [akka://TradesServiceSpec/user/Services/InstrumentData/SessionsTracking] Start session tracking
[INFO] [12/06/2012 00:37:13.304] [pool-4-thread-2] [akka://TradesServiceSpec/user/Services] Registered services = Set(Connection, InstrumentData, TradesData)
[INFO] [12/06/2012 00:37:13.304] [pool-4-thread-2] [akka://TradesServiceSpec/user/Services]  - Connection; startBarrier = List(StartUp), stopBarrier = List(ShutDown, InstrumentData)
[INFO] [12/06/2012 00:37:13.304] [pool-4-thread-2] [akka://TradesServiceSpec/user/Services]  - InstrumentData; startBarrier = List(StartUp, Connection), stopBarrier = List(ShutDown, TradesData)
[INFO] [12/06/2012 00:37:13.305] [pool-4-thread-2] [akka://TradesServiceSpec/user/Services]  - TradesData; startBarrier = List(StartUp, InstrumentData), stopBarrier = List(ShutDown)
[INFO] [12/06/2012 00:37:13.307] [pool-4-thread-2] [akka://TradesServiceSpec/user/Services] Start all services = Set(Connection, InstrumentData, TradesData)
[INFO] [12/06/2012 00:37:13.307] [TradesServiceSpec-akka.actor.default-dispatcher-4] [akka://TradesServiceSpec/user/Services/Connection] Start Connection service
[INFO] [12/06/2012 00:37:13.307] [TradesServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradesServiceSpec/user/Services/Connection/Connection] Open connection
[WARN] [12/06/2012 00:37:13.335] [TradesServiceSpec-akka.actor.default-dispatcher-9] [akka://TradesServiceSpec/user/Services/TradesData] unhandled event CurrentState(Actor[akka://TradesServiceSpec/user/Services/TradesData/FutTradeStream],Closed) in state Idle
[WARN] [12/06/2012 00:37:13.335] [TradesServiceSpec-akka.actor.default-dispatcher-9] [akka://TradesServiceSpec/user/Services/TradesData] unhandled event CurrentState(Actor[akka://TradesServiceSpec/user/Services/TradesData/OptTradeStream],Closed) in state Idle
[INFO] [12/06/2012 00:37:13.342] [PositionsServiceSpec-akka.actor.default-dispatcher-2] [akka://PositionsServiceSpec/user/Services/InstrumentData/FutInfoDataStream] DataStream goes Online
[INFO] [12/06/2012 00:37:13.343] [PositionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://PositionsServiceSpec/user/Services/InstrumentData/OptInfoListener] Open listener with config = mode=snapshot+online
[INFO] [12/06/2012 00:37:13.345] [PositionsServiceSpec-akka.actor.default-dispatcher-4] [akka://PositionsServiceSpec/user/Services/InstrumentData/OptInfoDataStream] DataStream goes Online
[INFO] [12/06/2012 00:37:13.367] [PositionsServiceSpec-akka.actor.default-dispatcher-4] [akka://PositionsServiceSpec/user/Services/InstrumentData/SessionsTracking] Synchonized event = SynchronizedEvent(SessionDataReady(1,100),SessionDataReady(1,100))
[INFO] [12/06/2012 00:37:13.380] [TradesServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradesServiceSpec/user/Services/Connection/Connection] Connection opened
[INFO] [12/06/2012 00:37:13.380] [TradesServiceSpec-akka.actor.default-dispatcher-8] [akka://TradesServiceSpec/user/Services] Service started = Connection, remaining = Set(InstrumentData, TradesData)
[INFO] [12/06/2012 00:37:13.381] [TradesServiceSpec-akka.actor.default-dispatcher-1] [akka://TradesServiceSpec/user/Services/InstrumentData] Start InstrumentData service
[INFO] [12/06/2012 00:37:13.390] [PositionsServiceSpec-akka.actor.default-dispatcher-5] [akka://PositionsServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Futures] Start SessionContents
[INFO] [12/06/2012 00:37:13.391] [PositionsServiceSpec-akka.actor.default-dispatcher-6] [akka://PositionsServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Options] Start SessionContents
[INFO] [12/06/2012 00:37:13.411] [PositionsServiceSpec-akka.actor.default-dispatcher-2] [akka://PositionsServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Futures/FISIN] Started instrument for security = FutureContract(IsinId(100),Isin(FISIN),ShortIsisn(FISINS),Future)
[INFO] [12/06/2012 00:37:13.411] [PositionsServiceSpec-akka.actor.default-dispatcher-5] [akka://PositionsServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Options/OISIN] Started instrument for security = OptionContract(IsinId(101),Isin(OISIN),ShortIsisn(OSISIN),Option)
[INFO] [12/06/2012 00:37:13.788] [SessionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://SessionsServiceSpec/user/Services/InstrumentData/FutInfoListener] Open listener with config = mode=snapshot+online
[INFO] [12/06/2012 00:37:13.788] [SessionsServiceSpec-akka.actor.default-dispatcher-5] [akka://SessionsServiceSpec/user/Services/InstrumentData/FutInfoDataStream] DataStream goes Online
[INFO] [12/06/2012 00:37:13.788] [SessionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://SessionsServiceSpec/user/Services/InstrumentData/OptInfoListener] Open listener with config = mode=snapshot+online
[INFO] [12/06/2012 00:37:13.788] [SessionsServiceSpec-akka.actor.default-dispatcher-4] [akka://SessionsServiceSpec/user/Services/InstrumentData/OptInfoDataStream] DataStream goes Online
[INFO] [12/06/2012 00:37:13.881] [TradesServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradesServiceSpec/user/Services/InstrumentData/FutInfoListener] Open listener with config = mode=snapshot+online
[INFO] [12/06/2012 00:37:13.889] [TradesServiceSpec-akka.actor.default-dispatcher-9] [akka://TradesServiceSpec/user/Services/InstrumentData/FutInfoDataStream] DataStream goes Online
[INFO] [12/06/2012 00:37:13.890] [TradesServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradesServiceSpec/user/Services/InstrumentData/OptInfoListener] Open listener with config = mode=snapshot+online
[INFO] [12/06/2012 00:37:13.895] [TradesServiceSpec-akka.actor.default-dispatcher-8] [akka://TradesServiceSpec/user/Services/InstrumentData/SessionsTracking] Synchonized event = SynchronizedEvent(SessionDataReady(1,100),SessionDataReady(1,100))
[INFO] [12/06/2012 00:37:13.897] [TradesServiceSpec-akka.actor.default-dispatcher-3] [akka://TradesServiceSpec/user/Services/InstrumentData/OptInfoDataStream] DataStream goes Online
[INFO] [12/06/2012 00:37:13.897] [TradesServiceSpec-akka.actor.default-dispatcher-2] [akka://TradesServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Futures] Start SessionContents
[INFO] [12/06/2012 00:37:13.898] [TradesServiceSpec-akka.actor.default-dispatcher-2] [akka://TradesServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Options] Start SessionContents
[INFO] [12/06/2012 00:37:13.899] [TradesServiceSpec-akka.actor.default-dispatcher-9] [akka://TradesServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Options/OISIN] Started instrument for security = OptionContract(IsinId(101),Isin(OISIN),ShortIsisn(OISINS),Option)
[INFO] [12/06/2012 00:37:13.900] [TradesServiceSpec-akka.actor.default-dispatcher-2] [akka://TradesServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Futures/FISIN] Started instrument for security = FutureContract(IsinId(100),Isin(FISIN),ShortIsisn(FISINS),Future)
[INFO] [12/06/2012 00:37:13.903] [PositionsServiceSpec-akka.actor.default-dispatcher-5] [akka://PositionsServiceSpec/user/Services] Service started = InstrumentData, remaining = Set(Portfolio)
[INFO] [12/06/2012 00:37:13.903] [PositionsServiceSpec-akka.actor.default-dispatcher-6] [akka://PositionsServiceSpec/user/Services/Portfolio] Start Portfolio service
[DEBUG] [12/06/2012 00:37:13.905] [PositionsServiceSpec-akka.actor.default-dispatcher-2] [akka://PositionsServiceSpec/user/Services/Portfolio] Got ongoing session = OngoingSession(SessionId(100,100),Actor[akka://PositionsServiceSpec/user/Services/InstrumentData/SessionsTracking/100])
[DEBUG] [12/06/2012 00:37:13.917] [PositionsServiceSpec-akka.actor.default-dispatcher-4] [akka://PositionsServiceSpec/user/Services/Portfolio/Positions] Assigned contents; Size = 2
[info] MarketDbRepositorySpec:
[info] MarketCaptureRepository with SessionRepository 
[info] - should save session records
[info] MarketCaptureRepository with FutSessionContentsRepository 
[info] - should save fut session contents record
[info] MarketCaptureRepository with OptSessionContentsRepository 
[info] - should save opt session contents record
[info] MarketCaptureRepository with ReplicationStateRepository 
[info] - should set, get and reset replication state
[DEBUG] [12/06/2012 00:37:14.135] [pool-4-thread-4] [EventStream(akka://OrdersServiceSpec)] logger log1-TestEventListener started
[DEBUG] [12/06/2012 00:37:14.135] [pool-4-thread-4] [EventStream(akka://OrdersServiceSpec)] Default Loggers started
[INFO] [12/06/2012 00:37:14.181] [pool-4-thread-4] [akka://OrdersServiceSpec/user/Services] Register service, Id = Connection, depends on = List()
[INFO] [12/06/2012 00:37:14.182] [pool-4-thread-4] [akka://OrdersServiceSpec/user/Services] Register service, Id = InstrumentData, depends on = List(Connection)
[INFO] [12/06/2012 00:37:14.184] [pool-4-thread-4] [akka://OrdersServiceSpec/user/Services] Register service, Id = Trading, depends on = List(InstrumentData)
[WARN] [12/06/2012 00:37:14.184] [OrdersServiceSpec-akka.actor.default-dispatcher-2] [akka://OrdersServiceSpec/user/Services/Connection] Unhandled event: CurrentState(Actor[akka://OrdersServiceSpec/user/Services/Connection/Connection],Closed)
[INFO] [12/06/2012 00:37:14.185] [pool-4-thread-4] [akka://OrdersServiceSpec/user/Services] Registered services = Set(Connection, InstrumentData, Trading)
[INFO] [12/06/2012 00:37:14.185] [pool-4-thread-4] [akka://OrdersServiceSpec/user/Services]  - Connection; startBarrier = List(StartUp), stopBarrier = List(ShutDown, InstrumentData)
[INFO] [12/06/2012 00:37:14.185] [pool-4-thread-4] [akka://OrdersServiceSpec/user/Services]  - InstrumentData; startBarrier = List(StartUp, Connection), stopBarrier = List(ShutDown, Trading)
[INFO] [12/06/2012 00:37:14.185] [pool-4-thread-4] [akka://OrdersServiceSpec/user/Services]  - Trading; startBarrier = List(StartUp, InstrumentData), stopBarrier = List(ShutDown)
[INFO] [12/06/2012 00:37:14.185] [OrdersServiceSpec-akka.actor.default-dispatcher-4] [akka://OrdersServiceSpec/user/Services/InstrumentData/SessionsTracking] Start session tracking
[INFO] [12/06/2012 00:37:14.187] [pool-4-thread-4] [akka://OrdersServiceSpec/user/Services] Start all services = Set(Connection, InstrumentData, Trading)
[INFO] [12/06/2012 00:37:14.187] [OrdersServiceSpec-akka.actor.default-dispatcher-6] [akka://OrdersServiceSpec/user/Services/Connection] Start Connection service
[INFO] [12/06/2012 00:37:14.188] [OrdersServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrdersServiceSpec/user/Services/Connection/Connection] Open connection
[WARN] [12/06/2012 00:37:14.198] [OrdersServiceSpec-akka.actor.default-dispatcher-2] [Dispatchers] Dispatcher [engine.dispatchers.publisherDispatcher] not configured, using default-dispatcher
[INFO] [12/06/2012 00:37:14.228] [OrdersServiceSpec-akka.actor.default-dispatcher-2] [akka://OrdersServiceSpec/user/Services/Trading] Start Trading service
[INFO] [12/06/2012 00:37:14.233] [OrdersServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrdersServiceSpec/user/Services/Connection/Connection] Trying to establish connection to CGate router
[WARN] [12/06/2012 00:37:14.233] [OrdersServiceSpec-akka.actor.default-dispatcher-6] [akka://OrdersServiceSpec/user/Services/Connection] Unhandled event: Transition(Actor[akka://OrdersServiceSpec/user/Services/Connection/Connection],Closed,Opening)
[INFO] [12/06/2012 00:37:14.347] [PositionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://PositionsServiceSpec/user/Services/Portfolio/PosListener] Open listener with config = mode=snapshot+online
[INFO] [12/06/2012 00:37:14.348] [PositionsServiceSpec-akka.actor.default-dispatcher-6] [akka://PositionsServiceSpec/user/Services/Portfolio/PosDataStream] DataStream goes Online
[INFO] [12/06/2012 00:37:14.349] [PositionsServiceSpec-akka.actor.default-dispatcher-6] [akka://PositionsServiceSpec/user/Services] Service started = Portfolio, remaining = Set()
[INFO] [12/06/2012 00:37:14.349] [PositionsServiceSpec-akka.actor.default-dispatcher-6] [akka://PositionsServiceSpec/user/Services] All services started
[INFO] [12/06/2012 00:37:14.367] [SessionsServiceSpec-akka.actor.default-dispatcher-3] [akka://SessionsServiceSpec/user/Services] Service started = InstrumentData, remaining = Set()
[INFO] [12/06/2012 00:37:14.367] [SessionsServiceSpec-akka.actor.default-dispatcher-3] [akka://SessionsServiceSpec/user/Services] All services started
[INFO] [12/06/2012 00:37:14.382] [SessionsServiceSpec-akka.actor.default-dispatcher-5] [akka://SessionsServiceSpec/user/Services/InstrumentData/SessionsTracking] Synchonized event = SynchronizedEvent(SessionDataReady(1,100),SessionDataReady(1,100))
[INFO] [12/06/2012 00:37:14.383] [SessionsServiceSpec-akka.actor.default-dispatcher-6] [akka://SessionsServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Futures] Start SessionContents
[INFO] [12/06/2012 00:37:14.383] [SessionsServiceSpec-akka.actor.default-dispatcher-7] [akka://SessionsServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Options] Start SessionContents
[INFO] [12/06/2012 00:37:14.383] [SessionsServiceSpec-akka.actor.default-dispatcher-1] [akka://SessionsServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Futures/FISIN] Started instrument for security = FutureContract(IsinId(100),Isin(FISIN),ShortIsisn(FSISIN),Future)
[INFO] [12/06/2012 00:37:14.383] [SessionsServiceSpec-akka.actor.default-dispatcher-1] [akka://SessionsServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Options/OISIN] Started instrument for security = OptionContract(IsinId(101),Isin(OISIN),ShortIsisn(OSISIN),Option)
[INFO] [12/06/2012 00:37:14.850] [TradesServiceSpec-akka.actor.default-dispatcher-10] [akka://TradesServiceSpec/user/Services] Service started = InstrumentData, remaining = Set(TradesData)
[INFO] [12/06/2012 00:37:14.850] [TradesServiceSpec-akka.actor.default-dispatcher-8] [akka://TradesServiceSpec/user/Services/TradesData] Start TradesData service
[DEBUG] [12/06/2012 00:37:14.850] [TradesServiceSpec-akka.actor.default-dispatcher-3] [akka://TradesServiceSpec/user/Services/TradesData] Got ongoing session = OngoingSession(SessionId(100,100),Actor[akka://TradesServiceSpec/user/Services/InstrumentData/SessionsTracking/100])
[INFO] [12/06/2012 00:37:14.851] [SessionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://SessionsServiceSpec/user/Services/InstrumentData/FutInfoListener] Listener opened
[INFO] [12/06/2012 00:37:14.851] [SessionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://SessionsServiceSpec/user/Services/InstrumentData/OptInfoListener] Listener opened
[DEBUG] [12/06/2012 00:37:14.854] [TradesServiceSpec-akka.actor.default-dispatcher-9] [akka://TradesServiceSpec/user/Services/TradesData/TradesTracking] Assigned contents; Size = 2
[INFO] [12/06/2012 00:37:14.854] [TradesServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradesServiceSpec/user/Services/InstrumentData/FutInfoListener] Listener opened
[INFO] [12/06/2012 00:37:14.855] [TradesServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradesServiceSpec/user/Services/InstrumentData/OptInfoListener] Listener opened
[INFO] [12/06/2012 00:37:14.857] [PositionsServiceSpec-akka.actor.default-dispatcher-6] [akka://PositionsServiceSpec/user/Services/Portfolio/Positions/FISIN] Opened position; Security = FutureContract(IsinId(100),Isin(FISIN),ShortIsisn(FISINS),Future)
[DEBUG] [12/06/2012 00:37:14.875] [PositionsServiceSpec-akka.actor.default-dispatcher-6] [akka://PositionsServiceSpec/user/Services/Portfolio/Positions] Position updated; Security = FutureContract(IsinId(100),Isin(FISIN),ShortIsisn(FISINS),Future)
[DEBUG] [12/06/2012 00:37:14.876] [PositionsServiceSpec-akka.actor.default-dispatcher-2] [akka://PositionsServiceSpec/user/Services/Portfolio/Positions/FISIN] Position updated to Position(10), dynamics = PositionDynamics(0,10,0,0,Some(1111))
[DEBUG] [12/06/2012 00:37:14.878] [PositionsServiceSpec-akka.actor.default-dispatcher-6] [akka://PositionsServiceSpec/user/Services/Portfolio/Positions] Position updated; Security = FutureContract(IsinId(100),Isin(FISIN),ShortIsisn(FISINS),Future)
[DEBUG] [12/06/2012 00:37:14.878] [PositionsServiceSpec-akka.actor.default-dispatcher-2] [akka://PositionsServiceSpec/user/Services/Portfolio/Positions/FISIN] Position updated to Position(10), dynamics = PositionDynamics(10,0,0,0,None)
[DEBUG] [12/06/2012 00:37:14.884] [PositionsServiceSpec-akka.actor.default-dispatcher-2] [akka://PositionsServiceSpec/user/Services/Portfolio/Positions] Position updated; Security = FutureContract(IsinId(100),Isin(FISIN),ShortIsisn(FISINS),Future)
[DEBUG] [12/06/2012 00:37:14.884] [PositionsServiceSpec-akka.actor.default-dispatcher-2] [akka://PositionsServiceSpec/user/Services/Portfolio/Positions/FISIN] Position updated to Position(0), dynamics = PositionDynamics(10,0,10,0,Some(1111))
[INFO] [12/06/2012 00:37:14.885] [pool-4-thread-3] [akka://SessionsServiceSpec/user/Services] Register service, Id = Connection, depends on = List()
[INFO] [12/06/2012 00:37:14.885] [pool-4-thread-3] [akka://SessionsServiceSpec/user/Services] Register service, Id = InstrumentData, depends on = List(Connection)
[INFO] [12/06/2012 00:37:14.885] [pool-4-thread-3] [akka://SessionsServiceSpec/user/Services] Registered services = Set(Connection, InstrumentData)
[INFO] [12/06/2012 00:37:14.885] [pool-4-thread-3] [akka://SessionsServiceSpec/user/Services]  - Connection; startBarrier = List(StartUp), stopBarrier = List(ShutDown, InstrumentData)
[INFO] [12/06/2012 00:37:14.885] [pool-4-thread-3] [akka://SessionsServiceSpec/user/Services]  - InstrumentData; startBarrier = List(StartUp, Connection), stopBarrier = List(ShutDown)
[INFO] [12/06/2012 00:37:14.885] [pool-4-thread-3] [akka://SessionsServiceSpec/user/Services] Start all services = Set(Connection, InstrumentData)
[DEBUG] [12/06/2012 00:37:14.885] [PositionsServiceSpec-akka.actor.default-dispatcher-7] [akka://PositionsServiceSpec/user/Services/Portfolio/Positions] Position discarded; Security = FutureContract(IsinId(100),Isin(FISIN),ShortIsisn(FISINS),Future)
[INFO] [12/06/2012 00:37:14.886] [SessionsServiceSpec-akka.actor.default-dispatcher-9] [akka://SessionsServiceSpec/user/Services/Connection] Start Connection service
[DEBUG] [12/06/2012 00:37:14.888] [PositionsServiceSpec-akka.actor.default-dispatcher-7] [akka://PositionsServiceSpec/user/Services/Portfolio/Positions/FISIN] Position updated to Position(0), dynamics = PositionDynamics(0,0,0,0,None)
[INFO] [12/06/2012 00:37:14.888] [SessionsServiceSpec-akka.actor.default-dispatcher-9] [akka://SessionsServiceSpec/user/Services/InstrumentData/SessionsTracking] Start session tracking
[info] PositionsServiceSpec:
[info] Positions Service 
[info] - must support position lifecycle
[info]   + Given engine's portfolio service 
[info]   + Given assigned session 
[info]   + When start services 
[info]   + Then all services should start 
[info]   + And initial positions should be empty 
[info]   + When bought future 
[info]   + Then should receive Transition notification 
[info]   + When toggled session 
[info]   + Then should notify with updated dynamics 
[info]   + When try discard opened position 
[info]   + Then should fail with Exception 
[info]   + When try update position for not assigned instrument 
[info]   + Then should fail with Exception 
[info]   + When position covered 
[info]   + Then should notify on position update 
[info]   + When position discarded 
[info]   + Then do nothing 
[DEBUG] [12/06/2012 00:37:14.906] [pool-4-thread-1] [EventStream(akka://PublisherStubSpec)] logger log1-TestEventListener started
[DEBUG] [12/06/2012 00:37:14.906] [pool-4-thread-1] [EventStream(akka://PublisherStubSpec)] Default Loggers started
[info] PublisherStubSpec:
[info] Publisher Stub Actor 
[info] - must open publisher
[info] - must throw exception opening Active publisher
[info] - must close Active publisher
[info] - must fail close already Closed publisher
[info] - must get state
[info] Publisher Stub 
[info] - must support Action serialization
[DEBUG] [12/06/2012 00:37:14.974] [PublisherStubSpec-akka.actor.default-dispatcher-1] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:14.974] [PublisherStubSpec-akka.actor.default-dispatcher-1] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:14.976] [PublisherStubSpec-akka.actor.default-dispatcher-1] [EventStream] all default loggers stopped
Setting up data.
[INFO] [12/06/2012 00:37:15.333] [OrdersServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrdersServiceSpec/user/Services/Connection/Connection] Connection opened
[INFO] [12/06/2012 00:37:15.333] [OrdersServiceSpec-akka.actor.default-dispatcher-9] [akka://OrdersServiceSpec/user/Services] Service started = Connection, remaining = Set(InstrumentData, Trading)
[INFO] [12/06/2012 00:37:15.334] [OrdersServiceSpec-akka.actor.default-dispatcher-2] [akka://OrdersServiceSpec/user/Services/InstrumentData] Start InstrumentData service
[ERROR] [12/06/2012 00:37:15.351] [PositionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://PositionsServiceSpec/user/Services/Connection/Connection] Connection failed, reason = Shutdown
[WARN] [12/06/2012 00:37:15.351] [SessionsServiceSpec-akka.actor.default-dispatcher-6] [akka://SessionsServiceSpec/user/Services/Connection] Unhandled event: CurrentState(Actor[akka://SessionsServiceSpec/user/Services/Connection/Connection],Closed)
[INFO] [12/06/2012 00:37:15.351] [SessionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://SessionsServiceSpec/user/Services/Connection/Connection] Open connection
[WARN] [12/06/2012 00:37:15.351] [PositionsServiceSpec-akka.actor.default-dispatcher-2] [akka://PositionsServiceSpec/user/Services/Connection/Connection] received dead letter from Actor[akka://PositionsServiceSpec/user/Services/Connection/Connection]: UpdateState
[WARN] [12/06/2012 00:37:15.352] [PositionsServiceSpec-akka.actor.default-dispatcher-2] [akka://PositionsServiceSpec/user/Services/Connection/Connection] received dead letter from Actor[akka://PositionsServiceSpec/user/Services/Connection/Connection]: ProcessMessages(10 milliseconds)
[ERROR] [12/06/2012 00:37:15.353] [PositionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://PositionsServiceSpec/user/Services/Portfolio/PosListener] Listener failed, reason = Shutdown
[WARN] [12/06/2012 00:37:15.353] [PositionsServiceSpec-akka.actor.default-dispatcher-2] [akka://PositionsServiceSpec/user/Services/Portfolio/PosListener] received dead letter from Actor[akka://PositionsServiceSpec/user/Services/Portfolio/PosListener]: UpdateState
[ERROR] [12/06/2012 00:37:15.353] [PositionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://PositionsServiceSpec/user/Services/InstrumentData/OptInfoListener] Listener failed, reason = Shutdown
[WARN] [12/06/2012 00:37:15.353] [PositionsServiceSpec-akka.actor.default-dispatcher-2] [akka://PositionsServiceSpec/user/Services/InstrumentData/OptInfoListener] received dead letter from Actor[akka://PositionsServiceSpec/user/Services/InstrumentData/OptInfoListener]: UpdateState
[ERROR] [12/06/2012 00:37:15.353] [PositionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://PositionsServiceSpec/user/Services/InstrumentData/FutInfoListener] Listener failed, reason = Shutdown
[WARN] [12/06/2012 00:37:15.353] [PositionsServiceSpec-akka.actor.default-dispatcher-2] [akka://PositionsServiceSpec/user/Services/InstrumentData/FutInfoListener] received dead letter from Actor[akka://PositionsServiceSpec/user/Services/InstrumentData/FutInfoListener]: UpdateState
[INFO] [12/06/2012 00:37:15.354] [TradesServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradesServiceSpec/user/Services/TradesData/FutTradesListener] Open listener with config = mode=online
[INFO] [12/06/2012 00:37:15.354] [TradesServiceSpec-akka.actor.default-dispatcher-8] [akka://TradesServiceSpec/user/Services/TradesData/FutTradeStream] DataStream goes Online
[INFO] [12/06/2012 00:37:15.354] [TradesServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradesServiceSpec/user/Services/TradesData/OptTradesListener] Open listener with config = mode=online
[INFO] [12/06/2012 00:37:15.355] [TradesServiceSpec-akka.actor.default-dispatcher-11] [akka://TradesServiceSpec/user/Services/TradesData/OptTradeStream] DataStream goes Online
[INFO] [12/06/2012 00:37:15.355] [TradesServiceSpec-akka.actor.default-dispatcher-11] [akka://TradesServiceSpec/user/Services] Service started = TradesData, remaining = Set()
[INFO] [12/06/2012 00:37:15.355] [TradesServiceSpec-akka.actor.default-dispatcher-11] [akka://TradesServiceSpec/user/Services] All services started
[DEBUG] [12/06/2012 00:37:15.355] [PositionsServiceSpec-akka.actor.default-dispatcher-2] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:15.355] [PositionsServiceSpec-akka.actor.default-dispatcher-2] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:15.355] [PositionsServiceSpec-akka.actor.default-dispatcher-2] [EventStream] all default loggers stopped
[INFO] [12/06/2012 00:37:15.434] [pool-4-thread-2] [akka://TradesServiceSpec/system/testActor3] Dispatched trades = List(Trade(1111,100,IsinId(100),100,1,2013-01-06T00:37:15.356+04:00,false), Trade(1112,100,IsinId(101),100,1,2013-01-06T00:37:15.356+04:00,false))
[info] TradesServiceSpec:
[info] Trades Service 
[info] - must dispatch trades from underlying MarketDb
[info]   + Given engine's trades data service 
[info]   + Given assigned session 
[info]   + When start services 
[info]   + Then all services should start 
[info]   + Given backtest trades service 
[info]   + When subscribe for trades 
[info]   + And dispatch trades from market db 
[info]   + Then should get these trades back 
[DEBUG] [12/06/2012 00:37:15.442] [pool-4-thread-2] [EventStream(akka://OrderBooksServiceSpec)] logger log1-TestEventListener started
[DEBUG] [12/06/2012 00:37:15.442] [pool-4-thread-2] [EventStream(akka://OrderBooksServiceSpec)] Default Loggers started
[INFO] [12/06/2012 00:37:15.460] [pool-4-thread-2] [akka://OrderBooksServiceSpec/user/Services] Register service, Id = Connection, depends on = List()
[INFO] [12/06/2012 00:37:15.460] [pool-4-thread-2] [akka://OrderBooksServiceSpec/user/Services] Register service, Id = InstrumentData, depends on = List(Connection)
[WARN] [12/06/2012 00:37:15.463] [OrderBooksServiceSpec-akka.actor.default-dispatcher-2] [akka://OrderBooksServiceSpec/user/Services/Connection] Unhandled event: CurrentState(Actor[akka://OrderBooksServiceSpec/user/Services/Connection/Connection],Closed)
[INFO] [12/06/2012 00:37:15.464] [pool-4-thread-2] [akka://OrderBooksServiceSpec/user/Services] Register service, Id = OrdersData, depends on = List(InstrumentData)
[INFO] [12/06/2012 00:37:15.464] [pool-4-thread-2] [akka://OrderBooksServiceSpec/user/Services] Registered services = Set(Connection, InstrumentData, OrdersData)
[INFO] [12/06/2012 00:37:15.464] [pool-4-thread-2] [akka://OrderBooksServiceSpec/user/Services]  - Connection; startBarrier = List(StartUp), stopBarrier = List(ShutDown, InstrumentData)
[INFO] [12/06/2012 00:37:15.464] [pool-4-thread-2] [akka://OrderBooksServiceSpec/user/Services]  - InstrumentData; startBarrier = List(StartUp, Connection), stopBarrier = List(ShutDown, OrdersData)
[INFO] [12/06/2012 00:37:15.464] [pool-4-thread-2] [akka://OrderBooksServiceSpec/user/Services]  - OrdersData; startBarrier = List(StartUp, InstrumentData), stopBarrier = List(ShutDown)
[INFO] [12/06/2012 00:37:15.465] [OrderBooksServiceSpec-akka.actor.default-dispatcher-2] [akka://OrderBooksServiceSpec/user/Services/InstrumentData/SessionsTracking] Start session tracking
[INFO] [12/06/2012 00:37:15.481] [pool-4-thread-2] [akka://OrderBooksServiceSpec/user/Services] Start all services = Set(Connection, InstrumentData, OrdersData)
[INFO] [12/06/2012 00:37:15.481] [OrderBooksServiceSpec-akka.actor.default-dispatcher-7] [akka://OrderBooksServiceSpec/user/Services/Connection] Start Connection service
[INFO] [12/06/2012 00:37:15.481] [OrderBooksServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrderBooksServiceSpec/user/Services/Connection/Connection] Open connection
[WARN] [12/06/2012 00:37:15.495] [OrderBooksServiceSpec-akka.actor.default-dispatcher-8] [akka://OrderBooksServiceSpec/user/Services/OrdersData/OptionsSnapshot] unhandled event CurrentState(Actor[akka://OrderBooksServiceSpec/user/Services/OrdersData/OptOrderBookStream],Closed) in state Loading
[WARN] [12/06/2012 00:37:15.495] [OrderBooksServiceSpec-akka.actor.default-dispatcher-7] [akka://OrderBooksServiceSpec/user/Services/OrdersData/FuturesSnapshot] unhandled event CurrentState(Actor[akka://OrderBooksServiceSpec/user/Services/OrdersData/FutOrderBookStream],Closed) in state Loading
[INFO] [12/06/2012 00:37:15.508] [OrderBooksServiceSpec-akka.actor.default-dispatcher-3] [akka://OrderBooksServiceSpec/user/Services/OrdersData] Start OrdersData service
[INFO] [12/06/2012 00:37:15.542] [OrderBooksServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrderBooksServiceSpec/user/Services/Connection/Connection] Connection opened
[INFO] [12/06/2012 00:37:15.542] [OrderBooksServiceSpec-akka.actor.default-dispatcher-9] [akka://OrderBooksServiceSpec/user/Services] Service started = Connection, remaining = Set(InstrumentData, OrdersData)
[INFO] [12/06/2012 00:37:15.542] [OrderBooksServiceSpec-akka.actor.default-dispatcher-9] [akka://OrderBooksServiceSpec/user/Services/InstrumentData] Start InstrumentData service
[ERROR] [12/06/2012 00:37:15.968] [TradesServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradesServiceSpec/user/Services/Connection/Connection] Connection failed, reason = Shutdown
[WARN] [12/06/2012 00:37:15.968] [TradesServiceSpec-akka.actor.default-dispatcher-6] [akka://TradesServiceSpec/user/Services/Connection/Connection] received dead letter from Actor[akka://TradesServiceSpec/user/Services/Connection/Connection]: ProcessMessages(10 milliseconds)
[ERROR] [12/06/2012 00:37:15.968] [TradesServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradesServiceSpec/user/Services/InstrumentData/FutInfoListener] Listener failed, reason = Shutdown
[WARN] [12/06/2012 00:37:15.968] [TradesServiceSpec-akka.actor.default-dispatcher-6] [akka://TradesServiceSpec/user/Services/InstrumentData/FutInfoListener] received dead letter from Actor[akka://TradesServiceSpec/user/Services/InstrumentData/FutInfoListener]: UpdateState
[ERROR] [12/06/2012 00:37:15.968] [TradesServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradesServiceSpec/user/Services/TradesData/OptTradesListener] Listener failed, reason = Shutdown
[WARN] [12/06/2012 00:37:15.968] [TradesServiceSpec-akka.actor.default-dispatcher-6] [akka://TradesServiceSpec/user/Services/TradesData/OptTradesListener] received dead letter from Actor[akka://TradesServiceSpec/user/Services/TradesData/OptTradesListener]: UpdateState
[ERROR] [12/06/2012 00:37:15.968] [TradesServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradesServiceSpec/user/Services/InstrumentData/OptInfoListener] Listener failed, reason = Shutdown
[INFO] [12/06/2012 00:37:15.969] [SessionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://SessionsServiceSpec/user/Services/Connection/Connection] Connection opened
[INFO] [12/06/2012 00:37:15.969] [SessionsServiceSpec-akka.actor.default-dispatcher-11] [akka://SessionsServiceSpec/user/Services] Service started = Connection, remaining = Set(InstrumentData)
[INFO] [12/06/2012 00:37:15.970] [SessionsServiceSpec-akka.actor.default-dispatcher-11] [akka://SessionsServiceSpec/user/Services/InstrumentData] Start InstrumentData service
[INFO] [12/06/2012 00:37:15.970] [OrdersServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrdersServiceSpec/user/Services/InstrumentData/FutInfoListener] Open listener with config = mode=snapshot+online
[WARN] [12/06/2012 00:37:15.970] [TradesServiceSpec-akka.actor.default-dispatcher-6] [akka://TradesServiceSpec/user/Services/InstrumentData/OptInfoListener] received dead letter from Actor[akka://TradesServiceSpec/user/Services/InstrumentData/OptInfoListener]: UpdateState
[ERROR] [12/06/2012 00:37:15.970] [TradesServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradesServiceSpec/user/Services/TradesData/FutTradesListener] Listener failed, reason = Shutdown
[WARN] [12/06/2012 00:37:15.971] [TradesServiceSpec-akka.actor.default-dispatcher-6] [akka://TradesServiceSpec/user/Services/TradesData/FutTradesListener] received dead letter from Actor[akka://TradesServiceSpec/user/Services/TradesData/FutTradesListener]: UpdateState
[INFO] [12/06/2012 00:37:15.971] [OrdersServiceSpec-akka.actor.default-dispatcher-6] [akka://OrdersServiceSpec/user/Services/InstrumentData/FutInfoDataStream] DataStream goes Online
[INFO] [12/06/2012 00:37:15.971] [OrdersServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrdersServiceSpec/user/Services/InstrumentData/OptInfoListener] Open listener with config = mode=snapshot+online
[DEBUG] [12/06/2012 00:37:15.972] [TradesServiceSpec-akka.actor.default-dispatcher-1] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:15.972] [TradesServiceSpec-akka.actor.default-dispatcher-1] [EventStream] all default loggers stopped
[INFO] [12/06/2012 00:37:15.972] [OrdersServiceSpec-akka.actor.default-dispatcher-5] [akka://OrdersServiceSpec/user/Services/InstrumentData/SessionsTracking] Synchonized event = SynchronizedEvent(SessionDataReady(1,100),SessionDataReady(1,100))
[INFO] [12/06/2012 00:37:15.972] [OrdersServiceSpec-akka.actor.default-dispatcher-6] [akka://OrdersServiceSpec/user/Services/InstrumentData/OptInfoDataStream] DataStream goes Online
[INFO] [12/06/2012 00:37:15.973] [OrdersServiceSpec-akka.actor.default-dispatcher-5] [akka://OrdersServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Futures] Start SessionContents
[INFO] [12/06/2012 00:37:15.973] [OrdersServiceSpec-akka.actor.default-dispatcher-6] [akka://OrdersServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Options] Start SessionContents
[INFO] [12/06/2012 00:37:15.973] [OrdersServiceSpec-akka.actor.default-dispatcher-5] [akka://OrdersServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Futures/FISIN] Started instrument for security = FutureContract(IsinId(100),Isin(FISIN),ShortIsisn(FISINS),Future)
[INFO] [12/06/2012 00:37:15.973] [OrdersServiceSpec-akka.actor.default-dispatcher-6] [akka://OrdersServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Options/OISIN] Started instrument for security = OptionContract(IsinId(101),Isin(OISIN),ShortIsisn(OISINS),Option)
[INFO] [12/06/2012 00:37:16.42] [OrderBooksServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrderBooksServiceSpec/user/Services/InstrumentData/FutInfoListener] Open listener with config = mode=snapshot+online
[INFO] [12/06/2012 00:37:16.44] [OrderBooksServiceSpec-akka.actor.default-dispatcher-8] [akka://OrderBooksServiceSpec/user/Services/InstrumentData/FutInfoDataStream] DataStream goes Online
[INFO] [12/06/2012 00:37:16.44] [OrderBooksServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrderBooksServiceSpec/user/Services/InstrumentData/OptInfoListener] Open listener with config = mode=snapshot+online
[INFO] [12/06/2012 00:37:16.45] [OrderBooksServiceSpec-akka.actor.default-dispatcher-9] [akka://OrderBooksServiceSpec/user/Services/InstrumentData/SessionsTracking] Synchonized event = SynchronizedEvent(SessionDataReady(1,100),SessionDataReady(1,100))
[INFO] [12/06/2012 00:37:16.46] [OrderBooksServiceSpec-akka.actor.default-dispatcher-3] [akka://OrderBooksServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Futures] Start SessionContents
[INFO] [12/06/2012 00:37:16.46] [OrderBooksServiceSpec-akka.actor.default-dispatcher-5] [akka://OrderBooksServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Options] Start SessionContents
[INFO] [12/06/2012 00:37:16.46] [OrderBooksServiceSpec-akka.actor.default-dispatcher-7] [akka://OrderBooksServiceSpec/user/Services/InstrumentData/OptInfoDataStream] DataStream goes Online
[INFO] [12/06/2012 00:37:16.46] [OrderBooksServiceSpec-akka.actor.default-dispatcher-3] [akka://OrderBooksServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Futures/FISIN] Started instrument for security = FutureContract(IsinId(100),Isin(FISIN),ShortIsisn(FISINS),Future)
[INFO] [12/06/2012 00:37:16.47] [OrderBooksServiceSpec-akka.actor.default-dispatcher-11] [akka://OrderBooksServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Options/OISIN] Started instrument for security = OptionContract(IsinId(101),Isin(OISIN),ShortIsisn(OISINS),Option)
[INFO] [12/06/2012 00:37:16.469] [SessionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://SessionsServiceSpec/user/Services/InstrumentData/FutInfoListener] Open listener with config = mode=snapshot+online
[INFO] [12/06/2012 00:37:16.471] [SessionsServiceSpec-akka.actor.default-dispatcher-5] [akka://SessionsServiceSpec/user/Services/InstrumentData/FutInfoDataStream] DataStream goes Online
[INFO] [12/06/2012 00:37:16.471] [SessionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://SessionsServiceSpec/user/Services/InstrumentData/OptInfoListener] Open listener with config = mode=snapshot+online
[INFO] [12/06/2012 00:37:16.473] [SessionsServiceSpec-akka.actor.default-dispatcher-9] [akka://SessionsServiceSpec/user/Services/InstrumentData/OptInfoDataStream] DataStream goes Online
[INFO] [12/06/2012 00:37:16.475] [OrdersServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrdersServiceSpec/user/Services/InstrumentData/OptInfoListener] Listener opened
[INFO] [12/06/2012 00:37:16.476] [OrdersServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrdersServiceSpec/user/Services/InstrumentData/FutInfoListener] Listener opened
[INFO] [12/06/2012 00:37:16.533] [OrdersServiceSpec-akka.actor.default-dispatcher-7] [akka://OrdersServiceSpec/user/Services] Service started = InstrumentData, remaining = Set(Trading)
[INFO] [12/06/2012 00:37:16.534] [OrdersServiceSpec-akka.actor.default-dispatcher-7] [akka://OrdersServiceSpec/user/Services/Trading] Start Trading service
[INFO] [12/06/2012 00:37:16.534] [OrdersServiceSpec-akka.actor.default-dispatcher-8] [akka://OrdersServiceSpec/user/Services/Trading/Broker] Open publisher
[INFO] [12/06/2012 00:37:16.642] [OrderBooksServiceSpec-akka.actor.default-dispatcher-10] [akka://OrderBooksServiceSpec/user/Services] Service started = InstrumentData, remaining = Set(OrdersData)
[INFO] [12/06/2012 00:37:16.647] [OrderBooksServiceSpec-akka.actor.default-dispatcher-12] [akka://OrderBooksServiceSpec/user/Services/OrdersData/OrderBooks] Assigned contents; Size = 2
[INFO] [12/06/2012 00:37:16.976] [OrdersServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrdersServiceSpec/user/Services/Trading/FutOrdersListener] Open listener with config = mode=snapshot+online
[INFO] [12/06/2012 00:37:16.977] [OrdersServiceSpec-akka.actor.default-dispatcher-8] [akka://OrdersServiceSpec/user/Services/Trading/FutOrdersStream] DataStream goes Online
[INFO] [12/06/2012 00:37:16.978] [OrdersServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrdersServiceSpec/user/Services/Trading/OptOrdersListener] Open listener with config = mode=snapshot+online
[INFO] [12/06/2012 00:37:16.979] [OrdersServiceSpec-akka.actor.default-dispatcher-12] [akka://OrdersServiceSpec/user/Services/Trading/OptOrdersStream] DataStream goes Online
[INFO] [12/06/2012 00:37:17.50] [OrderBooksServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrderBooksServiceSpec/user/Services/InstrumentData/FutInfoListener] Listener opened
[INFO] [12/06/2012 00:37:17.50] [OrderBooksServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrderBooksServiceSpec/user/Services/InstrumentData/OptInfoListener] Listener opened
[INFO] [12/06/2012 00:37:17.51] [OrderBooksServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrderBooksServiceSpec/user/Services/OrdersData/OptOrderBookListener] Open listener with config = mode=snapshot
[WARN] [12/06/2012 00:37:17.52] [OrderBooksServiceSpec-akka.actor.default-dispatcher-5] [akka://OrderBooksServiceSpec/user/Services/OrdersData/OptionsSnapshot] unhandled event Transition(Actor[akka://OrderBooksServiceSpec/user/Services/OrdersData/OptOrderBookStream],Closed,Opened) in state Loading
[INFO] [12/06/2012 00:37:17.69] [SessionsServiceSpec-akka.actor.default-dispatcher-10] [akka://SessionsServiceSpec/user/Services] Service started = InstrumentData, remaining = Set()
[INFO] [12/06/2012 00:37:17.69] [SessionsServiceSpec-akka.actor.default-dispatcher-10] [akka://SessionsServiceSpec/user/Services] All services started
[WARN] [12/06/2012 00:37:17.73] [OrderBooksServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrderBooksServiceSpec/user/OptOrderBookListener] unhandled event Left(()) in state Binded(Closed)
[INFO] [12/06/2012 00:37:17.74] [OrderBooksServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrderBooksServiceSpec/user/Services/OrdersData/FutOrderBookListener] Open listener with config = mode=snapshot
[WARN] [12/06/2012 00:37:17.80] [OrderBooksServiceSpec-akka.actor.default-dispatcher-12] [akka://OrderBooksServiceSpec/user/Services/OrdersData/FuturesSnapshot] unhandled event Transition(Actor[akka://OrderBooksServiceSpec/user/Services/OrdersData/FutOrderBookStream],Closed,Opened) in state Loading
[WARN] [12/06/2012 00:37:17.80] [OrderBooksServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrderBooksServiceSpec/user/FutOrderBookListener] unhandled event Left(()) in state Binded(Closed)
[WARN] [12/06/2012 00:37:17.81] [OrderBooksServiceSpec-akka.actor.default-dispatcher-1] [akka://OrderBooksServiceSpec/user/Services/OrdersData] unhandled event CurrentState(Actor[akka://OrderBooksServiceSpec/user/Services/OrdersData/OrdLogStream],Closed) in state StartingOrderBooks
[INFO] [12/06/2012 00:37:17.81] [SessionsServiceSpec-akka.actor.default-dispatcher-11] [akka://SessionsServiceSpec/user/Services/InstrumentData/SessionsTracking] Synchonized event = SynchronizedEvent(SessionDataReady(1,100),SessionDataReady(1,100))
[INFO] [12/06/2012 00:37:17.82] [SessionsServiceSpec-akka.actor.default-dispatcher-11] [akka://SessionsServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Futures] Start SessionContents
[INFO] [12/06/2012 00:37:17.82] [SessionsServiceSpec-akka.actor.default-dispatcher-11] [akka://SessionsServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Options] Start SessionContents
[INFO] [12/06/2012 00:37:17.82] [SessionsServiceSpec-akka.actor.default-dispatcher-4] [akka://SessionsServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Options/OISIN] Started instrument for security = OptionContract(IsinId(101),Isin(OISIN),ShortIsisn(OSISIN),Option)
[INFO] [12/06/2012 00:37:17.82] [SessionsServiceSpec-akka.actor.default-dispatcher-10] [akka://SessionsServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Futures/FISIN] Started instrument for security = FutureContract(IsinId(100),Isin(FISIN),ShortIsisn(FSISIN),Future)
[info] SessionsServiceSpec:
[info] Sessions Service 
[info] - must support normal session lifecycle
[info]   + When session assigned 
[info]   + Then should receive ongoing session 
[info]   + And it should be in Assigned state 
[info]   + When session started 
[info]   + Then should receive session transition 
[info]   + When night comes over 
[info]   + Then session should be suspended 
[info]   + When morning comes over 
[info]   + Then session should be resumed 
[info]   + When intraday clearing started 
[info]   + Then session should be suspended 
[info]   + When intraday clearing finished 
[info]   + Then session should be resumed 
[info]   + When clearing started 
[info]   + Then session shoudl be suspended 
[info]   + When clearing completed 
[info]   + Then session should be completed too 
[info] - must cancel session
[info]   + When session assigned 
[info]   + Then should receive ongoing session 
[info]   + And it should be in Assigned state 
[info]   + When session cancelled 
[info]   + Then should update session state 
[DEBUG] [12/06/2012 00:37:17.103] [pool-4-thread-3] [EventStream(akka://ReplyStreamListenerStubActorSpec)] logger log1-TestEventListener started
[DEBUG] [12/06/2012 00:37:17.103] [pool-4-thread-3] [EventStream(akka://ReplyStreamListenerStubActorSpec)] Default Loggers started
[info] ReplyStreamListenerStubActorSpec:
[info] ReplyStreamListenerStub Actor 
[info] - must open listener with empty data
[info] - must open listener and dispatch data
[info] - must throw exception opening Active listener
[info] - must close Active listener
[info] - must fail close already Closed listener
[info] - must get state
[info] - must dispatch data with opened listener
[DEBUG] [12/06/2012 00:37:17.133] [ReplyStreamListenerStubActorSpec-akka.actor.default-dispatcher-2] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:17.133] [ReplyStreamListenerStubActorSpec-akka.actor.default-dispatcher-2] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:17.133] [ReplyStreamListenerStubActorSpec-akka.actor.default-dispatcher-2] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:37:17.139] [pool-4-thread-3] [EventStream(akka://TradingServiceSpec)] logger log1-TestEventListener started
[DEBUG] [12/06/2012 00:37:17.139] [pool-4-thread-3] [EventStream(akka://TradingServiceSpec)] Default Loggers started
[INFO] [12/06/2012 00:37:17.155] [pool-4-thread-3] [akka://TradingServiceSpec/user/Services] Register service, Id = Connection, depends on = List()
[INFO] [12/06/2012 00:37:17.155] [pool-4-thread-3] [akka://TradingServiceSpec/user/Services] Register service, Id = InstrumentData, depends on = List(Connection)
[INFO] [12/06/2012 00:37:17.156] [pool-4-thread-3] [akka://TradingServiceSpec/user/Services] Register service, Id = Trading, depends on = List(InstrumentData)
[INFO] [12/06/2012 00:37:17.156] [pool-4-thread-3] [akka://TradingServiceSpec/user/Services] Registered services = Set(Connection, InstrumentData, Trading)
[INFO] [12/06/2012 00:37:17.156] [pool-4-thread-3] [akka://TradingServiceSpec/user/Services]  - Connection; startBarrier = List(StartUp), stopBarrier = List(ShutDown, InstrumentData)
[INFO] [12/06/2012 00:37:17.156] [pool-4-thread-3] [akka://TradingServiceSpec/user/Services]  - InstrumentData; startBarrier = List(StartUp, Connection), stopBarrier = List(ShutDown, Trading)
[INFO] [12/06/2012 00:37:17.156] [pool-4-thread-3] [akka://TradingServiceSpec/user/Services]  - Trading; startBarrier = List(StartUp, InstrumentData), stopBarrier = List(ShutDown)
[INFO] [12/06/2012 00:37:17.157] [pool-4-thread-3] [akka://TradingServiceSpec/user/Services] Start all services = Set(Connection, InstrumentData, Trading)
[INFO] [12/06/2012 00:37:17.157] [TradingServiceSpec-akka.actor.default-dispatcher-2] [akka://TradingServiceSpec/user/Services/Connection] Start Connection service
[INFO] [12/06/2012 00:37:17.158] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/Services/Connection/Connection] Open connection
[WARN] [12/06/2012 00:37:17.158] [TradingServiceSpec-akka.actor.default-dispatcher-2] [akka://TradingServiceSpec/user/Services/Connection] Unhandled event: CurrentState(Actor[akka://TradingServiceSpec/user/Services/Connection/Connection],Closed)
[WARN] [12/06/2012 00:37:17.159] [TradingServiceSpec-akka.actor.default-dispatcher-1] [Dispatchers] Dispatcher [engine.dispatchers.publisherDispatcher] not configured, using default-dispatcher
[INFO] [12/06/2012 00:37:17.159] [TradingServiceSpec-akka.actor.default-dispatcher-2] [akka://TradingServiceSpec/user/Services/InstrumentData/SessionsTracking] Start session tracking
[INFO] [12/06/2012 00:37:17.160] [TradingServiceSpec-akka.actor.default-dispatcher-1] [akka://TradingServiceSpec/user/Services/Trading] Start Trading service
[INFO] [12/06/2012 00:37:17.239] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/Services/Connection/Connection] Connection opened
[INFO] [12/06/2012 00:37:17.240] [TradingServiceSpec-akka.actor.default-dispatcher-2] [akka://TradingServiceSpec/user/Services] Service started = Connection, remaining = Set(InstrumentData, Trading)
[INFO] [12/06/2012 00:37:17.240] [TradingServiceSpec-akka.actor.default-dispatcher-2] [akka://TradingServiceSpec/user/Services/InstrumentData] Start InstrumentData service
[info] MarketRepositorySpec:
[info] MarketRepository 
[info] - should return empty Sessions
[info] - should scan sessions
[DEBUG] [12/06/2012 00:37:17.435] [pool-4-thread-1] [EventStream(akka://RepliesServiceSpec)] logger log1-TestEventListener started
[DEBUG] [12/06/2012 00:37:17.435] [pool-4-thread-1] [EventStream(akka://RepliesServiceSpec)] Default Loggers started
[INFO] [12/06/2012 00:37:17.475] [SessionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://SessionsServiceSpec/user/Services/InstrumentData/FutInfoListener] Listener opened
[INFO] [12/06/2012 00:37:17.475] [SessionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://SessionsServiceSpec/user/Services/InstrumentData/OptInfoListener] Listener opened
[ERROR] [12/06/2012 00:37:17.475] [SessionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://SessionsServiceSpec/user/Services/InstrumentData/OptInfoListener] Listener failed, reason = Shutdown
[WARN] [12/06/2012 00:37:17.475] [SessionsServiceSpec-akka.actor.default-dispatcher-10] [akka://SessionsServiceSpec/user/Services/InstrumentData/OptInfoListener] received dead letter from Actor[akka://SessionsServiceSpec/user/Services/InstrumentData/OptInfoListener]: UpdateState
[ERROR] [12/06/2012 00:37:17.475] [SessionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://SessionsServiceSpec/user/Services/InstrumentData/FutInfoListener] Listener failed, reason = Shutdown
[WARN] [12/06/2012 00:37:17.475] [SessionsServiceSpec-akka.actor.default-dispatcher-10] [akka://SessionsServiceSpec/user/Services/InstrumentData/FutInfoListener] received dead letter from Actor[akka://SessionsServiceSpec/user/Services/InstrumentData/FutInfoListener]: UpdateState
[ERROR] [12/06/2012 00:37:17.475] [SessionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://SessionsServiceSpec/user/Services/Connection/Connection] Connection failed, reason = Shutdown
[WARN] [12/06/2012 00:37:17.475] [SessionsServiceSpec-akka.actor.default-dispatcher-10] [akka://SessionsServiceSpec/user/Services/Connection/Connection] received dead letter from Actor[akka://SessionsServiceSpec/user/Services/Connection/Connection]: UpdateState
[WARN] [12/06/2012 00:37:17.475] [SessionsServiceSpec-akka.actor.default-dispatcher-10] [akka://SessionsServiceSpec/user/Services/Connection/Connection] received dead letter from Actor[akka://SessionsServiceSpec/user/Services/Connection/Connection]: ProcessMessages(10 milliseconds)
[DEBUG] [12/06/2012 00:37:17.475] [SessionsServiceSpec-akka.actor.default-dispatcher-3] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:17.475] [SessionsServiceSpec-akka.actor.default-dispatcher-3] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:17.476] [SessionsServiceSpec-akka.actor.default-dispatcher-3] [EventStream] all default loggers stopped
[info] RepliesServiceSpec:
[info] Replies Service 
[info] - must decode/encode futures OrderId
[info] - must decode/encode options OrderId
[info] - must decode/encode futures Cancelled
[info] - must decode/encode options Cancelled
[info] - must decode/encode BrokerTimeoutException
[info] - must decode/encode BrokerErrorException
[info] - must decode/encode FloodException
[info] - must decode/encode futures ActionFailedException/AddOrder
[info] - must decode/encode options ActionFailedException/AddOrder
[info] - must decode/encode futures ActionFailedException/Cancel
[info] - must decode/encode options ActionFailedException/Cancel
[DEBUG] [12/06/2012 00:37:17.492] [RepliesServiceSpec-akka.actor.default-dispatcher-2] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:17.492] [RepliesServiceSpec-akka.actor.default-dispatcher-2] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:17.492] [RepliesServiceSpec-akka.actor.default-dispatcher-2] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:37:17.500] [pool-4-thread-1] [EventStream(akka://PublisherStrategySpec)] logger log1-TestEventListener started
[DEBUG] [12/06/2012 00:37:17.501] [pool-4-thread-1] [EventStream(akka://PublisherStrategySpec)] Default Loggers started
[info] PublisherStrategySpec:
[info] ExecuteOnDeclaredPrice strategy 
[info] - must execute order on declared price
[info] - must fail if Isin not assigned
[info] - must fail cancel any order
[DEBUG] [12/06/2012 00:37:17.524] [PublisherStrategySpec-akka.actor.default-dispatcher-3] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:17.524] [PublisherStrategySpec-akka.actor.default-dispatcher-3] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:17.524] [PublisherStrategySpec-akka.actor.default-dispatcher-3] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:37:17.531] [pool-4-thread-1] [EventStream(akka://ConnectionServiceSpec)] logger log1-TestEventListener started
[DEBUG] [12/06/2012 00:37:17.531] [pool-4-thread-1] [EventStream(akka://ConnectionServiceSpec)] Default Loggers started
[INFO] [12/06/2012 00:37:17.533] [OrdersServiceSpec-akka.actor.default-dispatcher-8] [akka://OrdersServiceSpec/user/Services/Trading/Broker] Publisher opened
[INFO] [12/06/2012 00:37:17.534] [OrdersServiceSpec-akka.actor.default-dispatcher-2] [akka://OrdersServiceSpec/user/Services/Trading/RepliesListener] Open listener with config = 
[INFO] [12/06/2012 00:37:17.534] [OrdersServiceSpec-akka.actor.default-dispatcher-8] [akka://OrdersServiceSpec/user/Services] Service started = Trading, remaining = Set()
[INFO] [12/06/2012 00:37:17.535] [OrdersServiceSpec-akka.actor.default-dispatcher-8] [akka://OrdersServiceSpec/user/Services] All services started
[INFO] [12/06/2012 00:37:17.541] [pool-4-thread-1] [akka://ConnectionServiceSpec/user/Services] Register service, Id = Connection, depends on = List()
[WARN] [12/06/2012 00:37:17.543] [ConnectionServiceSpec-akka.actor.default-dispatcher-2] [akka://ConnectionServiceSpec/user/Services/Connection] Unhandled event: CurrentState(Actor[akka://ConnectionServiceSpec/user/Services/Connection/Connection],Closed)
[INFO] [12/06/2012 00:37:17.544] [pool-4-thread-1] [akka://ConnectionServiceSpec/user/Services] Register service, Id = TradingConnection, depends on = List()
[INFO] [12/06/2012 00:37:17.545] [pool-4-thread-1] [akka://ConnectionServiceSpec/user/Services] Registered services = Set(Connection, TradingConnection)
[INFO] [12/06/2012 00:37:17.545] [pool-4-thread-1] [akka://ConnectionServiceSpec/user/Services]  - Connection; startBarrier = List(StartUp), stopBarrier = List(ShutDown)
[INFO] [12/06/2012 00:37:17.545] [pool-4-thread-1] [akka://ConnectionServiceSpec/user/Services]  - TradingConnection; startBarrier = List(StartUp), stopBarrier = List(ShutDown)
[INFO] [12/06/2012 00:37:17.545] [pool-4-thread-1] [akka://ConnectionServiceSpec/user/Services] Start all services = Set(Connection, TradingConnection)
[INFO] [12/06/2012 00:37:17.545] [ConnectionServiceSpec-akka.actor.default-dispatcher-2] [akka://ConnectionServiceSpec/user/Services/Connection] Start Connection service
[INFO] [12/06/2012 00:37:17.545] [ConnectionServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://ConnectionServiceSpec/user/Services/Connection/Connection] Open connection
[INFO] [12/06/2012 00:37:17.546] [ConnectionServiceSpec-akka.actor.default-dispatcher-1] [akka://ConnectionServiceSpec/user/Services/TradingConnection] Start TradingConnection service
[INFO] [12/06/2012 00:37:17.546] [ConnectionServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://ConnectionServiceSpec/user/Services/TradingConnection/Connection] Open connection
[WARN] [12/06/2012 00:37:17.546] [ConnectionServiceSpec-akka.actor.default-dispatcher-2] [akka://ConnectionServiceSpec/user/Services/TradingConnection] Unhandled event: CurrentState(Actor[akka://ConnectionServiceSpec/user/Services/TradingConnection/Connection],Closed)
[DEBUG] [12/06/2012 00:37:17.551] [OrdersServiceSpec-akka.actor.default-dispatcher-2] [akka://OrdersServiceSpec/user/Services/Trading/OrdersTracking] Create new order, id = 123
[INFO] [12/06/2012 00:37:17.579] [OrderBooksServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrderBooksServiceSpec/user/Services/OrdersData/OrdLogListener] Open listener with config = mode=snapshot+online;rev.orders_log=0
[INFO] [12/06/2012 00:37:17.579] [OrderBooksServiceSpec-akka.actor.default-dispatcher-5] [akka://OrderBooksServiceSpec/user/Services/OrdersData/OrdLogStream] DataStream goes Online
[WARN] [12/06/2012 00:37:17.579] [OrderBooksServiceSpec-akka.actor.default-dispatcher-6] [akka://OrderBooksServiceSpec/user/Services/OrdersData] unhandled event Transition(Actor[akka://OrderBooksServiceSpec/user/Services/OrdersData/OrdLogStream],Closed,Opened) in state StartingOrderBooks
[INFO] [12/06/2012 00:37:17.580] [OrderBooksServiceSpec-akka.actor.default-dispatcher-6] [akka://OrderBooksServiceSpec/user/Services] Service started = OrdersData, remaining = Set()
[INFO] [12/06/2012 00:37:17.580] [OrderBooksServiceSpec-akka.actor.default-dispatcher-6] [akka://OrderBooksServiceSpec/user/Services] All services started
[INFO] [12/06/2012 00:37:17.602] [OrderBooksServiceSpec-akka.actor.default-dispatcher-10] [akka://OrderBooksServiceSpec/user/Services/OrdersData/OrderBooks/100/FISIN] Start OrderBook for security = FutureContract(IsinId(100),Isin(FISIN),ShortIsisn(FISINS),Future)
[DEBUG] [12/06/2012 00:37:17.602] [OrderBooksServiceSpec-akka.actor.default-dispatcher-10] [akka://OrderBooksServiceSpec/user/Services/OrdersData/OrderBooks/100/FISIN] Create new order, id = 1111, noSystem = false
[INFO] [12/06/2012 00:37:17.631] [ConnectionServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://ConnectionServiceSpec/user/Services/TradingConnection/Connection] Connection opened
[INFO] [12/06/2012 00:37:17.631] [ConnectionServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://ConnectionServiceSpec/user/Services/Connection/Connection] Connection opened
[INFO] [12/06/2012 00:37:17.631] [ConnectionServiceSpec-akka.actor.default-dispatcher-1] [akka://ConnectionServiceSpec/user/Services] Service started = TradingConnection, remaining = Set(Connection)
[INFO] [12/06/2012 00:37:17.631] [ConnectionServiceSpec-akka.actor.default-dispatcher-4] [akka://ConnectionServiceSpec/user/Services] Service started = Connection, remaining = Set()
[INFO] [12/06/2012 00:37:17.631] [ConnectionServiceSpec-akka.actor.default-dispatcher-4] [akka://ConnectionServiceSpec/user/Services] All services started
[info] ConnectionServiceSpec:
[info] Test Engine 
[info] - must start both connection services
[DEBUG] [12/06/2012 00:37:17.639] [pool-4-thread-1] [EventStream(akka://ReplicationStreamListenerStubActorSpec)] logger log1-TestEventListener started
[DEBUG] [12/06/2012 00:37:17.639] [pool-4-thread-1] [EventStream(akka://ReplicationStreamListenerStubActorSpec)] Default Loggers started
[info] ReplicationStreamListenerStubActorSpec:
[info] DataStreamListenerStub Actor 
[info] - must open listener with empty data
[info] - must open listener and dispatch data
[info] - must throw exception opening Active listener
[info] - must close Active listener
[info] - must fail close already Closed listener
[info] - must get state
[info] - must dispatch data with opened listener
[DEBUG] [12/06/2012 00:37:17.662] [ReplicationStreamListenerStubActorSpec-akka.actor.default-dispatcher-3] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:17.662] [ReplicationStreamListenerStubActorSpec-akka.actor.default-dispatcher-3] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:17.663] [ReplicationStreamListenerStubActorSpec-akka.actor.default-dispatcher-3] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:37:17.690] [pool-4-thread-1] [EventStream(akka://ConnectionStubSpec)] logger log1-TestEventListener started
[DEBUG] [12/06/2012 00:37:17.690] [pool-4-thread-1] [EventStream(akka://ConnectionStubSpec)] Default Loggers started
[info] ConnectionStubSpec:
[info] Connection 
[info] - must open connection
[info] - must throw exception opening Active connection
[info] - must close Active connection
[info] - must fail close already Closed connection
[info] - must get state
[error] Error: Total 19, Failed 0, Errors 0, Passed 19, Skipped 0
[DEBUG] [12/06/2012 00:37:17.708] [ConnectionStubSpec-akka.actor.default-dispatcher-2] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:17.708] [ConnectionStubSpec-akka.actor.default-dispatcher-2] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:17.709] [ConnectionStubSpec-akka.actor.default-dispatcher-2] [EventStream] all default loggers stopped
[error] Error during tests:
[error] 	com.ergodicity.capture.MarketCaptureSpec
[INFO] [12/06/2012 00:37:17.740] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/Services/InstrumentData/FutInfoListener] Open listener with config = mode=snapshot+online
[INFO] [12/06/2012 00:37:17.743] [TradingServiceSpec-akka.actor.default-dispatcher-10] [akka://TradingServiceSpec/user/Services/InstrumentData/FutInfoDataStream] DataStream goes Online
[INFO] [12/06/2012 00:37:17.743] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/Services/InstrumentData/OptInfoListener] Open listener with config = mode=snapshot+online
[INFO] [12/06/2012 00:37:17.746] [TradingServiceSpec-akka.actor.default-dispatcher-5] [akka://TradingServiceSpec/user/Services/InstrumentData/SessionsTracking] Synchonized event = SynchronizedEvent(SessionDataReady(1,100),SessionDataReady(1,100))
[INFO] [12/06/2012 00:37:17.747] [TradingServiceSpec-akka.actor.default-dispatcher-11] [akka://TradingServiceSpec/user/Services/InstrumentData/OptInfoDataStream] DataStream goes Online
[INFO] [12/06/2012 00:37:17.748] [TradingServiceSpec-akka.actor.default-dispatcher-11] [akka://TradingServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Futures] Start SessionContents
[INFO] [12/06/2012 00:37:17.748] [TradingServiceSpec-akka.actor.default-dispatcher-3] [akka://TradingServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Options] Start SessionContents
[INFO] [12/06/2012 00:37:17.749] [TradingServiceSpec-akka.actor.default-dispatcher-9] [akka://TradingServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Options/OISIN] Started instrument for security = OptionContract(IsinId(101),Isin(OISIN),ShortIsisn(OISINS),Option)
[INFO] [12/06/2012 00:37:17.749] [TradingServiceSpec-akka.actor.default-dispatcher-2] [akka://TradingServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Futures/FISIN] Started instrument for security = FutureContract(IsinId(100),Isin(FISIN),ShortIsisn(FISINS),Future)
[INFO] [12/06/2012 00:37:17.980] [OrdersServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrdersServiceSpec/user/Services/Trading/OptOrdersListener] Listener opened
[ERROR] [12/06/2012 00:37:17.979] [SessionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://SessionsServiceSpec/user/Services/Connection/Connection] cannot be started once stopped
java.lang.IllegalStateException: cannot be started once stopped
	at org.jboss.netty.akka.util.HashedWheelTimer.start(HashedWheelTimer.java:192)
	at org.jboss.netty.akka.util.HashedWheelTimer.newTimeout(HashedWheelTimer.java:260)
	at akka.actor.DefaultScheduler.scheduleOnce(Scheduler.scala:186)
	at akka.pattern.PromiseActorRef$.apply(AskSupport.scala:274)
	at akka.pattern.AskSupport$class.ask(AskSupport.scala:83)
	at akka.pattern.package$.ask(package.scala:43)
	at akka.pattern.AskSupport$AskableActorRef.$qmark(AskSupport.scala:153)
	at com.ergodicity.backtest.cgate.ConnectionStub$.getState$1(ConnectionStub.scala:32)
	at com.ergodicity.backtest.cgate.ConnectionStub$$anonfun$wrap$3.apply(ConnectionStub.scala:43)
	at com.ergodicity.backtest.cgate.ConnectionStub$$anonfun$wrap$3.apply(ConnectionStub.scala:43)
	at com.ergodicity.backtest.cgate.package$$anon$1.answer(package.scala:8)
	at org.mockito.internal.stubbing.StubbedInvocationMatcher.answer(StubbedInvocationMatcher.java:34)
	at org.mockito.internal.MockHandler.handle(MockHandler.java:99)
	at org.mockito.internal.InvocationNotifierHandler.handle(InvocationNotifierHandler.java:36)
	at org.mockito.internal.creation.MethodInterceptorFilter.intercept(MethodInterceptorFilter.java:48)
	at ru.micexrts.cgate.Connection$$EnhancerByMockitoWithCGLIB$$54bfebfc.getState(<generated>)
	at com.ergodicity.cgate.Connection$$anonfun$6.apply(Connection.scala:89)
	at com.ergodicity.cgate.Connection$$anonfun$6.apply(Connection.scala:81)
	at scala.PartialFunction$$anon$1.apply(PartialFunction.scala:75)
	at akka.actor.FSM$class.processEvent(FSM.scala:489)
	at com.ergodicity.cgate.Connection.processEvent(Connection.scala:43)
	at akka.actor.FSM$class.akka$actor$FSM$$processMsg(FSM.scala:480)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:474)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:437)
	at akka.actor.Actor$class.apply(Actor.scala:318)
	at com.ergodicity.cgate.Connection.apply(Connection.scala:43)
	at akka.actor.ActorCell.invoke(ActorCell.scala:626)
	at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:197)
	at akka.dispatch.Mailbox.run(Mailbox.scala:179)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)

[INFO] [12/06/2012 00:37:17.980] [OrdersServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrdersServiceSpec/user/Services/Trading/FutOrdersListener] Listener opened
[ERROR] [12/06/2012 00:37:17.983] [SessionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://SessionsServiceSpec/user/Services/InstrumentData/FutInfoListener] cannot be started once stopped
java.lang.IllegalStateException: cannot be started once stopped
	at org.jboss.netty.akka.util.HashedWheelTimer.start(HashedWheelTimer.java:192)
	at org.jboss.netty.akka.util.HashedWheelTimer.newTimeout(HashedWheelTimer.java:260)
	at akka.actor.DefaultScheduler.scheduleOnce(Scheduler.scala:186)
	at akka.pattern.PromiseActorRef$.apply(AskSupport.scala:274)
	at akka.pattern.AskSupport$class.ask(AskSupport.scala:83)
	at akka.pattern.package$.ask(package.scala:43)
	at akka.pattern.AskSupport$AskableActorRef.$qmark(AskSupport.scala:153)
	at com.ergodicity.backtest.cgate.ListenerBindingStub$.getState$1(ListenerBindingStub.scala:43)
	at com.ergodicity.backtest.cgate.ListenerBindingStub$$anonfun$wrap$3.apply(ListenerBindingStub.scala:49)
	at com.ergodicity.backtest.cgate.ListenerBindingStub$$anonfun$wrap$3.apply(ListenerBindingStub.scala:49)
	at com.ergodicity.backtest.cgate.package$$anon$1.answer(package.scala:8)
	at org.mockito.internal.stubbing.StubbedInvocationMatcher.answer(StubbedInvocationMatcher.java:34)
	at org.mockito.internal.MockHandler.handle(MockHandler.java:99)
	at org.mockito.internal.InvocationNotifierHandler.handle(InvocationNotifierHandler.java:36)
	at org.mockito.internal.creation.MethodInterceptorFilter.intercept(MethodInterceptorFilter.java:48)
	at ru.micexrts.cgate.Listener$$EnhancerByMockitoWithCGLIB$$a7b67922.getState(<generated>)
	at com.ergodicity.cgate.Listener$$anonfun$6.apply(Listener.scala:97)
	at com.ergodicity.cgate.Listener$$anonfun$6.apply(Listener.scala:89)
	at scala.PartialFunction$$anon$1.apply(PartialFunction.scala:75)
	at akka.actor.FSM$class.processEvent(FSM.scala:489)
	at com.ergodicity.cgate.Listener.processEvent(Listener.scala:52)
	at akka.actor.FSM$class.akka$actor$FSM$$processMsg(FSM.scala:480)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:474)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:437)
	at akka.actor.Actor$class.apply(Actor.scala:318)
	at com.ergodicity.cgate.Listener.apply(Listener.scala:52)
	at akka.actor.ActorCell.invoke(ActorCell.scala:626)
	at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:197)
	at akka.dispatch.Mailbox.run(Mailbox.scala:179)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)

[ERROR] [12/06/2012 00:37:17.984] [SessionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://SessionsServiceSpec/user/Services/InstrumentData/OptInfoListener] cannot be started once stopped
java.lang.IllegalStateException: cannot be started once stopped
	at org.jboss.netty.akka.util.HashedWheelTimer.start(HashedWheelTimer.java:192)
	at org.jboss.netty.akka.util.HashedWheelTimer.newTimeout(HashedWheelTimer.java:260)
	at akka.actor.DefaultScheduler.scheduleOnce(Scheduler.scala:186)
	at akka.pattern.PromiseActorRef$.apply(AskSupport.scala:274)
	at akka.pattern.AskSupport$class.ask(AskSupport.scala:83)
	at akka.pattern.package$.ask(package.scala:43)
	at akka.pattern.AskSupport$AskableActorRef.$qmark(AskSupport.scala:153)
	at com.ergodicity.backtest.cgate.ListenerBindingStub$.getState$1(ListenerBindingStub.scala:43)
	at com.ergodicity.backtest.cgate.ListenerBindingStub$$anonfun$wrap$3.apply(ListenerBindingStub.scala:49)
	at com.ergodicity.backtest.cgate.ListenerBindingStub$$anonfun$wrap$3.apply(ListenerBindingStub.scala:49)
	at com.ergodicity.backtest.cgate.package$$anon$1.answer(package.scala:8)
	at org.mockito.internal.stubbing.StubbedInvocationMatcher.answer(StubbedInvocationMatcher.java:34)
	at org.mockito.internal.MockHandler.handle(MockHandler.java:99)
	at org.mockito.internal.InvocationNotifierHandler.handle(InvocationNotifierHandler.java:36)
	at org.mockito.internal.creation.MethodInterceptorFilter.intercept(MethodInterceptorFilter.java:48)
	at ru.micexrts.cgate.Listener$$EnhancerByMockitoWithCGLIB$$a7b67922.getState(<generated>)
	at com.ergodicity.cgate.Listener$$anonfun$6.apply(Listener.scala:97)
	at com.ergodicity.cgate.Listener$$anonfun$6.apply(Listener.scala:89)
	at scala.PartialFunction$$anon$1.apply(PartialFunction.scala:75)
	at akka.actor.FSM$class.processEvent(FSM.scala:489)
	at com.ergodicity.cgate.Listener.processEvent(Listener.scala:52)
	at akka.actor.FSM$class.akka$actor$FSM$$processMsg(FSM.scala:480)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:474)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:437)
	at akka.actor.Actor$class.apply(Actor.scala:318)
	at com.ergodicity.cgate.Listener.apply(Listener.scala:52)
	at akka.actor.ActorCell.invoke(ActorCell.scala:626)
	at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:197)
	at akka.dispatch.Mailbox.run(Mailbox.scala:179)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)

[ERROR] [12/06/2012 00:37:17.987] [SessionsServiceSpec-akka.actor.default-dispatcher-3] [akka://SessionsServiceSpec/user/Services/Connection] cannot be started once stopped
java.lang.IllegalStateException: cannot be started once stopped
	at org.jboss.netty.akka.util.HashedWheelTimer.start(HashedWheelTimer.java:192)
	at org.jboss.netty.akka.util.HashedWheelTimer.newTimeout(HashedWheelTimer.java:260)
	at akka.actor.DefaultScheduler.scheduleOnce(Scheduler.scala:186)
	at akka.pattern.PromiseActorRef$.apply(AskSupport.scala:274)
	at akka.pattern.AskSupport$class.ask(AskSupport.scala:83)
	at akka.pattern.package$.ask(package.scala:43)
	at akka.pattern.AskSupport$AskableActorRef.$qmark(AskSupport.scala:153)
	at com.ergodicity.backtest.cgate.ConnectionStub$.getState$1(ConnectionStub.scala:32)
	at com.ergodicity.backtest.cgate.ConnectionStub$$anonfun$wrap$3.apply(ConnectionStub.scala:43)
	at com.ergodicity.backtest.cgate.ConnectionStub$$anonfun$wrap$3.apply(ConnectionStub.scala:43)
	at com.ergodicity.backtest.cgate.package$$anon$1.answer(package.scala:8)
	at org.mockito.internal.stubbing.StubbedInvocationMatcher.answer(StubbedInvocationMatcher.java:34)
	at org.mockito.internal.MockHandler.handle(MockHandler.java:99)
	at org.mockito.internal.InvocationNotifierHandler.handle(InvocationNotifierHandler.java:36)
	at org.mockito.internal.creation.MethodInterceptorFilter.intercept(MethodInterceptorFilter.java:48)
	at ru.micexrts.cgate.Connection$$EnhancerByMockitoWithCGLIB$$54bfebfc.getState(<generated>)
	at com.ergodicity.cgate.Connection$$anonfun$6.apply(Connection.scala:89)
	at com.ergodicity.cgate.Connection$$anonfun$6.apply(Connection.scala:81)
	at scala.PartialFunction$$anon$1.apply(PartialFunction.scala:75)
	at akka.actor.FSM$class.processEvent(FSM.scala:489)
	at com.ergodicity.cgate.Connection.processEvent(Connection.scala:43)
	at akka.actor.FSM$class.akka$actor$FSM$$processMsg(FSM.scala:480)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:474)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:437)
	at akka.actor.Actor$class.apply(Actor.scala:318)
	at com.ergodicity.cgate.Connection.apply(Connection.scala:43)
	at akka.actor.ActorCell.invoke(ActorCell.scala:626)
	at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:197)
	at akka.dispatch.Mailbox.run(Mailbox.scala:179)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)

[ERROR] [12/06/2012 00:37:17.989] [SessionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://SessionsServiceSpec/user/Services/InstrumentData/FutInfoListener] Listener failed, reason = Shutdown
[ERROR] [12/06/2012 00:37:17.990] [SessionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://SessionsServiceSpec/user/Services/InstrumentData/FutInfoListener] error while creating actor
java.lang.IllegalStateException: cannot be started once stopped
	at org.jboss.netty.akka.util.HashedWheelTimer.start(HashedWheelTimer.java:192)
	at org.jboss.netty.akka.util.HashedWheelTimer.newTimeout(HashedWheelTimer.java:260)
	at akka.actor.DefaultScheduler.schedule(Scheduler.scala:148)
	at com.ergodicity.cgate.Listener$$anonfun$1.apply(Listener.scala:58)
	at com.ergodicity.cgate.Listener$$anonfun$1.apply(Listener.scala:57)
	at scala.Option.map(Option.scala:133)
	at com.ergodicity.cgate.Listener.<init>(Listener.scala:56)
	at com.ergodicity.engine.service.InstrumentDataService$$anonfun$5.apply(InstrumentData.scala:64)
	at com.ergodicity.engine.service.InstrumentDataService$$anonfun$5.apply(InstrumentData.scala:64)
	at akka.actor.ActorCell.newActor(ActorCell.scala:488)
	at akka.actor.ActorCell.doRecreate(ActorCell.scala:716)
	at akka.actor.ActorCell.recreate$1(ActorCell.scala:547)
	at akka.actor.ActorCell.systemInvoke(ActorCell.scala:601)
	at akka.dispatch.Mailbox.processAllSystemMessages(Mailbox.scala:209)
	at akka.dispatch.Mailbox.run(Mailbox.scala:178)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)

[ERROR] [12/06/2012 00:37:17.993] [SessionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://SessionsServiceSpec/user/Services/InstrumentData/OptInfoListener] Listener failed, reason = Shutdown
[ERROR] [12/06/2012 00:37:17.993] [SessionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://SessionsServiceSpec/user/Services/InstrumentData/OptInfoListener] error while creating actor
java.lang.IllegalStateException: cannot be started once stopped
	at org.jboss.netty.akka.util.HashedWheelTimer.start(HashedWheelTimer.java:192)
	at org.jboss.netty.akka.util.HashedWheelTimer.newTimeout(HashedWheelTimer.java:260)
	at akka.actor.DefaultScheduler.schedule(Scheduler.scala:148)
	at com.ergodicity.cgate.Listener$$anonfun$1.apply(Listener.scala:58)
	at com.ergodicity.cgate.Listener$$anonfun$1.apply(Listener.scala:57)
	at scala.Option.map(Option.scala:133)
	at com.ergodicity.cgate.Listener.<init>(Listener.scala:56)
	at com.ergodicity.engine.service.InstrumentDataService$$anonfun$6.apply(InstrumentData.scala:67)
	at com.ergodicity.engine.service.InstrumentDataService$$anonfun$6.apply(InstrumentData.scala:67)
	at akka.actor.ActorCell.newActor(ActorCell.scala:488)
	at akka.actor.ActorCell.doRecreate(ActorCell.scala:716)
	at akka.actor.ActorCell.recreate$1(ActorCell.scala:547)
	at akka.actor.ActorCell.systemInvoke(ActorCell.scala:601)
	at akka.dispatch.Mailbox.processAllSystemMessages(Mailbox.scala:209)
	at akka.dispatch.Mailbox.run(Mailbox.scala:178)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)

[ERROR] [12/06/2012 00:37:17.994] [SessionsServiceSpec-akka.actor.default-dispatcher-3] [akka://SessionsServiceSpec/user/Services] cannot be started once stopped
java.lang.IllegalStateException: cannot be started once stopped
	at org.jboss.netty.akka.util.HashedWheelTimer.start(HashedWheelTimer.java:192)
	at org.jboss.netty.akka.util.HashedWheelTimer.newTimeout(HashedWheelTimer.java:260)
	at akka.actor.DefaultScheduler.scheduleOnce(Scheduler.scala:186)
	at akka.pattern.PromiseActorRef$.apply(AskSupport.scala:274)
	at akka.pattern.AskSupport$class.ask(AskSupport.scala:83)
	at akka.pattern.package$.ask(package.scala:43)
	at akka.pattern.AskSupport$AskableActorRef.$qmark(AskSupport.scala:153)
	at com.ergodicity.backtest.cgate.ConnectionStub$.getState$1(ConnectionStub.scala:32)
	at com.ergodicity.backtest.cgate.ConnectionStub$$anonfun$wrap$3.apply(ConnectionStub.scala:43)
	at com.ergodicity.backtest.cgate.ConnectionStub$$anonfun$wrap$3.apply(ConnectionStub.scala:43)
	at com.ergodicity.backtest.cgate.package$$anon$1.answer(package.scala:8)
	at org.mockito.internal.stubbing.StubbedInvocationMatcher.answer(StubbedInvocationMatcher.java:34)
	at org.mockito.internal.MockHandler.handle(MockHandler.java:99)
	at org.mockito.internal.InvocationNotifierHandler.handle(InvocationNotifierHandler.java:36)
	at org.mockito.internal.creation.MethodInterceptorFilter.intercept(MethodInterceptorFilter.java:48)
	at ru.micexrts.cgate.Connection$$EnhancerByMockitoWithCGLIB$$54bfebfc.getState(<generated>)
	at com.ergodicity.cgate.Connection$$anonfun$6.apply(Connection.scala:89)
	at com.ergodicity.cgate.Connection$$anonfun$6.apply(Connection.scala:81)
	at scala.PartialFunction$$anon$1.apply(PartialFunction.scala:75)
	at akka.actor.FSM$class.processEvent(FSM.scala:489)
	at com.ergodicity.cgate.Connection.processEvent(Connection.scala:43)
	at akka.actor.FSM$class.akka$actor$FSM$$processMsg(FSM.scala:480)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:474)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:437)
	at akka.actor.Actor$class.apply(Actor.scala:318)
	at com.ergodicity.cgate.Connection.apply(Connection.scala:43)
	at akka.actor.ActorCell.invoke(ActorCell.scala:626)
	at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:197)
	at akka.dispatch.Mailbox.run(Mailbox.scala:179)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)

[DEBUG] [12/06/2012 00:37:18.59] [OrdersServiceSpec-akka.actor.default-dispatcher-2] [akka://OrdersServiceSpec/user/Services/Trading/OrdersTracking] Fill order, id = 123, amount = 1, rest = 0, deal = Some((12345,100))
[DEBUG] [12/06/2012 00:37:18.61] [OrdersServiceSpec-akka.actor.default-dispatcher-7] [akka://OrdersServiceSpec/user/Services/Trading/OrdersTracking/123] Order filled
[info] OrdersServiceSpec:
[info] OrderBooks Service 
[info] - must dispatch orders from underlying MarketDb
[info]   + Given engine's trading service 
[info]   + Given assigned session 
[info]   + Given backtest orders service 
[info]   + When start services 
[info]   + Then all services should start 
[info]   + When create order 
[info]   + Then order actor should be created in Active state 
[info]   + When subscribe for order events 
[info]   + Then should receive Create event 
[info]   + When order filled 
[info]   + Then should receive fill notification 
[info]   + When try to fill already filled order 
[info]   + Then should get exception 
[ERROR] [12/06/2012 00:37:18.72] [OrdersServiceSpec-akka.actor.default-dispatcher-4] [akka://OrdersServiceSpec/user/Services/Trading/RepliesListener] Listener failed, reason = Shutdown
[ERROR] [12/06/2012 00:37:18.72] [OrdersServiceSpec-akka.actor.default-dispatcher-7] [akka://OrdersServiceSpec/user/Services/Trading/Broker] Publisher failed, reason = Shutdown
[INFO] [12/06/2012 00:37:18.80] [OrderBooksServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrderBooksServiceSpec/user/Services/OrdersData/OrdLogListener] Listener opened
[info] OrderBooksServiceSpec:
[info] OrderBooks Service 
[info] - must dispatch orders from underlying MarketDb
[info]   + Given engine's orders data service 
[info]   + Given assigned session 
[info]   + Given backtest orders service 
[info]   + When start services 
[info]   + Then all services should start 
[info]   + When dispatch market db order payload 
[info]   + Then order actor should be created in Active state 
[ERROR] [12/06/2012 00:37:18.131] [ConnectionServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://ConnectionServiceSpec/user/Services/TradingConnection/Connection] Connection failed, reason = Shutdown
[WARN] [12/06/2012 00:37:18.131] [ConnectionServiceSpec-akka.actor.default-dispatcher-2] [akka://ConnectionServiceSpec/user/Services/TradingConnection/Connection] received dead letter from Actor[akka://ConnectionServiceSpec/user/Services/TradingConnection/Connection]: ProcessMessages(10 milliseconds)
[ERROR] [12/06/2012 00:37:18.131] [ConnectionServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://ConnectionServiceSpec/user/Services/Connection/Connection] Connection failed, reason = Shutdown
[WARN] [12/06/2012 00:37:18.131] [ConnectionServiceSpec-akka.actor.default-dispatcher-2] [akka://ConnectionServiceSpec/user/Services/Connection/Connection] received dead letter from Actor[akka://ConnectionServiceSpec/user/Services/Connection]: StartMessageProcessing(10 milliseconds)
[DEBUG] [12/06/2012 00:37:18.132] [ConnectionServiceSpec-akka.actor.default-dispatcher-1] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:18.132] [ConnectionServiceSpec-akka.actor.default-dispatcher-1] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:18.132] [ConnectionServiceSpec-akka.actor.default-dispatcher-1] [EventStream] all default loggers stopped
[INFO] [12/06/2012 00:37:18.250] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/Services/InstrumentData/OptInfoListener] Listener opened
[INFO] [12/06/2012 00:37:18.250] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/Services/InstrumentData/FutInfoListener] Listener opened
[INFO] [12/06/2012 00:37:18.339] [TradingServiceSpec-akka.actor.default-dispatcher-9] [akka://TradingServiceSpec/user/Services] Service started = InstrumentData, remaining = Set(Trading)
[INFO] [12/06/2012 00:37:18.339] [TradingServiceSpec-akka.actor.default-dispatcher-2] [akka://TradingServiceSpec/user/Services/Trading] Start Trading service
[INFO] [12/06/2012 00:37:18.339] [TradingServiceSpec-akka.actor.default-dispatcher-9] [akka://TradingServiceSpec/user/Services/Trading/Broker] Open publisher
[ERROR] [12/06/2012 00:37:18.482] [OrdersServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrdersServiceSpec/user/Services/Connection/Connection] Connection failed, reason = Shutdown
[WARN] [12/06/2012 00:37:18.482] [OrdersServiceSpec-akka.actor.default-dispatcher-10] [akka://OrdersServiceSpec/user/Services/Connection/Connection] received dead letter from Actor[akka://OrdersServiceSpec/user/Services/Connection/Connection]: ConnectionState(Active)
[WARN] [12/06/2012 00:37:18.482] [OrdersServiceSpec-akka.actor.default-dispatcher-10] [akka://OrdersServiceSpec/user/Services/Connection/Connection] received dead letter from Actor[akka://OrdersServiceSpec/user/Services/Connection/Connection]: ProcessMessages(10 milliseconds)
[ERROR] [12/06/2012 00:37:18.483] [OrdersServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrdersServiceSpec/user/Services/InstrumentData/FutInfoListener] Listener failed, reason = Shutdown
[ERROR] [12/06/2012 00:37:18.483] [OrdersServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrdersServiceSpec/user/Services/Trading/FutOrdersListener] Listener failed, reason = Shutdown
[ERROR] [12/06/2012 00:37:18.483] [OrdersServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrdersServiceSpec/user/Services/InstrumentData/OptInfoListener] Listener failed, reason = Shutdown
[ERROR] [12/06/2012 00:37:18.483] [OrdersServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrdersServiceSpec/user/Services/Trading/OptOrdersListener] Listener failed, reason = Shutdown
[DEBUG] [12/06/2012 00:37:18.484] [OrdersServiceSpec-akka.actor.default-dispatcher-9] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:18.484] [OrdersServiceSpec-akka.actor.default-dispatcher-9] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:18.484] [OrdersServiceSpec-akka.actor.default-dispatcher-9] [EventStream] all default loggers stopped
[ERROR] [12/06/2012 00:37:18.580] [OrderBooksServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrderBooksServiceSpec/user/Services/Connection/Connection] Connection failed, reason = Shutdown
[WARN] [12/06/2012 00:37:18.580] [OrderBooksServiceSpec-akka.actor.default-dispatcher-1] [akka://OrderBooksServiceSpec/user/Services/Connection/Connection] received dead letter from Actor[akka://OrderBooksServiceSpec/user/Services/Connection/Connection]: ConnectionState(Active)
[WARN] [12/06/2012 00:37:18.580] [OrderBooksServiceSpec-akka.actor.default-dispatcher-1] [akka://OrderBooksServiceSpec/user/Services/Connection/Connection] received dead letter from Actor[akka://OrderBooksServiceSpec/user/Services/Connection/Connection]: ProcessMessages(10 milliseconds)
[ERROR] [12/06/2012 00:37:18.580] [OrderBooksServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrderBooksServiceSpec/user/Services/InstrumentData/FutInfoListener] Listener failed, reason = Shutdown
[ERROR] [12/06/2012 00:37:18.580] [OrderBooksServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrderBooksServiceSpec/user/Services/OrdersData/FutOrderBookListener] Listener failed, reason = Shutdown
[ERROR] [12/06/2012 00:37:18.581] [OrderBooksServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrderBooksServiceSpec/user/Services/InstrumentData/OptInfoListener] Listener failed, reason = Shutdown
[ERROR] [12/06/2012 00:37:18.581] [OrderBooksServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrderBooksServiceSpec/user/Services/OrdersData/OptOrderBookListener] Listener failed, reason = Shutdown
[ERROR] [12/06/2012 00:37:18.581] [OrderBooksServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrderBooksServiceSpec/user/Services/OrdersData/OrdLogListener] Listener failed, reason = Shutdown
[DEBUG] [12/06/2012 00:37:18.582] [OrderBooksServiceSpec-akka.actor.default-dispatcher-12] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:18.582] [OrderBooksServiceSpec-akka.actor.default-dispatcher-12] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:37:18.582] [OrderBooksServiceSpec-akka.actor.default-dispatcher-12] [EventStream] all default loggers stopped
[INFO] [12/06/2012 00:37:18.750] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/Services/Trading/FutOrdersListener] Open listener with config = mode=snapshot+online
[INFO] [12/06/2012 00:37:18.751] [TradingServiceSpec-akka.actor.default-dispatcher-9] [akka://TradingServiceSpec/user/Services/Trading/FutOrdersStream] DataStream goes Online
[INFO] [12/06/2012 00:37:18.751] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/Services/Trading/OptOrdersListener] Open listener with config = mode=snapshot+online
[INFO] [12/06/2012 00:37:18.752] [TradingServiceSpec-akka.actor.default-dispatcher-1] [akka://TradingServiceSpec/user/Services/Trading/OptOrdersStream] DataStream goes Online
[INFO] [12/06/2012 00:37:19.341] [TradingServiceSpec-akka.actor.default-dispatcher-7] [akka://TradingServiceSpec/user/Services/Trading/Broker] Publisher opened
[INFO] [12/06/2012 00:37:19.341] [TradingServiceSpec-akka.actor.default-dispatcher-7] [akka://TradingServiceSpec/user/Services] Service started = Trading, remaining = Set()
[INFO] [12/06/2012 00:37:19.341] [TradingServiceSpec-akka.actor.default-dispatcher-7] [akka://TradingServiceSpec/user/Services] All services started
[INFO] [12/06/2012 00:37:19.342] [TradingServiceSpec-akka.actor.default-dispatcher-10] [akka://TradingServiceSpec/user/Services/Trading/RepliesListener] Open listener with config = 
[DEBUG] [12/06/2012 00:37:19.366] [TradingServiceSpec-akka.actor.default-dispatcher-9] [akka://TradingServiceSpec/user/Services/Trading/Broker] Execute command: AddOrder(Isin(FISIN),1,100,ImmediateOrCancel,Buy)
[DEBUG] [12/06/2012 00:37:19.467] [TradingServiceSpec-akka.actor.default-dispatcher-10] [akka://TradingServiceSpec/user/Services/Trading/Broker] Execute command: AddOrder(Isin(OISIN),1,100,ImmediateOrCancel,Buy)
[DEBUG] [12/06/2012 00:37:19.568] [TradingServiceSpec-akka.actor.default-dispatcher-9] [akka://TradingServiceSpec/user/Services/Trading/Broker] Execute command: AddOrder(Isin(FISIN),1,101,ImmediateOrCancel,Buy)
[DEBUG] [12/06/2012 00:37:19.669] [TradingServiceSpec-akka.actor.default-dispatcher-10] [akka://TradingServiceSpec/user/Services/Trading/Broker] Execute command: AddOrder(Isin(OISIN),1,101,ImmediateOrCancel,Buy)
[INFO] [12/06/2012 00:37:19.755] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/Services/Trading/FutOrdersListener] Listener opened
[INFO] [12/06/2012 00:37:19.755] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/Services/Trading/OptOrdersListener] Listener opened
[INFO] [12/06/2012 00:37:19.778] [pool-4-thread-3] [akka://TradingServiceSpec/user/Services] Register service, Id = Connection, depends on = List()
[INFO] [12/06/2012 00:37:19.778] [pool-4-thread-3] [akka://TradingServiceSpec/user/Services] Register service, Id = InstrumentData, depends on = List(Connection)
[INFO] [12/06/2012 00:37:19.779] [pool-4-thread-3] [akka://TradingServiceSpec/user/Services] Register service, Id = Trading, depends on = List(InstrumentData)
[INFO] [12/06/2012 00:37:19.779] [pool-4-thread-3] [akka://TradingServiceSpec/user/Services] Registered services = Set(Connection, InstrumentData, Trading)
[INFO] [12/06/2012 00:37:19.780] [pool-4-thread-3] [akka://TradingServiceSpec/user/Services]  - Connection; startBarrier = List(StartUp), stopBarrier = List(ShutDown, InstrumentData)
[INFO] [12/06/2012 00:37:19.780] [pool-4-thread-3] [akka://TradingServiceSpec/user/Services]  - InstrumentData; startBarrier = List(StartUp, Connection), stopBarrier = List(ShutDown, Trading)
[INFO] [12/06/2012 00:37:19.780] [pool-4-thread-3] [akka://TradingServiceSpec/user/Services]  - Trading; startBarrier = List(StartUp, InstrumentData), stopBarrier = List(ShutDown)
[INFO] [12/06/2012 00:37:19.782] [TradingServiceSpec-akka.actor.default-dispatcher-1] [akka://TradingServiceSpec/user/Services/Trading] Start Trading service
[INFO] [12/06/2012 00:37:19.783] [TradingServiceSpec-akka.actor.default-dispatcher-7] [akka://TradingServiceSpec/user/Services/InstrumentData/SessionsTracking] Start session tracking
[INFO] [12/06/2012 00:37:19.784] [pool-4-thread-3] [akka://TradingServiceSpec/user/Services] Start all services = Set(Connection, InstrumentData, Trading)
[INFO] [12/06/2012 00:37:19.784] [TradingServiceSpec-akka.actor.default-dispatcher-9] [akka://TradingServiceSpec/user/Services/Connection] Start Connection service
[WARN] [12/06/2012 00:37:20.255] [TradingServiceSpec-akka.actor.default-dispatcher-8] [akka://TradingServiceSpec/user/Services/Connection] Unhandled event: CurrentState(Actor[akka://TradingServiceSpec/user/Services/Connection/Connection],Closed)
[INFO] [12/06/2012 00:37:20.256] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/Services/Connection/Connection] Open connection
[INFO] [12/06/2012 00:37:20.441] [TradingServiceSpec-akka.actor.default-dispatcher-5] [akka://TradingServiceSpec/user/Services/Trading/RepliesListener] Listener opened
[INFO] [12/06/2012 00:37:20.761] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/Services/Connection/Connection] Connection opened
[INFO] [12/06/2012 00:37:20.761] [TradingServiceSpec-akka.actor.default-dispatcher-4] [akka://TradingServiceSpec/user/Services] Service started = Connection, remaining = Set(InstrumentData, Trading)
[INFO] [12/06/2012 00:37:20.761] [TradingServiceSpec-akka.actor.default-dispatcher-8] [akka://TradingServiceSpec/user/Services/InstrumentData] Start InstrumentData service
[INFO] [12/06/2012 00:37:21.261] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/Services/InstrumentData/FutInfoListener] Open listener with config = mode=snapshot+online
[INFO] [12/06/2012 00:37:21.266] [TradingServiceSpec-akka.actor.default-dispatcher-8] [akka://TradingServiceSpec/user/Services/InstrumentData/FutInfoDataStream] DataStream goes Online
[INFO] [12/06/2012 00:37:21.266] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/Services/InstrumentData/OptInfoListener] Open listener with config = mode=snapshot+online
[INFO] [12/06/2012 00:37:21.269] [TradingServiceSpec-akka.actor.default-dispatcher-5] [akka://TradingServiceSpec/user/Services/InstrumentData/SessionsTracking] Synchonized event = SynchronizedEvent(SessionDataReady(1,100),SessionDataReady(1,100))
[INFO] [12/06/2012 00:37:21.270] [TradingServiceSpec-akka.actor.default-dispatcher-10] [akka://TradingServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Futures] Start SessionContents
[INFO] [12/06/2012 00:37:21.270] [TradingServiceSpec-akka.actor.default-dispatcher-6] [akka://TradingServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Options] Start SessionContents
[INFO] [12/06/2012 00:37:21.271] [TradingServiceSpec-akka.actor.default-dispatcher-3] [akka://TradingServiceSpec/user/Services/InstrumentData/OptInfoDataStream] DataStream goes Online
[INFO] [12/06/2012 00:37:21.271] [TradingServiceSpec-akka.actor.default-dispatcher-6] [akka://TradingServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Futures/FISIN] Started instrument for security = FutureContract(IsinId(100),Isin(FISIN),ShortIsisn(FISINS),Future)
[INFO] [12/06/2012 00:37:21.271] [TradingServiceSpec-akka.actor.default-dispatcher-9] [akka://TradingServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Options/OISIN] Started instrument for security = OptionContract(IsinId(101),Isin(OISIN),ShortIsisn(OISINS),Option)
[INFO] [12/06/2012 00:37:21.840] [TradingServiceSpec-akka.actor.default-dispatcher-9] [akka://TradingServiceSpec/user/Services] Service started = InstrumentData, remaining = Set(Trading)
[INFO] [12/06/2012 00:37:21.840] [TradingServiceSpec-akka.actor.default-dispatcher-7] [akka://TradingServiceSpec/user/Services/Trading] Start Trading service
[INFO] [12/06/2012 00:37:21.840] [TradingServiceSpec-akka.actor.default-dispatcher-9] [akka://TradingServiceSpec/user/Services/Trading/Broker] Open publisher
[INFO] [12/06/2012 00:37:22.41] [TradingServiceSpec-akka.actor.default-dispatcher-9] [akka://TradingServiceSpec/user/Services/Trading/Broker] Publisher opened
[INFO] [12/06/2012 00:37:22.276] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/Services/InstrumentData/OptInfoListener] Listener opened
[INFO] [12/06/2012 00:37:22.276] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/Services/InstrumentData/FutInfoListener] Listener opened
[INFO] [12/06/2012 00:37:22.276] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/Services/Trading/OptOrdersListener] Open listener with config = mode=snapshot+online
[INFO] [12/06/2012 00:37:22.277] [TradingServiceSpec-akka.actor.default-dispatcher-9] [akka://TradingServiceSpec/user/Services/Trading/OptOrdersStream] DataStream goes Online
[INFO] [12/06/2012 00:37:22.277] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/Services/Trading/FutOrdersListener] Open listener with config = mode=snapshot+online
[INFO] [12/06/2012 00:37:22.278] [TradingServiceSpec-akka.actor.default-dispatcher-11] [akka://TradingServiceSpec/user/Services/Trading/FutOrdersStream] DataStream goes Online
[INFO] [12/06/2012 00:37:22.279] [TradingServiceSpec-akka.actor.default-dispatcher-9] [akka://TradingServiceSpec/user/Services/Trading/RepliesListener] Open listener with config = 
[INFO] [12/06/2012 00:37:22.279] [TradingServiceSpec-akka.actor.default-dispatcher-7] [akka://TradingServiceSpec/user/Services] Service started = Trading, remaining = Set()
[INFO] [12/06/2012 00:37:22.279] [TradingServiceSpec-akka.actor.default-dispatcher-7] [akka://TradingServiceSpec/user/Services] All services started
[DEBUG] [12/06/2012 00:37:22.280] [TradingServiceSpec-akka.actor.default-dispatcher-11] [akka://TradingServiceSpec/user/Services/Trading/Broker] Execute command: AddOrder(Isin(FISIN),1,100,ImmediateOrCancel,Buy)
[DEBUG] [12/06/2012 00:37:22.286] [TradingServiceSpec-akka.actor.default-dispatcher-9] [akka://TradingServiceSpec/user/Services/Trading/OrdersTracking] Create new order, id = 1
[DEBUG] [12/06/2012 00:37:22.287] [TradingServiceSpec-akka.actor.default-dispatcher-7] [akka://TradingServiceSpec/user/Services/Trading/OrdersTracking] Fill order, id = 1, amount = 1, rest = 0, deal = Some((1,100))
[DEBUG] [12/06/2012 00:37:22.288] [TradingServiceSpec-akka.actor.default-dispatcher-7] [akka://TradingServiceSpec/user/Services/Trading/OrdersTracking/1] Order filled
[DEBUG] [12/06/2012 00:37:22.300] [TradingServiceSpec-akka.actor.default-dispatcher-12] [akka://TradingServiceSpec/user/Services/Trading/Broker] Execute command: Cancel(OrderId(1))
[DEBUG] [12/06/2012 00:37:22.307] [TradingServiceSpec-akka.actor.default-dispatcher-12] [akka://TradingServiceSpec/user/Services/Trading/Broker] Execute command: AddOrder(Isin(BadIsin),1,100,ImmediateOrCancel,Buy)
[info] TradingServiceSpec:
[info] Trading Service 
[info] - must forward commands to publisher strategy
[info]   + Given engine trading service 
[info]   + Given mocked publisher strategy 
[info]   + And publisher context 
[info]   + When buy future contract 
[info]   + Then should process broker Action with underlying strategy 
[info]   + When buy option contract 
[info]   + Then should process broker Action with underlying strategy 
[info]   + When fail buy future contract 
[info]   + Then should process failure with underlying strategy 
[info]   + When fail buy option contract 
[info]   + Then should process failure with underlying strategy 
[info] - must support ExecuteOnDeclaredPrice strategy
[info]   + Given engine trading service 
[info]   + And publisher context 
[info]   + When buy future contract 
[info]   + Then get successfull order execution 
[info]   + When try to cancel order 
[info]   + Then should fail with exception 
[info]   + When try to buy not assigned contract 
[info]   + Then should fail with exception 
[info] Passed: : Total 50, Failed 0, Errors 0, Passed 50, Skipped 0
[ERROR] [12/06/2012 00:37:22.313] [TradingServiceSpec-akka.actor.default-dispatcher-11] [akka://TradingServiceSpec/user/Services/Trading/Broker] Publisher failed, reason = Shutdown
[ERROR] [12/06/2012 00:37:22.313] [TradingServiceSpec-akka.actor.default-dispatcher-12] [akka://TradingServiceSpec/user/Services/Trading/RepliesListener] Listener failed, reason = Shutdown
[error] {file:/D:/projects/ergodicity/}capture/test:test: Tests unsuccessful
[error] Total time: 24 s, completed 06.12.2012 0:37:22
[info] Loading project definition from D:\projects\ergodicity\project
[info] Set current project to ergodicity (in build file:/D:/projects/ergodicity/)
[info] No tests to run for ergodicity/test:test
[info] PublisherConfigSpec:
[info] Publisher Config 
[info] - must provide valid configuration
[DEBUG] [12/06/2012 00:44:00.534] [pool-4-thread-3] [EventStream(akka://ConnectionSpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:44:00.535] [pool-4-thread-1] [EventStream(akka://ListenerSpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:44:00.537] [pool-4-thread-3] [EventStream(akka://ConnectionSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:44:00.536] [pool-4-thread-2] [EventStream(akka://DataStreamSpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:44:00.537] [pool-4-thread-1] [EventStream(akka://ListenerSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:44:00.537] [pool-4-thread-2] [EventStream(akka://DataStreamSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:44:00.562] [DataStreamSpec-akka.actor.default-dispatcher-3] [akka://DataStreamSpec/system/testActor2] started (akka.testkit.TestActor@1a43d71)
[DEBUG] [12/06/2012 00:44:00.562] [ListenerSpec-akka.actor.default-dispatcher-2] [akka://ListenerSpec/system/testActor3] started (akka.testkit.TestActor@5856b3)
[DEBUG] [12/06/2012 00:44:00.562] [ConnectionSpec-akka.actor.default-dispatcher-2] [akka://ConnectionSpec/system/testActor1] started (akka.testkit.TestActor@1b16021)
[DEBUG] [12/06/2012 00:44:00.563] [ListenerSpec-akka.actor.default-dispatcher-2] [akka://ListenerSpec/system] now supervising Actor[akka://ListenerSpec/system/testActor3]
[DEBUG] [12/06/2012 00:44:00.563] [DataStreamSpec-akka.actor.default-dispatcher-3] [akka://DataStreamSpec/system] now supervising Actor[akka://DataStreamSpec/system/testActor2]
[DEBUG] [12/06/2012 00:44:00.564] [ConnectionSpec-akka.actor.default-dispatcher-2] [akka://ConnectionSpec/system] now supervising Actor[akka://ConnectionSpec/system/testActor1]
Setting up data.
[DEBUG] [12/06/2012 00:44:00.587] [DataStreamSpec-akka.actor.default-dispatcher-3] [akka://DataStreamSpec/user] now supervising TestActor[akka://DataStreamSpec/user/DataStream]
[DEBUG] [12/06/2012 00:44:00.822] [pool-4-thread-2] [akka://DataStreamSpec/user/DataStream] started (com.ergodicity.cgate.DataStream@b83ff4)
[DEBUG] [12/06/2012 00:44:00.824] [DataStreamSpec-akka.actor.default-dispatcher-2] [akka://DataStreamSpec/user] now supervising TestActor[akka://DataStreamSpec/user/DataStream]
[DEBUG] [12/06/2012 00:44:00.824] [pool-4-thread-2] [akka://DataStreamSpec/user/DataStream] started (com.ergodicity.cgate.DataStream@175e224)
[DEBUG] [12/06/2012 00:44:00.832] [DataStreamSpec-akka.actor.default-dispatcher-3] [akka://DataStreamSpec/user] now supervising TestActor[akka://DataStreamSpec/user/DataStream]
[DEBUG] [12/06/2012 00:44:00.832] [pool-4-thread-2] [akka://DataStreamSpec/user/DataStream] started (com.ergodicity.cgate.DataStream@13407c5)
[INFO] [12/06/2012 00:44:00.847] [pool-4-thread-2] [akka://DataStreamSpec/user/DataStream] DataStream goes Online
[DEBUG] [12/06/2012 00:44:00.851] [DataStreamSpec-akka.actor.default-dispatcher-3] [akka://DataStreamSpec/user] now supervising TestActor[akka://DataStreamSpec/user/DataStream]
[DEBUG] [12/06/2012 00:44:00.851] [pool-4-thread-2] [akka://DataStreamSpec/user/DataStream] started (com.ergodicity.cgate.DataStream@19b5d7e)
[INFO] [12/06/2012 00:44:00.867] [pool-4-thread-2] [akka://DataStreamSpec/user/DataStream] DataStream goes Online
[DEBUG] [12/06/2012 00:44:00.869] [DataStreamSpec-akka.actor.default-dispatcher-2] [akka://DataStreamSpec/user] now supervising TestActor[akka://DataStreamSpec/user/DataStream]
[DEBUG] [12/06/2012 00:44:00.869] [pool-4-thread-2] [akka://DataStreamSpec/user/DataStream] started (com.ergodicity.cgate.DataStream@1759143)
[DEBUG] [12/06/2012 00:44:00.872] [DataStreamSpec-akka.actor.default-dispatcher-2] [akka://DataStreamSpec/user] now supervising TestActor[akka://DataStreamSpec/user/DataStream]
[DEBUG] [12/06/2012 00:44:00.872] [pool-4-thread-2] [akka://DataStreamSpec/user/DataStream] started (com.ergodicity.cgate.DataStream@42aae5)
[info] DataStreamSpec:
[info] DataStream 
[info] - must initialized in Closed state
[info] - must subscribe events
[info] - must follow Closed -> Opened -> Online -> Closed states
[info] - must forward stream events
[info] - must forward stream data
[info] - must subscribe repl states
[DEBUG] [12/06/2012 00:44:00.930] [DataStreamSpec-akka.actor.default-dispatcher-3] [akka://DataStreamSpec/user/DataStream] stopped
[DEBUG] [12/06/2012 00:44:00.933] [DataStreamSpec-akka.actor.default-dispatcher-3] [akka://DataStreamSpec/user] stopping
[DEBUG] [12/06/2012 00:44:00.936] [DataStreamSpec-akka.actor.default-dispatcher-3] [akka://DataStreamSpec/user] stopped
[DEBUG] [12/06/2012 00:44:00.938] [DataStreamSpec-akka.actor.default-dispatcher-3] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:00.938] [DataStreamSpec-akka.actor.default-dispatcher-3] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:00.940] [DataStreamSpec-akka.actor.default-dispatcher-3] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:44:00.954] [DataStreamSpec-akka.actor.default-dispatcher-1] [akka://DataStreamSpec/system/log1-Logging$DefaultLogger] stopped
[DEBUG] [12/06/2012 00:44:00.960] [DataStreamSpec-akka.actor.default-dispatcher-3] [akka://DataStreamSpec/system/testActor2] stopped
[DEBUG] [12/06/2012 00:44:00.960] [DataStreamSpec-akka.actor.default-dispatcher-3] [akka://DataStreamSpec/system] stopping
[DEBUG] [12/06/2012 00:44:00.962] [DataStreamSpec-akka.actor.default-dispatcher-3] [akka://DataStreamSpec/system] stopped
[DEBUG] [12/06/2012 00:44:00.963] [ListenerSpec-akka.actor.default-dispatcher-3] [akka://ListenerSpec/user] now supervising TestActor[akka://ListenerSpec/user/Listener]
[DEBUG] [12/06/2012 00:44:00.965] [ConnectionSpec-akka.actor.default-dispatcher-1] [akka://ConnectionSpec/user] now supervising TestActor[akka://ConnectionSpec/user/Connection]
[DEBUG] [12/06/2012 00:44:00.967] [DataStreamSpec-akka.actor.default-dispatcher-3] [akka://DataStreamSpec/] stopped
[DEBUG] [12/06/2012 00:44:00.987] [pool-4-thread-1] [akka://ListenerSpec/user/Listener] started (com.ergodicity.cgate.Listener@1f8c996)
[INFO] [12/06/2012 00:44:00.989] [pool-4-thread-1] [akka://ListenerSpec/system/testActor3] State: Closed
[DEBUG] [12/06/2012 00:44:00.991] [pool-4-thread-3] [akka://ConnectionSpec/user/Connection] started (com.ergodicity.cgate.Connection@9a870c)
[INFO] [12/06/2012 00:44:00.991] [pool-4-thread-3] [akka://ConnectionSpec/system/testActor1] State: Closed
[DEBUG] [12/06/2012 00:44:00.991] [pool-4-thread-1] [akka://ListenerSpec/user/Listener] started (com.ergodicity.cgate.Listener@118293d)
[DEBUG] [12/06/2012 00:44:00.991] [ListenerSpec-akka.actor.default-dispatcher-3] [akka://ListenerSpec/user] now supervising TestActor[akka://ListenerSpec/user/Listener]
[DEBUG] [12/06/2012 00:44:00.996] [pool-4-thread-1] [akka://ListenerSpec/user/Listener] started (com.ergodicity.cgate.Listener@c89f9b)
[DEBUG] [12/06/2012 00:44:00.996] [ListenerSpec-akka.actor.default-dispatcher-1] [akka://ListenerSpec/user] now supervising TestActor[akka://ListenerSpec/user/Listener]
[DEBUG] [12/06/2012 00:44:00.998] [pool-4-thread-1] [akka://ListenerSpec/system/testActor3] now monitoring TestActor[akka://ListenerSpec/user/Listener]
[WARN] [12/06/2012 00:44:01.2] [pool-4-thread-1] [akka://ListenerSpec/user/Listener] unhandled event Close in state Closed
[DEBUG] [12/06/2012 00:44:01.3] [pool-4-thread-1] [akka://ListenerSpec/user/Listener] started (com.ergodicity.cgate.Listener@16112fe)
[DEBUG] [12/06/2012 00:44:01.3] [ListenerSpec-akka.actor.default-dispatcher-3] [akka://ListenerSpec/user] now supervising TestActor[akka://ListenerSpec/user/Listener]
[info] ListenerSpec:
[info] Listener 
[info] - must be initialized in Closed state
[info] - must fail on Listener gone to Error state
[info] - must return to Closed state after Close listener sent
[info] - must terminate on FSM.StateTimeout in Opening state
[INFO] [12/06/2012 00:44:01.13] [pool-4-thread-1] [akka://ListenerSpec/user/Listener] Opening listener
[DEBUG] [12/06/2012 00:44:01.13] [pool-4-thread-1] [akka://ListenerSpec/system/testActor3] now monitoring TestActor[akka://ListenerSpec/user/Listener]
[DEBUG] [12/06/2012 00:44:01.25] [pool-4-thread-3] [akka://ConnectionSpec/user/Connection] started (com.ergodicity.cgate.Connection@cb6e71)
[INFO] [12/06/2012 00:44:01.25] [pool-4-thread-3] [akka://ConnectionSpec/user/Connection] Open connection
[DEBUG] [12/06/2012 00:44:01.25] [ConnectionSpec-akka.actor.default-dispatcher-2] [akka://ConnectionSpec/user] now supervising TestActor[akka://ConnectionSpec/user/Connection]
[INFO] [12/06/2012 00:44:01.33] [pool-4-thread-3] [akka://ConnectionSpec/user/Connection] Trying to establish connection to CGate router
[DEBUG] [12/06/2012 00:44:01.35] [pool-4-thread-3] [akka://ConnectionSpec/user/Connection] started (com.ergodicity.cgate.Connection@d60189)
[DEBUG] [12/06/2012 00:44:01.35] [ConnectionSpec-akka.actor.default-dispatcher-2] [akka://ConnectionSpec/user] now supervising TestActor[akka://ConnectionSpec/user/Connection]
[INFO] [12/06/2012 00:44:01.35] [pool-4-thread-3] [akka://ConnectionSpec/user/Connection] Open connection
[INFO] [12/06/2012 00:44:01.36] [pool-4-thread-3] [akka://ConnectionSpec/user/Connection] Connection opened
[ERROR] [12/06/2012 00:44:01.37] [ListenerSpec-akka.actor.default-dispatcher-1] [akka://ListenerSpec/user/Listener] Listener failed, reason = Shutdown
[DEBUG] [12/06/2012 00:44:01.41] [ConnectionSpec-akka.actor.default-dispatcher-2] [akka://ConnectionSpec/user] now supervising TestActor[akka://ConnectionSpec/user/Connection]
[DEBUG] [12/06/2012 00:44:01.42] [pool-4-thread-3] [akka://ConnectionSpec/user/Connection] started (com.ergodicity.cgate.Connection@1b98f73)
[INFO] [12/06/2012 00:44:01.42] [pool-4-thread-3] [akka://ConnectionSpec/user/Connection] Open connection
[INFO] [12/06/2012 00:44:01.42] [pool-4-thread-3] [akka://ConnectionSpec/user/Connection] Connection opened
[DEBUG] [12/06/2012 00:44:01.43] [ListenerSpec-akka.actor.default-dispatcher-1] [akka://ListenerSpec/user/Listener] stopped
[DEBUG] [12/06/2012 00:44:01.43] [ListenerSpec-akka.actor.default-dispatcher-1] [akka://ListenerSpec/user] stopping
[DEBUG] [12/06/2012 00:44:01.43] [ListenerSpec-akka.actor.default-dispatcher-1] [akka://ListenerSpec/user] stopped
[DEBUG] [12/06/2012 00:44:01.43] [ListenerSpec-akka.actor.default-dispatcher-2] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:01.44] [ListenerSpec-akka.actor.default-dispatcher-1] [akka://ListenerSpec/user] stopped
[DEBUG] [12/06/2012 00:44:01.44] [ConnectionSpec-akka.actor.default-dispatcher-1] [akka://ConnectionSpec/user] now supervising TestActor[akka://ConnectionSpec/user/Connection]
[DEBUG] [12/06/2012 00:44:01.67] [ListenerSpec-akka.actor.default-dispatcher-2] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:01.67] [pool-4-thread-3] [akka://ConnectionSpec/user/Connection] started (com.ergodicity.cgate.Connection@c8744c)
[DEBUG] [12/06/2012 00:44:01.68] [pool-4-thread-3] [akka://ConnectionSpec/system/testActor1] now monitoring TestActor[akka://ConnectionSpec/user/Connection]
[INFO] [12/06/2012 00:44:01.68] [pool-4-thread-3] [akka://ConnectionSpec/user/Connection] Open connection
[DEBUG] [12/06/2012 00:44:01.68] [pool-4-thread-3] [akka://ConnectionSpec/user/Connection] started (com.ergodicity.cgate.Connection@dfc115)
[DEBUG] [12/06/2012 00:44:01.68] [pool-4-thread-3] [akka://ConnectionSpec/system/testActor1] now monitoring TestActor[akka://ConnectionSpec/user/Connection]
[DEBUG] [12/06/2012 00:44:01.68] [ConnectionSpec-akka.actor.default-dispatcher-1] [akka://ConnectionSpec/user] now supervising TestActor[akka://ConnectionSpec/user/Connection]
[DEBUG] [12/06/2012 00:44:01.68] [ListenerSpec-akka.actor.default-dispatcher-4] [akka://ListenerSpec/system/log1-Logging$DefaultLogger] stopped
[DEBUG] [12/06/2012 00:44:01.67] [ListenerSpec-akka.actor.default-dispatcher-2] [EventStream] all default loggers stopped
[INFO] [12/06/2012 00:44:01.70] [pool-4-thread-3] [akka://ConnectionSpec/user/Connection] Close connection
[DEBUG] [12/06/2012 00:44:01.72] [pool-4-thread-3] [akka://ConnectionSpec/user/Connection] started (com.ergodicity.cgate.Connection@9aab0e)
[INFO] [12/06/2012 00:44:01.72] [pool-4-thread-3] [akka://ConnectionSpec/user/Connection] Trying to establish connection to CGate router
[DEBUG] [12/06/2012 00:44:01.72] [ConnectionSpec-akka.actor.default-dispatcher-1] [akka://ConnectionSpec/user] now supervising TestActor[akka://ConnectionSpec/user/Connection]
[DEBUG] [12/06/2012 00:44:01.72] [pool-4-thread-3] [akka://ConnectionSpec/system/testActor1] now monitoring TestActor[akka://ConnectionSpec/user/Connection]
[info] ConnectionSpec:
[info] Connection 
[info] - must be initialized in Closed state
[info] - must go to Connecting status
[info] - must go to Active state immediately
[info] - must go to Actiove status after Connection established
[info] - must fail on Connection goes to Error state
[info] - must return to Closed state after Close connection sent
[info] - must fail on FSM.StateTimeout in Opening state
[DEBUG] [12/06/2012 00:44:01.78] [ListenerSpec-akka.actor.default-dispatcher-2] [akka://ListenerSpec/system/testActor3] stopped
[DEBUG] [12/06/2012 00:44:01.78] [ListenerSpec-akka.actor.default-dispatcher-2] [akka://ListenerSpec/system] stopping
[DEBUG] [12/06/2012 00:44:01.78] [ListenerSpec-akka.actor.default-dispatcher-2] [akka://ListenerSpec/system] stopped
[DEBUG] [12/06/2012 00:44:01.78] [ListenerSpec-akka.actor.default-dispatcher-2] [akka://ListenerSpec/] stopped
[ERROR] [12/06/2012 00:44:01.80] [ConnectionSpec-akka.actor.default-dispatcher-3] [akka://ConnectionSpec/user/Connection] Connection failed, reason = Shutdown
[DEBUG] [12/06/2012 00:44:01.81] [ConnectionSpec-akka.actor.default-dispatcher-3] [akka://ConnectionSpec/user/Connection] stopped
[DEBUG] [12/06/2012 00:44:01.82] [ConnectionSpec-akka.actor.default-dispatcher-3] [akka://ConnectionSpec/user] stopping
[DEBUG] [12/06/2012 00:44:01.82] [ConnectionSpec-akka.actor.default-dispatcher-3] [akka://ConnectionSpec/user] stopped
[DEBUG] [12/06/2012 00:44:01.83] [ConnectionSpec-akka.actor.default-dispatcher-3] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:01.83] [ConnectionSpec-akka.actor.default-dispatcher-3] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:44:01.84] [ConnectionSpec-akka.actor.default-dispatcher-3] [akka://ConnectionSpec/system/testActor1] stopped
[DEBUG] [12/06/2012 00:44:01.84] [ConnectionSpec-akka.actor.default-dispatcher-3] [akka://ConnectionSpec/system] stopping
[DEBUG] [12/06/2012 00:44:01.85] [ConnectionSpec-akka.actor.default-dispatcher-3] [akka://ConnectionSpec/system/log1-Logging$DefaultLogger] stopped
[info] Passed: : Total 18, Failed 0, Errors 0, Passed 18, Skipped 0
[DEBUG] [12/06/2012 00:44:01.93] [ConnectionSpec-akka.actor.default-dispatcher-1] [akka://ConnectionSpec/system] stopped
[DEBUG] [12/06/2012 00:44:01.94] [ConnectionSpec-akka.actor.default-dispatcher-1] [akka://ConnectionSpec/] stopped
[ERROR] [12/06/2012 00:44:01.99] [ConnectionSpec-akka.actor.default-dispatcher-1] [akka://ConnectionSpec/user/Connection] null
com.ergodicity.cgate.Connection$ConnectionTimedOut
	at com.ergodicity.cgate.Connection$$anonfun$3.apply(Connection.scala:66)
	at com.ergodicity.cgate.Connection$$anonfun$3.apply(Connection.scala:65)
	at akka.actor.FSM$class.processEvent(FSM.scala:486)
	at com.ergodicity.cgate.Connection.processEvent(Connection.scala:43)
	at akka.actor.FSM$class.akka$actor$FSM$$processMsg(FSM.scala:480)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:440)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:437)
	at akka.actor.Actor$class.apply(Actor.scala:318)
	at com.ergodicity.cgate.Connection.apply(Connection.scala:43)
	at akka.actor.ActorCell.invoke(ActorCell.scala:626)
	at akka.testkit.CallingThreadDispatcher.runQueue(CallingThreadDispatcher.scala:235)
	at akka.testkit.CallingThreadDispatcher.dispatch(CallingThreadDispatcher.scala:201)
	at akka.actor.ActorCell.tell(ActorCell.scala:475)
	at akka.actor.LocalActorRef.$bang(ActorRef.scala:328)
	at akka.actor.DefaultScheduler$$anon$5.run(Scheduler.scala:174)
	at akka.actor.DefaultScheduler.akka$actor$DefaultScheduler$$execDirectly(Scheduler.scala:200)
	at akka.actor.DefaultScheduler$$anonfun$close$1.apply(Scheduler.scala:208)
	at akka.actor.DefaultScheduler$$anonfun$close$1.apply(Scheduler.scala:208)
	at scala.collection.Iterator$class.foreach(Iterator.scala:772)
	at scala.collection.JavaConversions$JIteratorWrapper.foreach(JavaConversions.scala:573)
	at scala.collection.IterableLike$class.foreach(IterableLike.scala:73)
	at scala.collection.JavaConversions$JSetWrapper.foreach(JavaConversions.scala:661)
	at akka.actor.DefaultScheduler.close(Scheduler.scala:208)
	at akka.actor.ActorSystemImpl.stopScheduler(ActorSystem.scala:642)
	at akka.actor.ActorSystemImpl$$anonfun$_start$1.apply$mcV$sp(ActorSystem.scala:589)
	at akka.actor.ActorSystemImpl$$anonfun$_start$1.apply(ActorSystem.scala:589)
	at akka.actor.ActorSystemImpl$$anonfun$_start$1.apply(ActorSystem.scala:589)
	at akka.actor.ActorSystemImpl$$anon$4.run(ActorSystem.scala:602)
	at akka.actor.ActorSystemImpl$TerminationCallbacks$$anonfun$run$1.runNext$1(ActorSystem.scala:726)
	at akka.actor.ActorSystemImpl$TerminationCallbacks$$anonfun$run$1.apply$mcV$sp(ActorSystem.scala:729)
	at akka.actor.ActorSystemImpl$TerminationCallbacks$$anonfun$run$1.apply(ActorSystem.scala:722)
	at akka.actor.ActorSystemImpl$TerminationCallbacks$$anonfun$run$1.apply(ActorSystem.scala:722)
	at akka.util.ReentrantGuard.withGuard(LockUtil.scala:17)
	at akka.actor.ActorSystemImpl$TerminationCallbacks.run(ActorSystem.scala:722)
	at akka.actor.ActorSystemImpl$$anonfun$terminationCallbacks$1.apply(ActorSystem.scala:599)
	at akka.actor.ActorSystemImpl$$anonfun$terminationCallbacks$1.apply(ActorSystem.scala:599)
	at akka.dispatch.DefaultPromise.akka$dispatch$DefaultPromise$$notifyCompleted(Future.scala:943)
	at akka.dispatch.DefaultPromise$$anonfun$tryComplete$1$$anonfun$apply$mcV$sp$4.apply(Future.scala:920)
	at akka.dispatch.DefaultPromise$$anonfun$tryComplete$1$$anonfun$apply$mcV$sp$4.apply(Future.scala:920)
	at scala.collection.LinearSeqOptimized$class.foreach(LinearSeqOptimized.scala:59)
	at scala.collection.immutable.List.foreach(List.scala:76)
	at akka.dispatch.DefaultPromise$$anonfun$tryComplete$1.apply$mcV$sp(Future.scala:920)
	at akka.dispatch.Future$$anon$4$$anonfun$run$1.apply$mcV$sp(Future.scala:386)
	at akka.dispatch.Future$$anon$4$$anonfun$run$1.apply(Future.scala:378)
	at akka.dispatch.Future$$anon$4$$anonfun$run$1.apply(Future.scala:378)
	at scala.util.DynamicVariable.withValue(DynamicVariable.scala:57)
	at akka.dispatch.Future$$anon$4.run(Future.scala:378)
	at akka.dispatch.TaskInvocation.run(AbstractDispatcher.scala:94)
	at akka.jsr166y.ForkJoinTask$AdaptedRunnableAction.exec(ForkJoinTask.java:1381)
	at akka.jsr166y.ForkJoinTask.doExec(ForkJoinTask.java:259)
	at akka.jsr166y.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:975)
	at akka.jsr166y.ForkJoinPool.runWorker(ForkJoinPool.java:1479)
	at akka.jsr166y.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:104)

[DEBUG] [12/06/2012 00:44:02.201] [pool-4-thread-2] [EventStream(akka://OrdersTrackingSpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:44:02.201] [pool-4-thread-1] [EventStream(akka://BrokerSpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:44:02.203] [pool-4-thread-2] [EventStream(akka://OrdersTrackingSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:44:02.201] [pool-4-thread-3] [EventStream(akka://SessionsTrackingSpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:44:02.203] [pool-4-thread-1] [EventStream(akka://BrokerSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:44:02.203] [pool-4-thread-3] [EventStream(akka://SessionsTrackingSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:44:02.256] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/system/testActor2] started (akka.testkit.TestActor@4d6938)
[DEBUG] [12/06/2012 00:44:02.256] [BrokerSpec-akka.actor.default-dispatcher-3] [akka://BrokerSpec/system/testActor1] started (akka.testkit.TestActor@36f96f)
[DEBUG] [12/06/2012 00:44:02.256] [SessionsTrackingSpec-akka.actor.default-dispatcher-3] [akka://SessionsTrackingSpec/system/testActor3] started (akka.testkit.TestActor@6025bc)
[DEBUG] [12/06/2012 00:44:02.257] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/system] now supervising Actor[akka://OrdersTrackingSpec/system/testActor2]
[DEBUG] [12/06/2012 00:44:02.257] [BrokerSpec-akka.actor.default-dispatcher-3] [akka://BrokerSpec/system] now supervising Actor[akka://BrokerSpec/system/testActor1]
[DEBUG] [12/06/2012 00:44:02.257] [SessionsTrackingSpec-akka.actor.default-dispatcher-3] [akka://SessionsTrackingSpec/system] now supervising Actor[akka://SessionsTrackingSpec/system/testActor3]
[DEBUG] [12/06/2012 00:44:02.586] [SessionsTrackingSpec-akka.actor.default-dispatcher-1] [akka://SessionsTrackingSpec/user] now supervising TestActor[akka://SessionsTrackingSpec/user/SessionsTracking]
[DEBUG] [12/06/2012 00:44:02.601] [SessionsTrackingSpec-akka.actor.default-dispatcher-3] [akka://SessionsTrackingSpec/system/testActor4] started (akka.testkit.TestActor@11dba2a)
[DEBUG] [12/06/2012 00:44:02.602] [SessionsTrackingSpec-akka.actor.default-dispatcher-3] [akka://SessionsTrackingSpec/system] now supervising Actor[akka://SessionsTrackingSpec/system/testActor4]
[DEBUG] [12/06/2012 00:44:02.602] [SessionsTrackingSpec-akka.actor.default-dispatcher-3] [akka://SessionsTrackingSpec/system/testActor5] started (akka.testkit.TestActor@16b8b2e)
[DEBUG] [12/06/2012 00:44:02.602] [SessionsTrackingSpec-akka.actor.default-dispatcher-3] [akka://SessionsTrackingSpec/system] now supervising Actor[akka://SessionsTrackingSpec/system/testActor5]
[INFO] [12/06/2012 00:44:02.639] [pool-4-thread-3] [akka://SessionsTrackingSpec/user/SessionsTracking] Start session tracking
[DEBUG] [12/06/2012 00:44:02.639] [pool-4-thread-3] [akka://SessionsTrackingSpec/user/SessionsTracking] started (com.ergodicity.core.SessionsTracking@3a767)
[DEBUG] [12/06/2012 00:44:02.639] [pool-4-thread-3] [akka://SessionsTrackingSpec/user/SessionsTracking] now supervising Actor[akka://SessionsTrackingSpec/user/SessionsTracking/FutInfoDispatcher]
[DEBUG] [12/06/2012 00:44:02.639] [pool-4-thread-3] [akka://SessionsTrackingSpec/user/SessionsTracking] now supervising Actor[akka://SessionsTrackingSpec/user/SessionsTracking/OptInfoDispatcher]
[DEBUG] [12/06/2012 00:44:02.653] [SessionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://SessionsTrackingSpec/user/SessionsTracking/OptInfoDispatcher] started (com.ergodicity.core.OptInfoDispatcher@9b27b9)
[DEBUG] [12/06/2012 00:44:02.654] [SessionsTrackingSpec-akka.actor.default-dispatcher-1] [akka://SessionsTrackingSpec/user/SessionsTracking/FutInfoDispatcher] started (com.ergodicity.core.FutInfoDispatcher@4ce405)
[DEBUG] [12/06/2012 00:44:02.799] [OrdersTrackingSpec-akka.actor.default-dispatcher-4] [akka://OrdersTrackingSpec/user] now supervising TestActor[akka://OrdersTrackingSpec/user/OrderBooksTracking]
[DEBUG] [12/06/2012 00:44:02.814] [BrokerSpec-akka.actor.default-dispatcher-1] [akka://BrokerSpec/user] now supervising TestActor[akka://BrokerSpec/user/Broker]
[DEBUG] [12/06/2012 00:44:02.834] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/user/OrderBooksTracking/OrderLogDispatcher] started (com.ergodicity.core.order.OrderLogDispatcher@de5f8d)
[DEBUG] [12/06/2012 00:44:02.852] [SessionsTrackingSpec-akka.actor.default-dispatcher-1] [akka://SessionsTrackingSpec/user] now supervising TestActor[akka://SessionsTrackingSpec/user/SessionsTracking]
[DEBUG] [12/06/2012 00:44:02.852] [SessionsTrackingSpec-akka.actor.default-dispatcher-1] [akka://SessionsTrackingSpec/system/testActor6] started (akka.testkit.TestActor@1e44d10)
[DEBUG] [12/06/2012 00:44:02.852] [SessionsTrackingSpec-akka.actor.default-dispatcher-1] [akka://SessionsTrackingSpec/system] now supervising Actor[akka://SessionsTrackingSpec/system/testActor6]
[DEBUG] [12/06/2012 00:44:02.853] [SessionsTrackingSpec-akka.actor.default-dispatcher-1] [akka://SessionsTrackingSpec/system/testActor7] started (akka.testkit.TestActor@34aef5)
[DEBUG] [12/06/2012 00:44:02.853] [SessionsTrackingSpec-akka.actor.default-dispatcher-1] [akka://SessionsTrackingSpec/system] now supervising Actor[akka://SessionsTrackingSpec/system/testActor7]
[INFO] [12/06/2012 00:44:02.854] [pool-4-thread-3] [akka://SessionsTrackingSpec/user/SessionsTracking] Start session tracking
[DEBUG] [12/06/2012 00:44:02.854] [SessionsTrackingSpec-akka.actor.default-dispatcher-4] [akka://SessionsTrackingSpec/user/SessionsTracking/FutInfoDispatcher] started (com.ergodicity.core.FutInfoDispatcher@1e3d2e)
[DEBUG] [12/06/2012 00:44:02.854] [SessionsTrackingSpec-akka.actor.default-dispatcher-3] [akka://SessionsTrackingSpec/user/SessionsTracking/OptInfoDispatcher] started (com.ergodicity.core.OptInfoDispatcher@1429a25)
[DEBUG] [12/06/2012 00:44:02.854] [pool-4-thread-3] [akka://SessionsTrackingSpec/user/SessionsTracking] started (com.ergodicity.core.SessionsTracking@1960953)
[DEBUG] [12/06/2012 00:44:02.854] [pool-4-thread-3] [akka://SessionsTrackingSpec/user/SessionsTracking] now supervising Actor[akka://SessionsTrackingSpec/user/SessionsTracking/FutInfoDispatcher]
[DEBUG] [12/06/2012 00:44:02.854] [pool-4-thread-3] [akka://SessionsTrackingSpec/user/SessionsTracking] now supervising Actor[akka://SessionsTrackingSpec/user/SessionsTracking/OptInfoDispatcher]
[DEBUG] [12/06/2012 00:44:02.855] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrderBooksTracking] started (com.ergodicity.core.order.OrderBooksTracking@276435)
[DEBUG] [12/06/2012 00:44:02.855] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrderBooksTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrderBooksTracking/OrderLogDispatcher]
[DEBUG] [12/06/2012 00:44:02.859] [OrdersTrackingSpec-akka.actor.default-dispatcher-4] [akka://OrdersTrackingSpec/user] now supervising TestActor[akka://OrdersTrackingSpec/user/OrderBooksTracking]
[DEBUG] [12/06/2012 00:44:02.859] [pool-4-thread-1] [akka://BrokerSpec/user/Broker] started (com.ergodicity.core.broker.Broker@1fa9f77)
[DEBUG] [12/06/2012 00:44:02.860] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrderBooksTracking] started (com.ergodicity.core.order.OrderBooksTracking@fb5b5d)
[DEBUG] [12/06/2012 00:44:02.860] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrderBooksTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrderBooksTracking/OrderLogDispatcher]
[INFO] [12/06/2012 00:44:02.861] [pool-4-thread-1] [akka://BrokerSpec/system/testActor1] State: Closed
[DEBUG] [12/06/2012 00:44:02.862] [BrokerSpec-akka.actor.default-dispatcher-2] [akka://BrokerSpec/user] now supervising TestActor[akka://BrokerSpec/user/Broker]
[DEBUG] [12/06/2012 00:44:02.862] [pool-4-thread-1] [akka://BrokerSpec/user/Broker] started (com.ergodicity.core.broker.Broker@568efe)
[DEBUG] [12/06/2012 00:44:02.864] [OrdersTrackingSpec-akka.actor.default-dispatcher-4] [akka://OrdersTrackingSpec/user/OrderBooksTracking/OrderLogDispatcher] started (com.ergodicity.core.order.OrderLogDispatcher@1b8a27f)
[DEBUG] [12/06/2012 00:44:02.875] [BrokerSpec-akka.actor.default-dispatcher-2] [akka://BrokerSpec/user] now supervising TestActor[akka://BrokerSpec/user/Broker]
[DEBUG] [12/06/2012 00:44:02.875] [pool-4-thread-1] [akka://BrokerSpec/user/Broker] started (com.ergodicity.core.broker.Broker@26d7a9)
[INFO] [12/06/2012 00:44:02.875] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrderBooksTracking] Assigned contents; Size = 2
[DEBUG] [12/06/2012 00:44:02.875] [pool-4-thread-1] [akka://BrokerSpec/system/testActor1] now monitoring TestActor[akka://BrokerSpec/user/Broker]
[DEBUG] [12/06/2012 00:44:02.876] [SessionsTrackingSpec-akka.actor.default-dispatcher-6] [akka://SessionsTrackingSpec/user] now supervising TestActor[akka://SessionsTrackingSpec/user/SessionsTracking]
[DEBUG] [12/06/2012 00:44:02.876] [SessionsTrackingSpec-akka.actor.default-dispatcher-5] [akka://SessionsTrackingSpec/system/testActor8] started (akka.testkit.TestActor@38bb93)
[DEBUG] [12/06/2012 00:44:02.876] [SessionsTrackingSpec-akka.actor.default-dispatcher-5] [akka://SessionsTrackingSpec/system] now supervising Actor[akka://SessionsTrackingSpec/system/testActor8]
[DEBUG] [12/06/2012 00:44:02.877] [SessionsTrackingSpec-akka.actor.default-dispatcher-6] [akka://SessionsTrackingSpec/system/testActor9] started (akka.testkit.TestActor@1ba2e9f)
[DEBUG] [12/06/2012 00:44:02.877] [SessionsTrackingSpec-akka.actor.default-dispatcher-6] [akka://SessionsTrackingSpec/system] now supervising Actor[akka://SessionsTrackingSpec/system/testActor9]
[INFO] [12/06/2012 00:44:02.878] [pool-4-thread-3] [akka://SessionsTrackingSpec/user/SessionsTracking] Start session tracking
[DEBUG] [12/06/2012 00:44:02.878] [SessionsTrackingSpec-akka.actor.default-dispatcher-4] [akka://SessionsTrackingSpec/user/SessionsTracking/FutInfoDispatcher] started (com.ergodicity.core.FutInfoDispatcher@48b1c9)
[DEBUG] [12/06/2012 00:44:02.878] [pool-4-thread-3] [akka://SessionsTrackingSpec/user/SessionsTracking] started (com.ergodicity.core.SessionsTracking@175c659)
[DEBUG] [12/06/2012 00:44:02.878] [SessionsTrackingSpec-akka.actor.default-dispatcher-5] [akka://SessionsTrackingSpec/user/SessionsTracking/OptInfoDispatcher] started (com.ergodicity.core.OptInfoDispatcher@b4e3fe)
[DEBUG] [12/06/2012 00:44:02.878] [pool-4-thread-3] [akka://SessionsTrackingSpec/user/SessionsTracking] now supervising Actor[akka://SessionsTrackingSpec/user/SessionsTracking/FutInfoDispatcher]
[DEBUG] [12/06/2012 00:44:02.879] [pool-4-thread-3] [akka://SessionsTrackingSpec/user/SessionsTracking] now supervising Actor[akka://SessionsTrackingSpec/user/SessionsTracking/OptInfoDispatcher]
[WARN] [12/06/2012 00:44:02.884] [pool-4-thread-1] [akka://BrokerSpec/user/Broker] unhandled event Close in state Closed
[DEBUG] [12/06/2012 00:44:02.885] [BrokerSpec-akka.actor.default-dispatcher-1] [akka://BrokerSpec/user] now supervising TestActor[akka://BrokerSpec/user/Broker]
[DEBUG] [12/06/2012 00:44:02.885] [pool-4-thread-1] [akka://BrokerSpec/user/Broker] started (com.ergodicity.core.broker.Broker@1bf0c4b)
[DEBUG] [12/06/2012 00:44:02.890] [SessionsTrackingSpec-akka.actor.default-dispatcher-6] [akka://SessionsTrackingSpec/user] now supervising TestActor[akka://SessionsTrackingSpec/user/SessionsTracking]
[INFO] [12/06/2012 00:44:02.890] [pool-4-thread-1] [akka://BrokerSpec/user/Broker] Opening publisher
[DEBUG] [12/06/2012 00:44:02.890] [SessionsTrackingSpec-akka.actor.default-dispatcher-5] [akka://SessionsTrackingSpec/system/testActor10] started (akka.testkit.TestActor@b16c32)
[DEBUG] [12/06/2012 00:44:02.890] [SessionsTrackingSpec-akka.actor.default-dispatcher-5] [akka://SessionsTrackingSpec/system] now supervising Actor[akka://SessionsTrackingSpec/system/testActor10]
[DEBUG] [12/06/2012 00:44:02.891] [SessionsTrackingSpec-akka.actor.default-dispatcher-3] [akka://SessionsTrackingSpec/system/testActor11] started (akka.testkit.TestActor@34958b)
[DEBUG] [12/06/2012 00:44:02.891] [SessionsTrackingSpec-akka.actor.default-dispatcher-3] [akka://SessionsTrackingSpec/system] now supervising Actor[akka://SessionsTrackingSpec/system/testActor11]
[INFO] [12/06/2012 00:44:02.891] [pool-4-thread-3] [akka://SessionsTrackingSpec/user/SessionsTracking] Start session tracking
[DEBUG] [12/06/2012 00:44:02.892] [pool-4-thread-3] [akka://SessionsTrackingSpec/user/SessionsTracking] started (com.ergodicity.core.SessionsTracking@112c62c)
[DEBUG] [12/06/2012 00:44:02.892] [pool-4-thread-3] [akka://SessionsTrackingSpec/user/SessionsTracking] now supervising Actor[akka://SessionsTrackingSpec/user/SessionsTracking/FutInfoDispatcher]
[DEBUG] [12/06/2012 00:44:02.892] [SessionsTrackingSpec-akka.actor.default-dispatcher-4] [akka://SessionsTrackingSpec/user/SessionsTracking/FutInfoDispatcher] started (com.ergodicity.core.FutInfoDispatcher@16587f4)
[DEBUG] [12/06/2012 00:44:02.892] [pool-4-thread-3] [akka://SessionsTrackingSpec/user/SessionsTracking] now supervising Actor[akka://SessionsTrackingSpec/user/SessionsTracking/OptInfoDispatcher]
[DEBUG] [12/06/2012 00:44:02.892] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/user/OrderBooksTracking/100] started (com.ergodicity.core.order.SessionOrderBooksTracking@ed3870)
[DEBUG] [12/06/2012 00:44:02.894] [SessionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://SessionsTrackingSpec/user/SessionsTracking/OptInfoDispatcher] started (com.ergodicity.core.OptInfoDispatcher@1d5f6c0)
[DEBUG] [12/06/2012 00:44:02.895] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/user/OrderBooksTracking/100] now supervising Actor[akka://OrdersTrackingSpec/user/OrderBooksTracking/100/RTS-9.12]
[DEBUG] [12/06/2012 00:44:02.899] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrderBooksTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrderBooksTracking/100]
[INFO] [12/06/2012 00:44:02.905] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/user/OrderBooksTracking/100/RTS-9.12] Start OrderBook for security = FutureContract(IsinId(1),Isin(RTS-9.12),ShortIsisn(),Future contract)
[DEBUG] [12/06/2012 00:44:02.905] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/user/OrderBooksTracking/100/RTS-9.12] started (com.ergodicity.core.order.OrderBookActor@1814946)
[DEBUG] [12/06/2012 00:44:02.906] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/user/OrderBooksTracking/100/RTS-9.12] Create new order, id = 1, noSystem = false
[DEBUG] [12/06/2012 00:44:02.909] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/user/OrderBooksTracking/100/RTS-9.12] now supervising Actor[akka://OrdersTrackingSpec/user/OrderBooksTracking/100/RTS-9.12/1]
[DEBUG] [12/06/2012 00:44:03.164] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/user/OrderBooksTracking/100/RTS-9.12/1] started (com.ergodicity.core.order.OrderActor@1a66c50)
[DEBUG] [12/06/2012 00:44:03.175] [BrokerSpec-akka.actor.default-dispatcher-1] [akka://BrokerSpec/user] now supervising TestActor[akka://BrokerSpec/user/Broker]
[DEBUG] [12/06/2012 00:44:03.175] [pool-4-thread-1] [akka://BrokerSpec/user/Broker] started (com.ergodicity.core.broker.Broker@18a020e)
[INFO] [12/06/2012 00:44:03.176] [pool-4-thread-1] [akka://BrokerSpec/user/Broker] Publisher opened
[DEBUG] [12/06/2012 00:44:03.184] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/user/OrderBooksTracking/100/RTS-9.12] stopping
[DEBUG] [12/06/2012 00:44:03.184] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrderBooksTracking] stopping
[DEBUG] [12/06/2012 00:44:03.185] [OrdersTrackingSpec-akka.actor.default-dispatcher-4] [akka://OrdersTrackingSpec/user/OrderBooksTracking/100] stopping
00:44:03.182 [pool-4-thread-4] INFO  c.e.schema.ErgodicitySchemaSpec - Selected = Session(sess_id=100, opt_sess_id=100)
00:44:03.186 [pool-4-thread-4] INFO  c.e.schema.ErgodicitySchemaSpec - Session  = Session(sess_id=100, opt_sess_id=100)
[DEBUG] [12/06/2012 00:44:03.186] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/user/OrderBooksTracking/OrderLogDispatcher] stopped
[DEBUG] [12/06/2012 00:44:03.189] [pool-4-thread-1] [akka://BrokerSpec/user/Broker] Execute command: AddOrder(Isin(isin),1,100,GoodTillCancelled,Buy)
[DEBUG] [12/06/2012 00:44:03.190] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/user/OrderBooksTracking/100/RTS-9.12/1] stopped
[DEBUG] [12/06/2012 00:44:03.191] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/user/OrderBooksTracking/100/RTS-9.12] stopped
[INFO] [12/06/2012 00:44:03.195] [pool-4-thread-3] [akka://SessionsTrackingSpec/user/SessionsTracking] Synchonized event = SynchronizedEvent(SessionDataReady(1,100),SessionDataReady(1,200))
[DEBUG] [12/06/2012 00:44:03.199] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/user/OrderBooksTracking] stopped
[DEBUG] [12/06/2012 00:44:03.200] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/user/OrderBooksTracking/100] stopped
00:44:03.208 [pool-4-thread-4] INFO  c.e.schema.ErgodicitySchemaSpec - Updated = Session(sess_id=100, opt_sess_id=100)
[DEBUG] [12/06/2012 00:44:03.221] [SessionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://SessionsTrackingSpec/user/SessionsTracking/100/IntradayClearing] started (com.ergodicity.core.session.IntradayClearing@590eb5)
[INFO] [12/06/2012 00:44:03.224] [SessionsTrackingSpec-akka.actor.default-dispatcher-6] [akka://SessionsTrackingSpec/user/SessionsTracking/100/Options] Start SessionContents
[DEBUG] [12/06/2012 00:44:03.224] [SessionsTrackingSpec-akka.actor.default-dispatcher-6] [akka://SessionsTrackingSpec/user/SessionsTracking/100/Options] started (com.ergodicity.core.session.SessionActor$$anonfun$5$$anon$2@150d669)
[DEBUG] [12/06/2012 00:44:03.224] [pool-4-thread-3] [akka://SessionsTrackingSpec/user/SessionsTracking] now supervising Actor[akka://SessionsTrackingSpec/user/SessionsTracking/100]
[INFO] [12/06/2012 00:44:03.226] [SessionsTrackingSpec-akka.actor.default-dispatcher-1] [akka://SessionsTrackingSpec/user/SessionsTracking/100/Futures] Start SessionContents
[DEBUG] [12/06/2012 00:44:03.226] [SessionsTrackingSpec-akka.actor.default-dispatcher-1] [akka://SessionsTrackingSpec/user/SessionsTracking/100/Futures] started (com.ergodicity.core.session.SessionActor$$anonfun$4$$anon$1@1a04301)
[DEBUG] [12/06/2012 00:44:03.241] [SessionsTrackingSpec-akka.actor.default-dispatcher-5] [akka://SessionsTrackingSpec/user/SessionsTracking/100] started (SessionActor(Session(SessionId(100,200),2012-12-06T00:44:03.164/2012-12-06T00:44:03.164,None,None,2012-12-06T00:44:03.164/2012-12-06T00:44:03.164)))
[DEBUG] [12/06/2012 00:44:03.242] [SessionsTrackingSpec-akka.actor.default-dispatcher-5] [akka://SessionsTrackingSpec/user/SessionsTracking/100] now supervising Actor[akka://SessionsTrackingSpec/user/SessionsTracking/100/IntradayClearing]
[DEBUG] [12/06/2012 00:44:03.242] [SessionsTrackingSpec-akka.actor.default-dispatcher-5] [akka://SessionsTrackingSpec/user/SessionsTracking/100] now supervising Actor[akka://SessionsTrackingSpec/user/SessionsTracking/100/Futures]
[DEBUG] [12/06/2012 00:44:03.242] [SessionsTrackingSpec-akka.actor.default-dispatcher-5] [akka://SessionsTrackingSpec/user/SessionsTracking/100] now supervising Actor[akka://SessionsTrackingSpec/user/SessionsTracking/100/Options]
[DEBUG] [12/06/2012 00:44:03.242] [SessionsTrackingSpec-akka.actor.default-dispatcher-5] [akka://SessionsTrackingSpec/user/SessionsTracking/100] processing Event(Assigned,()) from TestActor[akka://SessionsTrackingSpec/user/SessionsTracking]
[DEBUG] [12/06/2012 00:44:03.242] [SessionsTrackingSpec-akka.actor.default-dispatcher-5] [akka://SessionsTrackingSpec/user/SessionsTracking/100] processing Event(Oncoming,()) from TestActor[akka://SessionsTrackingSpec/user/SessionsTracking]
[DEBUG] [12/06/2012 00:44:03.243] [SessionsTrackingSpec-akka.actor.default-dispatcher-5] [akka://SessionsTrackingSpec/user/SessionsTracking/100] processing Event(FutSessContents(100,FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future Contract),FutureParameters(100,Limits(100,100)),Assigned),()) from TestActor[akka://SessionsTrackingSpec/user/SessionsTracking]
[DEBUG] [12/06/2012 00:44:03.243] [SessionsTrackingSpec-akka.actor.default-dispatcher-5] [akka://SessionsTrackingSpec/user/SessionsTracking/100] processing Event(OptSessContents(200,OptionContract(IsinId(160734),Isin(RTS-6.12M150612PA 175000),ShortIsisn(RI175000BR2),Option Contract),OptionParameters(100)),()) from TestActor[akka://SessionsTrackingSpec/user/SessionsTracking]
[DEBUG] [12/06/2012 00:44:03.243] [SessionsTrackingSpec-akka.actor.default-dispatcher-1] [akka://SessionsTrackingSpec/user/SessionsTracking/100/IntradayClearing] processing Event(Oncoming,()) from Actor[akka://SessionsTrackingSpec/user/SessionsTracking/100]
[DEBUG] [12/06/2012 00:44:03.243] [SessionsTrackingSpec-akka.actor.default-dispatcher-1] [akka://SessionsTrackingSpec/user/SessionsTracking/100/IntradayClearing] transition Undefined -> Oncoming
[DEBUG] [12/06/2012 00:44:03.248] [SessionsTrackingSpec-akka.actor.default-dispatcher-5] [akka://SessionsTrackingSpec/user/SessionsTracking/100/Futures] now supervising Actor[akka://SessionsTrackingSpec/user/SessionsTracking/100/Futures/GMKR-6.12]
[DEBUG] [12/06/2012 00:44:03.248] [SessionsTrackingSpec-akka.actor.default-dispatcher-4] [akka://SessionsTrackingSpec/user/SessionsTracking/100/Options] now supervising Actor[akka://SessionsTrackingSpec/user/SessionsTracking/100/Options/RTS-6.12M150612PA@175000]
[INFO] [12/06/2012 00:44:03.257] [SessionsTrackingSpec-akka.actor.default-dispatcher-7] [akka://SessionsTrackingSpec/user/SessionsTracking/100/Futures/GMKR-6.12] Started instrument for security = FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future Contract)
[DEBUG] [12/06/2012 00:44:03.257] [SessionsTrackingSpec-akka.actor.default-dispatcher-7] [akka://SessionsTrackingSpec/user/SessionsTracking/100/Futures/GMKR-6.12] started (com.ergodicity.core.session.FutureInstrument@1ba736a)
[INFO] [12/06/2012 00:44:03.257] [SessionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://SessionsTrackingSpec/user/SessionsTracking/100/Options/RTS-6.12M150612PA@175000] Started instrument for security = OptionContract(IsinId(160734),Isin(RTS-6.12M150612PA 175000),ShortIsisn(RI175000BR2),Option Contract)
[DEBUG] [12/06/2012 00:44:03.258] [SessionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://SessionsTrackingSpec/user/SessionsTracking/100/Options/RTS-6.12M150612PA@175000] started (com.ergodicity.core.session.OptionInstrument@1ef360f)
[DEBUG] [12/06/2012 00:44:03.258] [SessionsTrackingSpec-akka.actor.default-dispatcher-7] [akka://SessionsTrackingSpec/user/SessionsTracking/100/Futures/GMKR-6.12] processing Event(FutureParameters(100,Limits(100,100)),None) from Actor[akka://SessionsTrackingSpec/user/SessionsTracking/100/Futures]
[DEBUG] [12/06/2012 00:44:03.258] [SessionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://SessionsTrackingSpec/user/SessionsTracking/100/Options/RTS-6.12M150612PA@175000] processing Event(OptionParameters(100),None) from Actor[akka://SessionsTrackingSpec/user/SessionsTracking/100/Options]
[DEBUG] [12/06/2012 00:44:03.258] [SessionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://SessionsTrackingSpec/user/SessionsTracking/100/Options/RTS-6.12M150612PA@175000] processing Event(Suspended,Some(OptionParameters(100))) from Actor[akka://SessionsTrackingSpec/user/SessionsTracking/100/Options]
[DEBUG] [12/06/2012 00:44:03.258] [SessionsTrackingSpec-akka.actor.default-dispatcher-7] [akka://SessionsTrackingSpec/user/SessionsTracking/100/Futures/GMKR-6.12] processing Event(Suspended,Some(FutureParameters(100,Limits(100,100)))) from Actor[akka://SessionsTrackingSpec/user/SessionsTracking/100/Futures]
[DEBUG] [12/06/2012 00:44:03.258] [SessionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://SessionsTrackingSpec/user/SessionsTracking/100/Options/RTS-6.12M150612PA@175000] processing Event(Assigned,Some(OptionParameters(100))) from Actor[akka://SessionsTrackingSpec/user/SessionsTracking/100/Options]
[DEBUG] [12/06/2012 00:44:03.259] [SessionsTrackingSpec-akka.actor.default-dispatcher-7] [akka://SessionsTrackingSpec/user/SessionsTracking/100/Futures/GMKR-6.12] processing Event(Assigned,Some(FutureParameters(100,Limits(100,100)))) from Actor[akka://SessionsTrackingSpec/user/SessionsTracking/100/Futures]
[DEBUG] [12/06/2012 00:44:03.259] [SessionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://SessionsTrackingSpec/user/SessionsTracking/100/Options/RTS-6.12M150612PA@175000] transition Suspended -> Assigned
[DEBUG] [12/06/2012 00:44:03.259] [SessionsTrackingSpec-akka.actor.default-dispatcher-7] [akka://SessionsTrackingSpec/user/SessionsTracking/100/Futures/GMKR-6.12] transition Suspended -> Assigned
[DEBUG] [12/06/2012 00:44:03.287] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/user] now supervising TestActor[akka://OrdersTrackingSpec/user/OrderBooksTracking]
[DEBUG] [12/06/2012 00:44:03.287] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrderBooksTracking] started (com.ergodicity.core.order.OrderBooksTracking@1a7a9b1)
[DEBUG] [12/06/2012 00:44:03.287] [OrdersTrackingSpec-akka.actor.default-dispatcher-4] [akka://OrdersTrackingSpec/user/OrderBooksTracking/OrderLogDispatcher] started (com.ergodicity.core.order.OrderLogDispatcher@75e1dc)
[DEBUG] [12/06/2012 00:44:03.287] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrderBooksTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrderBooksTracking/OrderLogDispatcher]
[INFO] [12/06/2012 00:44:03.288] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrderBooksTracking] Assigned contents; Size = 2
[DEBUG] [12/06/2012 00:44:03.288] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/user/OrderBooksTracking/100] started (com.ergodicity.core.order.SessionOrderBooksTracking@1e6b4bd)
[DEBUG] [12/06/2012 00:44:03.289] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrderBooksTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrderBooksTracking/100]
[DEBUG] [12/06/2012 00:44:03.289] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/user/OrderBooksTracking/100] now supervising Actor[akka://OrdersTrackingSpec/user/OrderBooksTracking/100/RTS-9.12]
[INFO] [12/06/2012 00:44:03.289] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/user/OrderBooksTracking/100/RTS-9.12] Start OrderBook for security = FutureContract(IsinId(1),Isin(RTS-9.12),ShortIsisn(),Future contract)
[DEBUG] [12/06/2012 00:44:03.289] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/user/OrderBooksTracking/100/RTS-9.12] started (com.ergodicity.core.order.OrderBookActor@163f5ae)
[DEBUG] [12/06/2012 00:44:03.289] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/user/OrderBooksTracking/100/RTS-9.12] Create new order, id = 1, noSystem = false
[DEBUG] [12/06/2012 00:44:03.289] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/user/OrderBooksTracking/100/RTS-9.12] now supervising Actor[akka://OrdersTrackingSpec/user/OrderBooksTracking/100/RTS-9.12/1]
[DEBUG] [12/06/2012 00:44:03.289] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/user/OrderBooksTracking/100/RTS-9.12/1] started (com.ergodicity.core.order.OrderActor@1968bd7)
[DEBUG] [12/06/2012 00:44:03.289] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/user/OrderBooksTracking/100/RTS-9.12] Fill order, id = 1, amount = 1, rest = 0, deal = None
[DEBUG] [12/06/2012 00:44:03.290] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/user/OrderBooksTracking/100/RTS-9.12/1] Order filled
[DEBUG] [12/06/2012 00:44:03.293] [OrdersTrackingSpec-akka.actor.default-dispatcher-4] [akka://OrdersTrackingSpec/user/OrderBooksTracking/100/RTS-9.12/1] stopped
[DEBUG] [12/06/2012 00:44:03.317] [BrokerSpec-akka.actor.default-dispatcher-1] [akka://BrokerSpec/user] now supervising TestActor[akka://BrokerSpec/user/Broker]
[DEBUG] [12/06/2012 00:44:03.317] [pool-4-thread-1] [akka://BrokerSpec/user/Broker] started (com.ergodicity.core.broker.Broker@9a0a61)
[INFO] [12/06/2012 00:44:03.317] [pool-4-thread-1] [akka://BrokerSpec/user/Broker] Publisher opened
[DEBUG] [12/06/2012 00:44:03.317] [pool-4-thread-1] [akka://BrokerSpec/user/Broker] Execute command: AddOrder(Isin(isin),1,100,GoodTillCancelled,Buy)
[DEBUG] [12/06/2012 00:44:03.320] [BrokerSpec-akka.actor.default-dispatcher-2] [akka://BrokerSpec/user] now supervising TestActor[akka://BrokerSpec/user/Broker]
[DEBUG] [12/06/2012 00:44:03.321] [pool-4-thread-1] [akka://BrokerSpec/user/Broker] started (com.ergodicity.core.broker.Broker@8a6017)
[INFO] [12/06/2012 00:44:03.321] [pool-4-thread-1] [akka://BrokerSpec/user/Broker] Publisher opened
[DEBUG] [12/06/2012 00:44:03.321] [pool-4-thread-1] [akka://BrokerSpec/user/Broker] Execute command: AddOrder(Isin(isin),1,100,GoodTillCancelled,Buy)
[DEBUG] [12/06/2012 00:44:03.325] [pool-4-thread-3] [akka://SessionsTrackingSpec/system/testActor3] now monitoring Actor[akka://SessionsTrackingSpec/user/SessionsTracking/100]
[DEBUG] [12/06/2012 00:44:03.329] [SessionsTrackingSpec-akka.actor.default-dispatcher-4] [akka://SessionsTrackingSpec/user/SessionsTracking/100] processing Event(GetAssignedContents,()) from Actor[akka://SessionsTrackingSpec/temp/$a]
[DEBUG] [12/06/2012 00:44:03.330] [BrokerSpec-akka.actor.default-dispatcher-2] [akka://BrokerSpec/user] now supervising TestActor[akka://BrokerSpec/user/Broker]
[DEBUG] [12/06/2012 00:44:03.330] [pool-4-thread-1] [akka://BrokerSpec/user/Broker] started (com.ergodicity.core.broker.Broker@1a96a03)
[INFO] [12/06/2012 00:44:03.330] [pool-4-thread-1] [akka://BrokerSpec/user/Broker] Publisher opened
[DEBUG] [12/06/2012 00:44:03.330] [pool-4-thread-1] [akka://BrokerSpec/user/Broker] Execute command: AddOrder(Isin(isin),1,100,GoodTillCancelled,Buy)
[DEBUG] [12/06/2012 00:44:03.334] [BrokerSpec-akka.actor.default-dispatcher-2] [akka://BrokerSpec/user] now supervising TestActor[akka://BrokerSpec/user/Broker]
[DEBUG] [12/06/2012 00:44:03.335] [pool-4-thread-1] [akka://BrokerSpec/user/Broker] started (com.ergodicity.core.broker.Broker@49fe9b)
[INFO] [12/06/2012 00:44:03.335] [pool-4-thread-1] [akka://BrokerSpec/user/Broker] Publisher opened
[DEBUG] [12/06/2012 00:44:03.335] [pool-4-thread-1] [akka://BrokerSpec/user/Broker] Execute command: AddOrder(Isin(isin),1,100,GoodTillCancelled,Buy)
[info] BrokerSpec:
[info] Broker 
[info] - must be initialized in Closed state
[info] - must fail on Publisher gone to Error state
[info] - must return to Closed state after Close broker sent
[info] - must fail on FSM.StateTimeout in Opening state
[info] - must execute market command
[info] - must handle Timeout failures
[info] - must handle Flood failures
[info] - must handle Error failures
[info] - must handle order response
[INFO] [12/06/2012 00:44:03.340] [pool-4-thread-3] [akka://SessionsTrackingSpec/system/testActor3] Assigned contents = AssignedContents(Set(FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future Contract), OptionContract(IsinId(160734),Isin(RTS-6.12M150612PA 175000),ShortIsisn(RI175000BR2),Option Contract)))
[INFO] [12/06/2012 00:44:03.343] [pool-4-thread-3] [akka://SessionsTrackingSpec/user/SessionsTracking] Synchonized event = SynchronizedEvent(SessionDataReady(2,101),SessionDataReady(2,201))
[DEBUG] [12/06/2012 00:44:03.343] [SessionsTrackingSpec-akka.actor.default-dispatcher-7] [akka://SessionsTrackingSpec/user/SessionsTracking/101/IntradayClearing] started (com.ergodicity.core.session.IntradayClearing@ca185c)
[DEBUG] [12/06/2012 00:44:03.343] [SessionsTrackingSpec-akka.actor.default-dispatcher-5] [akka://SessionsTrackingSpec/user/SessionsTracking/101] started (SessionActor(Session(SessionId(101,201),2012-12-06T00:44:03.340/2012-12-06T00:44:03.340,None,None,2012-12-06T00:44:03.340/2012-12-06T00:44:03.340)))
[INFO] [12/06/2012 00:44:03.343] [SessionsTrackingSpec-akka.actor.default-dispatcher-7] [akka://SessionsTrackingSpec/user/SessionsTracking/101/Futures] Start SessionContents
[ERROR] [12/06/2012 00:44:03.344] [BrokerSpec-akka.actor.default-dispatcher-1] [akka://BrokerSpec/user/Broker] Publisher failed, reason = Shutdown
[DEBUG] [12/06/2012 00:44:03.344] [SessionsTrackingSpec-akka.actor.default-dispatcher-7] [akka://SessionsTrackingSpec/user/SessionsTracking/101/Futures] started (com.ergodicity.core.session.SessionActor$$anonfun$4$$anon$1@575c3)
[DEBUG] [12/06/2012 00:44:03.344] [SessionsTrackingSpec-akka.actor.default-dispatcher-5] [akka://SessionsTrackingSpec/user/SessionsTracking/101] now supervising Actor[akka://SessionsTrackingSpec/user/SessionsTracking/101/IntradayClearing]
[INFO] [12/06/2012 00:44:03.345] [SessionsTrackingSpec-akka.actor.default-dispatcher-7] [akka://SessionsTrackingSpec/user/SessionsTracking/101/Options] Start SessionContents
[DEBUG] [12/06/2012 00:44:03.345] [SessionsTrackingSpec-akka.actor.default-dispatcher-5] [akka://SessionsTrackingSpec/user/SessionsTracking/101] now supervising Actor[akka://SessionsTrackingSpec/user/SessionsTracking/101/Futures]
[DEBUG] [12/06/2012 00:44:03.345] [SessionsTrackingSpec-akka.actor.default-dispatcher-7] [akka://SessionsTrackingSpec/user/SessionsTracking/101/Options] started (com.ergodicity.core.session.SessionActor$$anonfun$5$$anon$2@766bc9)
[DEBUG] [12/06/2012 00:44:03.345] [SessionsTrackingSpec-akka.actor.default-dispatcher-5] [akka://SessionsTrackingSpec/user/SessionsTracking/101] now supervising Actor[akka://SessionsTrackingSpec/user/SessionsTracking/101/Options]
[DEBUG] [12/06/2012 00:44:03.345] [SessionsTrackingSpec-akka.actor.default-dispatcher-5] [akka://SessionsTrackingSpec/user/SessionsTracking/101] processing Event(Assigned,()) from TestActor[akka://SessionsTrackingSpec/user/SessionsTracking]
[DEBUG] [12/06/2012 00:44:03.345] [SessionsTrackingSpec-akka.actor.default-dispatcher-5] [akka://SessionsTrackingSpec/user/SessionsTracking/101] processing Event(Oncoming,()) from TestActor[akka://SessionsTrackingSpec/user/SessionsTracking]
[DEBUG] [12/06/2012 00:44:03.345] [SessionsTrackingSpec-akka.actor.default-dispatcher-5] [akka://SessionsTrackingSpec/user/SessionsTracking/101] processing Event(FutSessContents(101,FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future Contract),FutureParameters(100,Limits(100,100)),Assigned),()) from TestActor[akka://SessionsTrackingSpec/user/SessionsTracking]
[DEBUG] [12/06/2012 00:44:03.345] [SessionsTrackingSpec-akka.actor.default-dispatcher-5] [akka://SessionsTrackingSpec/user/SessionsTracking/101] processing Event(OptSessContents(201,OptionContract(IsinId(160734),Isin(RTS-6.12M150612PA 175000),ShortIsisn(RI175000BR2),Option Contract),OptionParameters(100)),()) from TestActor[akka://SessionsTrackingSpec/user/SessionsTracking]
[DEBUG] [12/06/2012 00:44:03.345] [pool-4-thread-3] [akka://SessionsTrackingSpec/user/SessionsTracking] now supervising Actor[akka://SessionsTrackingSpec/user/SessionsTracking/101]
[DEBUG] [12/06/2012 00:44:03.346] [SessionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://SessionsTrackingSpec/user/SessionsTracking/101/IntradayClearing] processing Event(Oncoming,()) from Actor[akka://SessionsTrackingSpec/user/SessionsTracking/101]
[DEBUG] [12/06/2012 00:44:03.346] [SessionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://SessionsTrackingSpec/user/SessionsTracking/101/IntradayClearing] transition Undefined -> Oncoming
[INFO] [12/06/2012 00:44:03.346] [SessionsTrackingSpec-akka.actor.default-dispatcher-3] [akka://SessionsTrackingSpec/user/SessionsTracking/101/Options/RTS-6.12M150612PA@175000] Started instrument for security = OptionContract(IsinId(160734),Isin(RTS-6.12M150612PA 175000),ShortIsisn(RI175000BR2),Option Contract)
[DEBUG] [12/06/2012 00:44:03.346] [SessionsTrackingSpec-akka.actor.default-dispatcher-3] [akka://SessionsTrackingSpec/user/SessionsTracking/101/Options/RTS-6.12M150612PA@175000] started (com.ergodicity.core.session.OptionInstrument@f97d40)
[DEBUG] [12/06/2012 00:44:03.346] [SessionsTrackingSpec-akka.actor.default-dispatcher-5] [akka://SessionsTrackingSpec/user/SessionsTracking/101/Futures] now supervising Actor[akka://SessionsTrackingSpec/user/SessionsTracking/101/Futures/GMKR-6.12]
[DEBUG] [12/06/2012 00:44:03.346] [SessionsTrackingSpec-akka.actor.default-dispatcher-3] [akka://SessionsTrackingSpec/user/SessionsTracking/100] stopping
[DEBUG] [12/06/2012 00:44:03.346] [SessionsTrackingSpec-akka.actor.default-dispatcher-3] [akka://SessionsTrackingSpec/user/SessionsTracking/100/Futures] stopping
[INFO] [12/06/2012 00:44:03.346] [SessionsTrackingSpec-akka.actor.default-dispatcher-5] [akka://SessionsTrackingSpec/user/SessionsTracking/101/Futures/GMKR-6.12] Started instrument for security = FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future Contract)
[DEBUG] [12/06/2012 00:44:03.346] [SessionsTrackingSpec-akka.actor.default-dispatcher-5] [akka://SessionsTrackingSpec/user/SessionsTracking/101/Futures/GMKR-6.12] started (com.ergodicity.core.session.FutureInstrument@14b57f0)
[DEBUG] [12/06/2012 00:44:03.346] [SessionsTrackingSpec-akka.actor.default-dispatcher-3] [akka://SessionsTrackingSpec/user/SessionsTracking/100/IntradayClearing] stopped
[DEBUG] [12/06/2012 00:44:03.347] [SessionsTrackingSpec-akka.actor.default-dispatcher-5] [akka://SessionsTrackingSpec/user/SessionsTracking/101/Futures/GMKR-6.12] processing Event(FutureParameters(100,Limits(100,100)),None) from Actor[akka://SessionsTrackingSpec/user/SessionsTracking/101/Futures]
[DEBUG] [12/06/2012 00:44:03.347] [SessionsTrackingSpec-akka.actor.default-dispatcher-5] [akka://SessionsTrackingSpec/user/SessionsTracking/101/Futures/GMKR-6.12] processing Event(Suspended,Some(FutureParameters(100,Limits(100,100)))) from Actor[akka://SessionsTrackingSpec/user/SessionsTracking/101/Futures]
[DEBUG] [12/06/2012 00:44:03.347] [SessionsTrackingSpec-akka.actor.default-dispatcher-5] [akka://SessionsTrackingSpec/user/SessionsTracking/101/Futures/GMKR-6.12] processing Event(Assigned,Some(FutureParameters(100,Limits(100,100)))) from Actor[akka://SessionsTrackingSpec/user/SessionsTracking/101/Futures]
[DEBUG] [12/06/2012 00:44:03.347] [SessionsTrackingSpec-akka.actor.default-dispatcher-5] [akka://SessionsTrackingSpec/user/SessionsTracking/101/Futures/GMKR-6.12] transition Suspended -> Assigned
[DEBUG] [12/06/2012 00:44:03.347] [SessionsTrackingSpec-akka.actor.default-dispatcher-1] [akka://SessionsTrackingSpec/user/SessionsTracking/100/Options] stopping
[DEBUG] [12/06/2012 00:44:03.347] [SessionsTrackingSpec-akka.actor.default-dispatcher-3] [akka://SessionsTrackingSpec/user/SessionsTracking/100/Options/RTS-6.12M150612PA@175000] stopped
[DEBUG] [12/06/2012 00:44:03.347] [SessionsTrackingSpec-akka.actor.default-dispatcher-1] [akka://SessionsTrackingSpec/user/SessionsTracking/100/Options] stopped
[DEBUG] [12/06/2012 00:44:03.348] [SessionsTrackingSpec-akka.actor.default-dispatcher-3] [akka://SessionsTrackingSpec/user/SessionsTracking/100/Futures/GMKR-6.12] stopped
[DEBUG] [12/06/2012 00:44:03.348] [SessionsTrackingSpec-akka.actor.default-dispatcher-1] [akka://SessionsTrackingSpec/user/SessionsTracking/100/Futures] stopped
[DEBUG] [12/06/2012 00:44:03.348] [BrokerSpec-akka.actor.default-dispatcher-1] [akka://BrokerSpec/user/Broker] stopped
[DEBUG] [12/06/2012 00:44:03.348] [BrokerSpec-akka.actor.default-dispatcher-1] [akka://BrokerSpec/user] stopping
[DEBUG] [12/06/2012 00:44:03.348] [BrokerSpec-akka.actor.default-dispatcher-1] [akka://BrokerSpec/user] stopped
[DEBUG] [12/06/2012 00:44:03.348] [SessionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://SessionsTrackingSpec/user/SessionsTracking/101/Options] now supervising Actor[akka://SessionsTrackingSpec/user/SessionsTracking/101/Options/RTS-6.12M150612PA@175000]
[DEBUG] [12/06/2012 00:44:03.349] [SessionsTrackingSpec-akka.actor.default-dispatcher-5] [akka://SessionsTrackingSpec/user/SessionsTracking/101/Options/RTS-6.12M150612PA@175000] processing Event(OptionParameters(100),None) from Actor[akka://SessionsTrackingSpec/user/SessionsTracking/101/Options]
[DEBUG] [12/06/2012 00:44:03.349] [SessionsTrackingSpec-akka.actor.default-dispatcher-5] [akka://SessionsTrackingSpec/user/SessionsTracking/101/Options/RTS-6.12M150612PA@175000] processing Event(Suspended,Some(OptionParameters(100))) from Actor[akka://SessionsTrackingSpec/user/SessionsTracking/101/Options]
[DEBUG] [12/06/2012 00:44:03.350] [SessionsTrackingSpec-akka.actor.default-dispatcher-3] [akka://SessionsTrackingSpec/user/SessionsTracking/100] stopped
[DEBUG] [12/06/2012 00:44:03.350] [SessionsTrackingSpec-akka.actor.default-dispatcher-5] [akka://SessionsTrackingSpec/user/SessionsTracking/101/Options/RTS-6.12M150612PA@175000] processing Event(Assigned,Some(OptionParameters(100))) from Actor[akka://SessionsTrackingSpec/user/SessionsTracking/101/Options]
[DEBUG] [12/06/2012 00:44:03.350] [SessionsTrackingSpec-akka.actor.default-dispatcher-5] [akka://SessionsTrackingSpec/user/SessionsTracking/101/Options/RTS-6.12M150612PA@175000] transition Suspended -> Assigned
[DEBUG] [12/06/2012 00:44:03.350] [BrokerSpec-akka.actor.default-dispatcher-3] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:03.351] [BrokerSpec-akka.actor.default-dispatcher-3] [EventStream] shutting down: StandardOutLogger started
[info] SessionsTrackingSpec:
[info] SessionsTracking 
[info] - must forward session state to session actor
[info] - must forward FutSessContents to session actor
[info] - must forward OptSessContents to session actor
[info] - must track sessions
[info]   + When subscribe for ongoing sessions 
[info]   + Then nothing returned as no ongoing session available 
[info]   + When receive contents for nonexistent session 
[info]   + Then should postpone them 
[info]   + When receive session event for nonexisten session 
[info]   + Then should postpone it too 
[info]   + When receive SysEvents for both Futures and Options 
[info]   + Then should consume previously postponed events 
[info]   + And create actor for session 
[info]   + And should be notified about ongoing session 
[info]   + And session's state should be Assigned 
[info]   + And it should contain AssignedContents 
[info]   + When receive session events for nex session 
[info]   + Then should postpone them all 
[info]   + When new session is ready 
[info]   + Then should create actor for new session 
[info]   + And should change ongoing session to new one 
[info]   + When asked to drop session 
[info]   + Then session actor should be terminated 
[DEBUG] [12/06/2012 00:44:03.352] [SessionsTrackingSpec-akka.actor.default-dispatcher-10] [akka://SessionsTrackingSpec/user/SessionsTracking] stopping
[DEBUG] [12/06/2012 00:44:03.352] [SessionsTrackingSpec-akka.actor.default-dispatcher-10] [akka://SessionsTrackingSpec/user] stopping
[DEBUG] [12/06/2012 00:44:03.353] [SessionsTrackingSpec-akka.actor.default-dispatcher-10] [akka://SessionsTrackingSpec/user/SessionsTracking/FutInfoDispatcher] stopped
[DEBUG] [12/06/2012 00:44:03.353] [SessionsTrackingSpec-akka.actor.default-dispatcher-10] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:03.353] [BrokerSpec-akka.actor.default-dispatcher-5] [akka://BrokerSpec/system/log1-Logging$DefaultLogger] stopped
[DEBUG] [12/06/2012 00:44:03.353] [BrokerSpec-akka.actor.default-dispatcher-3] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:44:03.353] [SessionsTrackingSpec-akka.actor.default-dispatcher-10] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:44:03.353] [SessionsTrackingSpec-akka.actor.default-dispatcher-10] [akka://SessionsTrackingSpec/user/SessionsTracking] stopped
[DEBUG] [12/06/2012 00:44:03.356] [SessionsTrackingSpec-akka.actor.default-dispatcher-12] [akka://SessionsTrackingSpec/system/log1-Logging$DefaultLogger] stopped
[DEBUG] [12/06/2012 00:44:03.357] [pool-4-thread-1] [EventStream(akka://OrderBookActorSpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:44:03.357] [pool-4-thread-1] [EventStream(akka://OrderBookActorSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:44:03.358] [SessionsTrackingSpec-akka.actor.default-dispatcher-10] [akka://SessionsTrackingSpec/system/testActor10] stopped
[DEBUG] [12/06/2012 00:44:03.358] [BrokerSpec-akka.actor.default-dispatcher-3] [akka://BrokerSpec/system/testActor1] stopped
[DEBUG] [12/06/2012 00:44:03.358] [OrderBookActorSpec-akka.actor.default-dispatcher-1] [akka://OrderBookActorSpec/system/testActor12] started (akka.testkit.TestActor@2af84)
[DEBUG] [12/06/2012 00:44:03.358] [OrderBookActorSpec-akka.actor.default-dispatcher-1] [akka://OrderBookActorSpec/system] now supervising Actor[akka://OrderBookActorSpec/system/testActor12]
[DEBUG] [12/06/2012 00:44:03.358] [BrokerSpec-akka.actor.default-dispatcher-3] [akka://BrokerSpec/system] stopping
[DEBUG] [12/06/2012 00:44:03.358] [SessionsTrackingSpec-akka.actor.default-dispatcher-10] [akka://SessionsTrackingSpec/system/testActor11] stopped
[DEBUG] [12/06/2012 00:44:03.358] [BrokerSpec-akka.actor.default-dispatcher-3] [akka://BrokerSpec/system] stopped
[DEBUG] [12/06/2012 00:44:03.362] [BrokerSpec-akka.actor.default-dispatcher-3] [akka://BrokerSpec/] stopped
[DEBUG] [12/06/2012 00:44:03.363] [SessionsTrackingSpec-akka.actor.default-dispatcher-10] [akka://SessionsTrackingSpec/system/testActor3] stopped
[DEBUG] [12/06/2012 00:44:03.366] [pool-4-thread-3] [EventStream(akka://PositionsDispatcherSpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:44:03.366] [pool-4-thread-3] [EventStream(akka://PositionsDispatcherSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:44:03.368] [PositionsDispatcherSpec-akka.actor.default-dispatcher-2] [akka://PositionsDispatcherSpec/system/testActor13] started (akka.testkit.TestActor@1ee940a)
[DEBUG] [12/06/2012 00:44:03.369] [PositionsDispatcherSpec-akka.actor.default-dispatcher-2] [akka://PositionsDispatcherSpec/system] now supervising Actor[akka://PositionsDispatcherSpec/system/testActor13]
[DEBUG] [12/06/2012 00:44:03.370] [SessionsTrackingSpec-akka.actor.default-dispatcher-10] [akka://SessionsTrackingSpec/system/testActor4] stopped
[DEBUG] [12/06/2012 00:44:03.371] [SessionsTrackingSpec-akka.actor.default-dispatcher-10] [akka://SessionsTrackingSpec/system/testActor5] stopped
[DEBUG] [12/06/2012 00:44:03.371] [SessionsTrackingSpec-akka.actor.default-dispatcher-10] [akka://SessionsTrackingSpec/system/testActor6] stopped
[DEBUG] [12/06/2012 00:44:03.371] [OrderBookActorSpec-akka.actor.default-dispatcher-2] [akka://OrderBookActorSpec/user] now supervising TestActor[akka://OrderBookActorSpec/user/OrderBookActor]
[DEBUG] [12/06/2012 00:44:03.372] [SessionsTrackingSpec-akka.actor.default-dispatcher-10] [akka://SessionsTrackingSpec/system/testActor7] stopped
[DEBUG] [12/06/2012 00:44:03.372] [SessionsTrackingSpec-akka.actor.default-dispatcher-10] [akka://SessionsTrackingSpec/system/testActor8] stopped
[DEBUG] [12/06/2012 00:44:03.373] [SessionsTrackingSpec-akka.actor.default-dispatcher-10] [akka://SessionsTrackingSpec/system/testActor9] stopped
[DEBUG] [12/06/2012 00:44:03.373] [SessionsTrackingSpec-akka.actor.default-dispatcher-10] [akka://SessionsTrackingSpec/system] stopping
[INFO] [12/06/2012 00:44:03.373] [pool-4-thread-1] [akka://OrderBookActorSpec/user/OrderBookActor] Start OrderBook for security = FutureContract(IsinId(1),Isin(RTS-9.12),ShortIsisn(),Future contract)
[DEBUG] [12/06/2012 00:44:03.373] [pool-4-thread-1] [akka://OrderBookActorSpec/user/OrderBookActor] started (com.ergodicity.core.order.OrderBookActor@b12e6e)
[DEBUG] [12/06/2012 00:44:03.373] [pool-4-thread-1] [akka://OrderBookActorSpec/user/OrderBookActor] Create new order, id = 100, noSystem = false
[DEBUG] [12/06/2012 00:44:03.374] [pool-4-thread-1] [akka://OrderBookActorSpec/user/OrderBookActor] now supervising Actor[akka://OrderBookActorSpec/user/OrderBookActor/100]
[DEBUG] [12/06/2012 00:44:03.374] [SessionsTrackingSpec-akka.actor.default-dispatcher-10] [akka://SessionsTrackingSpec/system] stopped
[DEBUG] [12/06/2012 00:44:03.374] [OrderBookActorSpec-akka.actor.default-dispatcher-3] [akka://OrderBookActorSpec/user/OrderBookActor/100] started (com.ergodicity.core.order.OrderActor@adba42)
[DEBUG] [12/06/2012 00:44:03.374] [SessionsTrackingSpec-akka.actor.default-dispatcher-12] [akka://SessionsTrackingSpec/] stopped
[DEBUG] [12/06/2012 00:44:03.375] [OrderBookActorSpec-akka.actor.default-dispatcher-3] [akka://OrderBookActorSpec/user] now supervising TestActor[akka://OrderBookActorSpec/user/OrderBookActor]
[INFO] [12/06/2012 00:44:03.375] [pool-4-thread-1] [akka://OrderBookActorSpec/user/OrderBookActor] Start OrderBook for security = FutureContract(IsinId(1),Isin(RTS-9.12),ShortIsisn(),Future contract)
[DEBUG] [12/06/2012 00:44:03.375] [pool-4-thread-1] [akka://OrderBookActorSpec/user/OrderBookActor] started (com.ergodicity.core.order.OrderBookActor@1a6d86f)
[DEBUG] [12/06/2012 00:44:03.375] [pool-4-thread-1] [akka://OrderBookActorSpec/user/OrderBookActor] Create new order, id = 100, noSystem = false
[DEBUG] [12/06/2012 00:44:03.375] [pool-4-thread-1] [akka://OrderBookActorSpec/user/OrderBookActor] now supervising Actor[akka://OrderBookActorSpec/user/OrderBookActor/100]
[DEBUG] [12/06/2012 00:44:03.375] [OrderBookActorSpec-akka.actor.default-dispatcher-3] [akka://OrderBookActorSpec/user/OrderBookActor/100] started (com.ergodicity.core.order.OrderActor@1b4e4a5)
[DEBUG] [12/06/2012 00:44:03.376] [pool-4-thread-1] [akka://OrderBookActorSpec/system/testActor12] now monitoring Actor[akka://OrderBookActorSpec/user/OrderBookActor/100]
[DEBUG] [12/06/2012 00:44:03.377] [pool-4-thread-1] [akka://OrderBookActorSpec/user/OrderBookActor] Cancel order, id = 100
[DEBUG] [12/06/2012 00:44:03.377] [OrderBookActorSpec-akka.actor.default-dispatcher-1] [akka://OrderBookActorSpec/user/OrderBookActor/100] Order cancelled
[DEBUG] [12/06/2012 00:44:03.377] [OrderBookActorSpec-akka.actor.default-dispatcher-1] [akka://OrderBookActorSpec/user/OrderBookActor/100] stopped
[DEBUG] [12/06/2012 00:44:03.378] [OrderBookActorSpec-akka.actor.default-dispatcher-3] [akka://OrderBookActorSpec/user] now supervising TestActor[akka://OrderBookActorSpec/user/OrderBookActor]
[INFO] [12/06/2012 00:44:03.378] [pool-4-thread-1] [akka://OrderBookActorSpec/user/OrderBookActor] Start OrderBook for security = FutureContract(IsinId(1),Isin(RTS-9.12),ShortIsisn(),Future contract)
[DEBUG] [12/06/2012 00:44:03.378] [pool-4-thread-1] [akka://OrderBookActorSpec/user/OrderBookActor] started (com.ergodicity.core.order.OrderBookActor@8042b5)
[DEBUG] [12/06/2012 00:44:03.378] [pool-4-thread-1] [akka://OrderBookActorSpec/user/OrderBookActor] Create new order, id = 100, noSystem = false
[DEBUG] [12/06/2012 00:44:03.378] [pool-4-thread-1] [akka://OrderBookActorSpec/user/OrderBookActor] now supervising Actor[akka://OrderBookActorSpec/user/OrderBookActor/100]
[DEBUG] [12/06/2012 00:44:03.379] [OrderBookActorSpec-akka.actor.default-dispatcher-3] [akka://OrderBookActorSpec/user/OrderBookActor/100] started (com.ergodicity.core.order.OrderActor@136dbff)
[DEBUG] [12/06/2012 00:44:03.379] [PositionsDispatcherSpec-akka.actor.default-dispatcher-2] [akka://PositionsDispatcherSpec/user] now supervising TestActor[akka://PositionsDispatcherSpec/user/PositionsDispatcher]
[DEBUG] [12/06/2012 00:44:03.379] [pool-4-thread-1] [akka://OrderBookActorSpec/user/OrderBookActor] Fill order, id = 100, amount = 2, rest = 1, deal = None
[DEBUG] [12/06/2012 00:44:03.380] [pool-4-thread-1] [akka://OrderBookActorSpec/user/OrderBookActor] Fill order, id = 100, amount = 1, rest = 0, deal = None
[DEBUG] [12/06/2012 00:44:03.380] [OrderBookActorSpec-akka.actor.default-dispatcher-1] [akka://OrderBookActorSpec/user/OrderBookActor/100] Order filled
[DEBUG] [12/06/2012 00:44:03.380] [OrderBookActorSpec-akka.actor.default-dispatcher-1] [akka://OrderBookActorSpec/user/OrderBookActor/100] stopped
[info] OrderBookActorSpec:
[info] OrderBookActor 
[info] - must create new order
[info] - must cancel order
[info] - must fill order
[DEBUG] [12/06/2012 00:44:03.380] [OrderBookActorSpec-akka.actor.default-dispatcher-1] [akka://OrderBookActorSpec/user/OrderBookActor] stopping
[DEBUG] [12/06/2012 00:44:03.380] [PositionsDispatcherSpec-akka.actor.default-dispatcher-2] [akka://PositionsDispatcherSpec/system/testActor14] started (akka.testkit.TestActor@892cbe)
[DEBUG] [12/06/2012 00:44:03.380] [OrderBookActorSpec-akka.actor.default-dispatcher-1] [akka://OrderBookActorSpec/user] stopping
[DEBUG] [12/06/2012 00:44:03.381] [PositionsDispatcherSpec-akka.actor.default-dispatcher-2] [akka://PositionsDispatcherSpec/system] now supervising Actor[akka://PositionsDispatcherSpec/system/testActor14]
[DEBUG] [12/06/2012 00:44:03.381] [OrderBookActorSpec-akka.actor.default-dispatcher-1] [akka://OrderBookActorSpec/user/OrderBookActor] stopped
[DEBUG] [12/06/2012 00:44:03.381] [OrderBookActorSpec-akka.actor.default-dispatcher-1] [akka://OrderBookActorSpec/user/OrderBookActor/100] stopped
[DEBUG] [12/06/2012 00:44:03.381] [OrderBookActorSpec-akka.actor.default-dispatcher-2] [akka://OrderBookActorSpec/user] stopped
[DEBUG] [12/06/2012 00:44:03.382] [OrderBookActorSpec-akka.actor.default-dispatcher-2] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:03.382] [OrderBookActorSpec-akka.actor.default-dispatcher-2] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:44:03.383] [OrderBookActorSpec-akka.actor.default-dispatcher-5] [akka://OrderBookActorSpec/system/log1-Logging$DefaultLogger] stopped
[DEBUG] [12/06/2012 00:44:03.383] [pool-4-thread-3] [akka://PositionsDispatcherSpec/user/PositionsDispatcher] started (com.ergodicity.core.PositionsDispatcher@126e5af)
[DEBUG] [12/06/2012 00:44:03.382] [OrderBookActorSpec-akka.actor.default-dispatcher-2] [akka://OrderBookActorSpec/system/testActor12] stopped
[DEBUG] [12/06/2012 00:44:03.383] [OrderBookActorSpec-akka.actor.default-dispatcher-2] [akka://OrderBookActorSpec/system] stopping
[DEBUG] [12/06/2012 00:44:03.383] [OrderBookActorSpec-akka.actor.default-dispatcher-2] [akka://OrderBookActorSpec/system] stopped
[DEBUG] [12/06/2012 00:44:03.384] [OrderBookActorSpec-akka.actor.default-dispatcher-2] [akka://OrderBookActorSpec/] stopped
[DEBUG] [12/06/2012 00:44:03.384] [PositionsDispatcherSpec-akka.actor.default-dispatcher-1] [akka://PositionsDispatcherSpec/user] now supervising TestActor[akka://PositionsDispatcherSpec/user/PositionsDispatcher]
[DEBUG] [12/06/2012 00:44:03.385] [pool-4-thread-3] [akka://PositionsDispatcherSpec/user/PositionsDispatcher] started (com.ergodicity.core.PositionsDispatcher@11971c9)
[DEBUG] [12/06/2012 00:44:03.390] [pool-4-thread-1] [EventStream(akka://SessionOrderBooksTrackingSpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:44:03.390] [pool-4-thread-1] [EventStream(akka://SessionOrderBooksTrackingSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:44:03.391] [SessionOrderBooksTrackingSpec-akka.actor.default-dispatcher-3] [akka://SessionOrderBooksTrackingSpec/system/testActor15] started (akka.testkit.TestActor@c10b9d)
[DEBUG] [12/06/2012 00:44:03.391] [SessionOrderBooksTrackingSpec-akka.actor.default-dispatcher-3] [akka://SessionOrderBooksTrackingSpec/system] now supervising Actor[akka://SessionOrderBooksTrackingSpec/system/testActor15]
[DEBUG] [12/06/2012 00:44:03.392] [pool-4-thread-2] [LocalActorRefProvider(akka://OrdersTrackingSpec)] look-up of path sequence 'List(user, OrderBooksTracking, 100, RTS-9.12, 1)' failed
[DEBUG] [12/06/2012 00:44:03.394] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/user] now supervising TestActor[akka://OrdersTrackingSpec/user/OrderBooksTracking]
[DEBUG] [12/06/2012 00:44:03.395] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrderBooksTracking] started (com.ergodicity.core.order.OrderBooksTracking@b43e3b)
[DEBUG] [12/06/2012 00:44:03.395] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrderBooksTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrderBooksTracking/OrderLogDispatcher]
[DEBUG] [12/06/2012 00:44:03.395] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/user/OrderBooksTracking/OrderLogDispatcher] started (com.ergodicity.core.order.OrderLogDispatcher@1e9eea2)
[INFO] [12/06/2012 00:44:03.395] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrderBooksTracking] Assigned contents; Size = 2
[DEBUG] [12/06/2012 00:44:03.396] [SessionOrderBooksTrackingSpec-akka.actor.default-dispatcher-2] [akka://SessionOrderBooksTrackingSpec/user] now supervising TestActor[akka://SessionOrderBooksTrackingSpec/user/SessionOrderBooksTracking]
[DEBUG] [12/06/2012 00:44:03.398] [pool-4-thread-1] [akka://SessionOrderBooksTrackingSpec/user/SessionOrderBooksTracking] started (com.ergodicity.core.order.SessionOrderBooksTracking@4cfe1b)
[DEBUG] [12/06/2012 00:44:03.400] [pool-4-thread-1] [akka://SessionOrderBooksTrackingSpec/user/SessionOrderBooksTracking] now supervising Actor[akka://SessionOrderBooksTrackingSpec/user/SessionOrderBooksTracking/RTS-9.12]
[INFO] [12/06/2012 00:44:03.400] [SessionOrderBooksTrackingSpec-akka.actor.default-dispatcher-2] [akka://SessionOrderBooksTrackingSpec/user/SessionOrderBooksTracking/RTS-9.12] Start OrderBook for security = FutureContract(IsinId(1),Isin(RTS-9.12),ShortIsisn(),Future contract)
[DEBUG] [12/06/2012 00:44:03.400] [SessionOrderBooksTrackingSpec-akka.actor.default-dispatcher-2] [akka://SessionOrderBooksTrackingSpec/user/SessionOrderBooksTracking/RTS-9.12] started (com.ergodicity.core.order.OrderBookActor@956f6)
[DEBUG] [12/06/2012 00:44:03.400] [SessionOrderBooksTrackingSpec-akka.actor.default-dispatcher-2] [akka://SessionOrderBooksTrackingSpec/user/SessionOrderBooksTracking/RTS-9.12] Create new order, id = 1000, noSystem = false
[DEBUG] [12/06/2012 00:44:03.400] [SessionOrderBooksTrackingSpec-akka.actor.default-dispatcher-2] [akka://SessionOrderBooksTrackingSpec/user/SessionOrderBooksTracking/RTS-9.12] now supervising Actor[akka://SessionOrderBooksTrackingSpec/user/SessionOrderBooksTracking/RTS-9.12/1000]
[DEBUG] [12/06/2012 00:44:03.400] [SessionOrderBooksTrackingSpec-akka.actor.default-dispatcher-3] [akka://SessionOrderBooksTrackingSpec/user/SessionOrderBooksTracking/RTS-9.12/1000] started (com.ergodicity.core.order.OrderActor@131ee55)
[DEBUG] [12/06/2012 00:44:03.402] [SessionOrderBooksTrackingSpec-akka.actor.default-dispatcher-4] [akka://SessionOrderBooksTrackingSpec/user] now supervising TestActor[akka://SessionOrderBooksTrackingSpec/user/SessionOrderBooksTracking]
[DEBUG] [12/06/2012 00:44:03.402] [pool-4-thread-1] [akka://SessionOrderBooksTrackingSpec/user/SessionOrderBooksTracking] started (com.ergodicity.core.order.SessionOrderBooksTracking@6470e3)
[info] SessionOrderBooksTrackingSpec:
[info] SessionOrderBooksTracking 
[info] - must create order book on request
[info] - must pass through all acction to OrderBook actor
[DEBUG] [12/06/2012 00:44:03.403] [SessionOrderBooksTrackingSpec-akka.actor.default-dispatcher-4] [akka://SessionOrderBooksTrackingSpec/user/SessionOrderBooksTracking] stopping
[DEBUG] [12/06/2012 00:44:03.403] [SessionOrderBooksTrackingSpec-akka.actor.default-dispatcher-4] [akka://SessionOrderBooksTrackingSpec/user] stopping
[DEBUG] [12/06/2012 00:44:03.403] [SessionOrderBooksTrackingSpec-akka.actor.default-dispatcher-3] [akka://SessionOrderBooksTrackingSpec/user/SessionOrderBooksTracking/RTS-9.12] stopping
[DEBUG] [12/06/2012 00:44:03.404] [SessionOrderBooksTrackingSpec-akka.actor.default-dispatcher-3] [akka://SessionOrderBooksTrackingSpec/user/SessionOrderBooksTracking/RTS-9.12/1000] stopped
[DEBUG] [12/06/2012 00:44:03.404] [SessionOrderBooksTrackingSpec-akka.actor.default-dispatcher-1] [akka://SessionOrderBooksTrackingSpec/user/SessionOrderBooksTracking] stopped
[DEBUG] [12/06/2012 00:44:03.404] [SessionOrderBooksTrackingSpec-akka.actor.default-dispatcher-1] [akka://SessionOrderBooksTrackingSpec/user/SessionOrderBooksTracking/RTS-9.12] stopped
[DEBUG] [12/06/2012 00:44:03.404] [SessionOrderBooksTrackingSpec-akka.actor.default-dispatcher-3] [akka://SessionOrderBooksTrackingSpec/user] stopped
[DEBUG] [12/06/2012 00:44:03.404] [SessionOrderBooksTrackingSpec-akka.actor.default-dispatcher-4] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:03.405] [SessionOrderBooksTrackingSpec-akka.actor.default-dispatcher-4] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:44:03.405] [SessionOrderBooksTrackingSpec-akka.actor.default-dispatcher-6] [akka://SessionOrderBooksTrackingSpec/system/log1-Logging$DefaultLogger] stopped
[DEBUG] [12/06/2012 00:44:03.405] [SessionOrderBooksTrackingSpec-akka.actor.default-dispatcher-4] [akka://SessionOrderBooksTrackingSpec/system/testActor15] stopped
[DEBUG] [12/06/2012 00:44:03.405] [SessionOrderBooksTrackingSpec-akka.actor.default-dispatcher-4] [akka://SessionOrderBooksTrackingSpec/system] stopping
[DEBUG] [12/06/2012 00:44:03.405] [SessionOrderBooksTrackingSpec-akka.actor.default-dispatcher-4] [akka://SessionOrderBooksTrackingSpec/system] stopped
[DEBUG] [12/06/2012 00:44:03.406] [pool-4-thread-3] [akka://PositionsDispatcherSpec/user/PositionsDispatcher] started (com.ergodicity.core.PositionsDispatcher@54ec7a)
[DEBUG] [12/06/2012 00:44:03.406] [SessionOrderBooksTrackingSpec-akka.actor.default-dispatcher-4] [akka://SessionOrderBooksTrackingSpec/] stopped
[DEBUG] [12/06/2012 00:44:03.406] [PositionsDispatcherSpec-akka.actor.default-dispatcher-1] [akka://PositionsDispatcherSpec/user] now supervising TestActor[akka://PositionsDispatcherSpec/user/PositionsDispatcher]
[info] ErgodicitySchemaSpec:
[info] Ergodicity Schema 
[info] - should load sessions
[DEBUG] [12/06/2012 00:44:03.415] [pool-4-thread-1] [EventStream(akka://OrdersDispatchersSpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:44:03.416] [pool-4-thread-1] [EventStream(akka://OrdersDispatchersSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:44:03.417] [OrdersDispatchersSpec-akka.actor.default-dispatcher-4] [akka://OrdersDispatchersSpec/system/testActor16] started (akka.testkit.TestActor@170d6f3)
[DEBUG] [12/06/2012 00:44:03.417] [OrdersDispatchersSpec-akka.actor.default-dispatcher-4] [akka://OrdersDispatchersSpec/system] now supervising Actor[akka://OrdersDispatchersSpec/system/testActor16]
[DEBUG] [12/06/2012 00:44:03.425] [OrdersDispatchersSpec-akka.actor.default-dispatcher-3] [akka://OrdersDispatchersSpec/user] now supervising TestActor[akka://OrdersDispatchersSpec/user/$$a]
[DEBUG] [12/06/2012 00:44:03.435] [pool-4-thread-1] [akka://OrdersDispatchersSpec/user/$$a] started (com.ergodicity.core.order.OrdersSnapshotActor@40a80a)
[DEBUG] [12/06/2012 00:44:03.436] [OrdersDispatchersSpec-akka.actor.default-dispatcher-3] [akka://OrdersDispatchersSpec/user] now supervising TestActor[akka://OrdersDispatchersSpec/user/$$b]
[DEBUG] [12/06/2012 00:44:03.436] [pool-4-thread-1] [akka://OrdersDispatchersSpec/user/$$b] started (com.ergodicity.core.order.OrdersSnapshotActor@17333c3)
[DEBUG] [12/06/2012 00:44:03.437] [pool-4-thread-1] [akka://OrdersDispatchersSpec/user/$$b] processing Event(StreamData(0,java.nio.HeapByteBuffer[pos=32 lim=1000 cap=1000]),(None,None,Map())) from Actor[akka://OrdersDispatchersSpec/system/testActor16]
[DEBUG] [12/06/2012 00:44:03.443] [pool-4-thread-1] [akka://OrdersDispatchersSpec/user/$$b] processing Event(StreamData(1,java.nio.HeapByteBuffer[pos=40 lim=1000 cap=1000]),(None,None,Map(1000 -> (Order(1,100,IsinId(0),Buy,0,0,4157),List())))) from Actor[akka://OrdersDispatchersSpec/system/testActor16]
[DEBUG] [12/06/2012 00:44:03.447] [pool-4-thread-1] [akka://OrdersDispatchersSpec/user/$$b] processing Event(Transition(Actor[akka://OrdersDispatchersSpec/system/testActor16],Opened,Closed),(Some(100),Some(-0001-12-28T22:30:20.000+02:30:20),Map(1000 -> (Order(1,100,IsinId(0),Buy,0,0,4157),List())))) from Actor[akka://OrdersDispatchersSpec/system/testActor16]
[DEBUG] [12/06/2012 00:44:03.448] [pool-4-thread-1] [akka://OrdersDispatchersSpec/user/$$b] transition Loading -> Loaded
[DEBUG] [12/06/2012 00:44:03.449] [pool-4-thread-1] [akka://OrdersDispatchersSpec/user/$$b] processing Event(GetOrdersSnapshot,(Some(100),Some(-0001-12-28T22:30:20.000+02:30:20),Map(1000 -> (Order(1,100,IsinId(0),Buy,0,0,4157),List())))) from Actor[akka://OrdersDispatchersSpec/temp/$a]
[DEBUG] [12/06/2012 00:44:03.452] [OrdersDispatchersSpec-akka.actor.default-dispatcher-3] [akka://OrdersDispatchersSpec/user] now supervising TestActor[akka://OrdersDispatchersSpec/user/$$c]
[DEBUG] [12/06/2012 00:44:03.452] [pool-4-thread-1] [akka://OrdersDispatchersSpec/user/$$c] started (com.ergodicity.core.order.OrdersSnapshotActor@14edc49)
[DEBUG] [12/06/2012 00:44:03.452] [pool-4-thread-1] [akka://OrdersDispatchersSpec/user/$$c] processing Event(GetOrdersSnapshot,(None,None,Map())) from Actor[akka://OrdersDispatchersSpec/system/testActor16]
[DEBUG] [12/06/2012 00:44:03.452] [pool-4-thread-1] [akka://OrdersDispatchersSpec/user/$$c] processing Event(StreamData(0,java.nio.HeapByteBuffer[pos=61 lim=1000 cap=1000]),(None,None,Map())) from Actor[akka://OrdersDispatchersSpec/system/testActor16]
[info] PositionsDispatcherSpec:
[info] Positions Dispatcher 
[info] - must subscribe stream events
[info] - must discard position
[info] - must update position
[DEBUG] [12/06/2012 00:44:03.453] [PositionsDispatcherSpec-akka.actor.default-dispatcher-4] [akka://PositionsDispatcherSpec/user/PositionsDispatcher] stopped
[info] OrderBookSnapshotSpec:
[info] Order Book Snapshot 
[info] - must subscribe stream events and transitions
[info] - must return snapshot immediately
[info] - must return snapshot after loaded
[DEBUG] [12/06/2012 00:44:03.454] [PositionsDispatcherSpec-akka.actor.default-dispatcher-4] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:03.453] [PositionsDispatcherSpec-akka.actor.default-dispatcher-4] [akka://PositionsDispatcherSpec/user] stopping
[DEBUG] [12/06/2012 00:44:03.453] [pool-4-thread-1] [akka://OrdersDispatchersSpec/user/$$c] processing Event(StreamData(1,java.nio.HeapByteBuffer[pos=50 lim=1000 cap=1000]),(None,None,Map(1000 -> (Order(1,100,IsinId(0),Buy,0,0,4157),List())))) from Actor[akka://OrdersDispatchersSpec/system/testActor16]
[DEBUG] [12/06/2012 00:44:03.454] [PositionsDispatcherSpec-akka.actor.default-dispatcher-4] [akka://PositionsDispatcherSpec/user] stopped
[DEBUG] [12/06/2012 00:44:03.454] [pool-4-thread-1] [akka://OrdersDispatchersSpec/user/$$c] processing Event(Transition(Actor[akka://OrdersDispatchersSpec/system/testActor16],Opened,Closed),(Some(100),Some(-0001-12-28T22:30:20.000+02:30:20),Map(1000 -> (Order(1,100,IsinId(0),Buy,0,0,4157),List())))) from Actor[akka://OrdersDispatchersSpec/system/testActor16]
[DEBUG] [12/06/2012 00:44:03.454] [PositionsDispatcherSpec-akka.actor.default-dispatcher-4] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:03.454] [pool-4-thread-1] [akka://OrdersDispatchersSpec/user/$$c] transition Loading -> Loaded
[DEBUG] [12/06/2012 00:44:03.454] [OrdersDispatchersSpec-akka.actor.default-dispatcher-3] [akka://OrdersDispatchersSpec/user/$$a] stopped
[DEBUG] [12/06/2012 00:44:03.454] [OrdersDispatchersSpec-akka.actor.default-dispatcher-3] [akka://OrdersDispatchersSpec/user/$$b] stopped
[DEBUG] [12/06/2012 00:44:03.455] [OrdersDispatchersSpec-akka.actor.default-dispatcher-3] [akka://OrdersDispatchersSpec/user/$$c] stopped
[DEBUG] [12/06/2012 00:44:03.455] [OrdersDispatchersSpec-akka.actor.default-dispatcher-3] [akka://OrdersDispatchersSpec/user] stopping
[DEBUG] [12/06/2012 00:44:03.454] [PositionsDispatcherSpec-akka.actor.default-dispatcher-4] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:44:03.455] [OrdersDispatchersSpec-akka.actor.default-dispatcher-3] [akka://OrdersDispatchersSpec/user] stopped
[DEBUG] [12/06/2012 00:44:03.455] [PositionsDispatcherSpec-akka.actor.default-dispatcher-4] [akka://PositionsDispatcherSpec/system/testActor13] stopped
[DEBUG] [12/06/2012 00:44:03.456] [OrdersDispatchersSpec-akka.actor.default-dispatcher-1] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:03.456] [PositionsDispatcherSpec-akka.actor.default-dispatcher-4] [akka://PositionsDispatcherSpec/system/testActor14] stopped
[DEBUG] [12/06/2012 00:44:03.456] [OrdersDispatchersSpec-akka.actor.default-dispatcher-1] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:44:03.456] [PositionsDispatcherSpec-akka.actor.default-dispatcher-4] [akka://PositionsDispatcherSpec/system] stopping
[DEBUG] [12/06/2012 00:44:03.456] [OrdersDispatchersSpec-akka.actor.default-dispatcher-1] [akka://OrdersDispatchersSpec/system/testActor16] stopped
[DEBUG] [12/06/2012 00:44:03.456] [PositionsDispatcherSpec-akka.actor.default-dispatcher-1] [akka://PositionsDispatcherSpec/system/log1-Logging$DefaultLogger] stopped
[DEBUG] [12/06/2012 00:44:03.456] [OrdersDispatchersSpec-akka.actor.default-dispatcher-1] [akka://OrdersDispatchersSpec/system] stopping
[DEBUG] [12/06/2012 00:44:03.456] [PositionsDispatcherSpec-akka.actor.default-dispatcher-1] [akka://PositionsDispatcherSpec/system] stopped
[DEBUG] [12/06/2012 00:44:03.457] [OrdersDispatchersSpec-akka.actor.default-dispatcher-1] [akka://OrdersDispatchersSpec/system/log1-Logging$DefaultLogger] stopped
[DEBUG] [12/06/2012 00:44:03.457] [PositionsDispatcherSpec-akka.actor.default-dispatcher-1] [akka://PositionsDispatcherSpec/] stopped
[DEBUG] [12/06/2012 00:44:03.457] [OrdersDispatchersSpec-akka.actor.default-dispatcher-1] [akka://OrdersDispatchersSpec/system] stopped
[DEBUG] [12/06/2012 00:44:03.457] [OrdersDispatchersSpec-akka.actor.default-dispatcher-6] [akka://OrdersDispatchersSpec/] stopped
[DEBUG] [12/06/2012 00:44:03.463] [pool-4-thread-3] [EventStream(akka://OrdersDispatchersSpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:44:03.463] [pool-4-thread-3] [EventStream(akka://OrdersDispatchersSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:44:03.464] [OrdersDispatchersSpec-akka.actor.default-dispatcher-1] [akka://OrdersDispatchersSpec/system/testActor20] started (akka.testkit.TestActor@bdbcff)
[DEBUG] [12/06/2012 00:44:03.464] [OrdersDispatchersSpec-akka.actor.default-dispatcher-1] [akka://OrdersDispatchersSpec/system] now supervising Actor[akka://OrdersDispatchersSpec/system/testActor20]
[DEBUG] [12/06/2012 00:44:03.469] [OrdersDispatchersSpec-akka.actor.default-dispatcher-2] [akka://OrdersDispatchersSpec/user] now supervising TestActor[akka://OrdersDispatchersSpec/user/$$d]
[DEBUG] [12/06/2012 00:44:03.471] [OrdersDispatchersSpec-akka.actor.default-dispatcher-1] [akka://OrdersDispatchersSpec/system/testActor21] started (akka.testkit.TestActor@1a8ccf6)
[DEBUG] [12/06/2012 00:44:03.471] [OrdersDispatchersSpec-akka.actor.default-dispatcher-1] [akka://OrdersDispatchersSpec/system] now supervising Actor[akka://OrdersDispatchersSpec/system/testActor21]
[info] ProtocolSpec:
[info] Protocol 
[info] - must handle errors
[info] - must handle flood
[info] - must fail on unexpected message
[info] FutAddOrder 
[info] - must handle order response
[info] OptAddOrder 
[info] - must handle order response
[DEBUG] [12/06/2012 00:44:03.475] [pool-4-thread-3] [akka://OrdersDispatchersSpec/user/$$d] started (com.ergodicity.core.order.FutureOrdersDispatcher@1205488)
[DEBUG] [12/06/2012 00:44:03.476] [OrdersDispatchersSpec-akka.actor.default-dispatcher-2] [akka://OrdersDispatchersSpec/user] now supervising TestActor[akka://OrdersDispatchersSpec/user/$$e]
[DEBUG] [12/06/2012 00:44:03.476] [OrdersDispatchersSpec-akka.actor.default-dispatcher-3] [akka://OrdersDispatchersSpec/system/testActor22] started (akka.testkit.TestActor@17a1b01)
[DEBUG] [12/06/2012 00:44:03.476] [OrdersDispatchersSpec-akka.actor.default-dispatcher-3] [akka://OrdersDispatchersSpec/system] now supervising Actor[akka://OrdersDispatchersSpec/system/testActor22]
[DEBUG] [12/06/2012 00:44:03.477] [pool-4-thread-3] [akka://OrdersDispatchersSpec/user/$$e] started (com.ergodicity.core.order.FutureOrdersDispatcher@19249cc)
[DEBUG] [12/06/2012 00:44:03.480] [pool-4-thread-3] [akka://OrdersDispatchersSpec/system/testActor20] Action = OrderLog(100,OrderAction(0,Create(Order(0,100,IsinId(0),Buy,0,0,4157))))
[DEBUG] [12/06/2012 00:44:03.480] [pool-4-thread-1] [EventStream(akka://SessionContentsSpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:44:03.481] [OrdersDispatchersSpec-akka.actor.default-dispatcher-1] [akka://OrdersDispatchersSpec/user] now supervising TestActor[akka://OrdersDispatchersSpec/user/$$f]
[DEBUG] [12/06/2012 00:44:03.481] [pool-4-thread-1] [EventStream(akka://SessionContentsSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:44:03.481] [OrdersDispatchersSpec-akka.actor.default-dispatcher-1] [akka://OrdersDispatchersSpec/system/testActor23] started (akka.testkit.TestActor@579ea4)
[DEBUG] [12/06/2012 00:44:03.481] [OrdersDispatchersSpec-akka.actor.default-dispatcher-1] [akka://OrdersDispatchersSpec/system] now supervising Actor[akka://OrdersDispatchersSpec/system/testActor23]
[DEBUG] [12/06/2012 00:44:03.482] [SessionContentsSpec-akka.actor.default-dispatcher-3] [akka://SessionContentsSpec/system/testActor24] started (akka.testkit.TestActor@703ace)
[DEBUG] [12/06/2012 00:44:03.482] [SessionContentsSpec-akka.actor.default-dispatcher-3] [akka://SessionContentsSpec/system] now supervising Actor[akka://SessionContentsSpec/system/testActor24]
[DEBUG] [12/06/2012 00:44:03.483] [pool-4-thread-3] [akka://OrdersDispatchersSpec/user/$$f] started (com.ergodicity.core.order.OptionOrdersDispatcher@7b7404)
[DEBUG] [12/06/2012 00:44:03.485] [pool-4-thread-3] [akka://OrdersDispatchersSpec/system/testActor20] Action = OrderLog(100,OrderAction(0,Create(Order(0,100,IsinId(0),Buy,0,0,4157))))
[info] OrdersDispatchersSpec:
[info] Future Orders dispatcher 
[info] - must subscribe stream events
[info] - must handle FutTrade stream events
[info] Option Orders dispatcher 
[info] - must handle OptTrade stream events
[DEBUG] [12/06/2012 00:44:03.485] [OrdersDispatchersSpec-akka.actor.default-dispatcher-2] [akka://OrdersDispatchersSpec/user/$$d] stopped
[DEBUG] [12/06/2012 00:44:03.486] [OrdersDispatchersSpec-akka.actor.default-dispatcher-2] [akka://OrdersDispatchersSpec/user/$$e] stopped
[DEBUG] [12/06/2012 00:44:03.486] [OrdersDispatchersSpec-akka.actor.default-dispatcher-2] [akka://OrdersDispatchersSpec/user/$$f] stopped
[DEBUG] [12/06/2012 00:44:03.486] [OrdersDispatchersSpec-akka.actor.default-dispatcher-2] [akka://OrdersDispatchersSpec/user] stopping
[DEBUG] [12/06/2012 00:44:03.487] [OrdersDispatchersSpec-akka.actor.default-dispatcher-2] [akka://OrdersDispatchersSpec/user] stopped
[DEBUG] [12/06/2012 00:44:03.487] [SessionContentsSpec-akka.actor.default-dispatcher-1] [akka://SessionContentsSpec/user] now supervising TestActor[akka://SessionContentsSpec/user/Futures]
[DEBUG] [12/06/2012 00:44:03.487] [OrdersDispatchersSpec-akka.actor.default-dispatcher-3] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:03.487] [OrdersDispatchersSpec-akka.actor.default-dispatcher-3] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:03.487] [OrdersDispatchersSpec-akka.actor.default-dispatcher-3] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:44:03.487] [OrdersDispatchersSpec-akka.actor.default-dispatcher-1] [akka://OrdersDispatchersSpec/system/log1-Logging$DefaultLogger] stopped
[DEBUG] [12/06/2012 00:44:03.488] [OrdersDispatchersSpec-akka.actor.default-dispatcher-3] [akka://OrdersDispatchersSpec/system/testActor20] stopped
[DEBUG] [12/06/2012 00:44:03.488] [SessionContentsSpec-akka.actor.default-dispatcher-3] [akka://SessionContentsSpec/system/testActor25] started (akka.testkit.TestActor@1440fa1)
[DEBUG] [12/06/2012 00:44:03.488] [SessionContentsSpec-akka.actor.default-dispatcher-3] [akka://SessionContentsSpec/system] now supervising Actor[akka://SessionContentsSpec/system/testActor25]
[DEBUG] [12/06/2012 00:44:03.488] [OrdersDispatchersSpec-akka.actor.default-dispatcher-3] [akka://OrdersDispatchersSpec/system/testActor21] stopped
[DEBUG] [12/06/2012 00:44:03.489] [OrdersDispatchersSpec-akka.actor.default-dispatcher-3] [akka://OrdersDispatchersSpec/system/testActor22] stopped
[INFO] [12/06/2012 00:44:03.489] [pool-4-thread-1] [akka://SessionContentsSpec/user/Futures] Start SessionContents
[DEBUG] [12/06/2012 00:44:03.489] [OrdersDispatchersSpec-akka.actor.default-dispatcher-3] [akka://OrdersDispatchersSpec/system/testActor23] stopped
[DEBUG] [12/06/2012 00:44:03.489] [OrdersDispatchersSpec-akka.actor.default-dispatcher-3] [akka://OrdersDispatchersSpec/system] stopping
[DEBUG] [12/06/2012 00:44:03.489] [OrdersDispatchersSpec-akka.actor.default-dispatcher-3] [akka://OrdersDispatchersSpec/system] stopped
[DEBUG] [12/06/2012 00:44:03.489] [OrdersDispatchersSpec-akka.actor.default-dispatcher-1] [akka://OrdersDispatchersSpec/] stopped
[ERROR] [12/06/2012 00:44:03.490] [pool-4-thread-1] [akka://SessionContentsSpec/system/testActor25] SubscribeTransitionCallBack(TestActor[akka://SessionContentsSpec/user/Futures]) (of class akka.actor.FSM$SubscribeTransitionCallBack)
scala.MatchError: SubscribeTransitionCallBack(TestActor[akka://SessionContentsSpec/user/Futures]) (of class akka.actor.FSM$SubscribeTransitionCallBack)
	at com.ergodicity.core.session.SessionContentsSpec$$anon$3.run(SessionContentsSpec.scala:64)
	at akka.testkit.TestActor$$anonfun$receive$1$$anonfun$apply$1.apply(TestKit.scala:53)
	at akka.testkit.TestActor$$anonfun$receive$1$$anonfun$apply$1.apply(TestKit.scala:53)
	at scala.Option.flatMap(Option.scala:146)
	at akka.testkit.TestActor$$anonfun$receive$1.apply(TestKit.scala:53)
	at akka.testkit.TestActor$$anonfun$receive$1.apply(TestKit.scala:47)
	at akka.actor.Actor$class.apply(Actor.scala:318)
	at akka.testkit.TestActor.apply(TestKit.scala:40)
	at akka.actor.ActorCell.invoke(ActorCell.scala:626)
	at akka.testkit.CallingThreadDispatcher.runQueue(CallingThreadDispatcher.scala:235)
	at akka.testkit.CallingThreadDispatcher.dispatch(CallingThreadDispatcher.scala:201)
	at akka.actor.ActorCell.tell(ActorCell.scala:475)
	at akka.actor.LocalActorRef.$bang(ActorRef.scala:328)
	at com.ergodicity.core.session.SessionContents.preStart(SessionContents.scala:33)
	at akka.actor.ActorCell.create$1(ActorCell.scala:508)
	at akka.actor.ActorCell.systemInvoke(ActorCell.scala:600)
	at akka.dispatch.Mailbox.processAllSystemMessages(Mailbox.scala:209)
	at akka.testkit.CallingThreadDispatcher.runQueue(CallingThreadDispatcher.scala:223)
	at akka.testkit.CallingThreadDispatcher.register(CallingThreadDispatcher.scala:147)
	at akka.dispatch.MessageDispatcher.attach(AbstractDispatcher.scala:244)
	at akka.actor.ActorCell.start(ActorCell.scala:440)
	at akka.actor.LocalActorRef.<init>(ActorRef.scala:247)
	at akka.testkit.TestActorRef.<init>(TestActorRef.scala:22)
	at akka.testkit.TestActorRef$.apply(TestActorRef.scala:119)
	at akka.testkit.TestActorRef$.apply(TestActorRef.scala:116)
	at akka.testkit.TestActorRef$.apply(TestActorRef.scala:111)
	at com.ergodicity.core.session.SessionContentsSpec$$anonfun$1$$anonfun$apply$mcV$sp$1.apply$mcV$sp(SessionContentsSpec.scala:39)
	at com.ergodicity.core.session.SessionContentsSpec$$anonfun$1$$anonfun$apply$mcV$sp$1.apply(SessionContentsSpec.scala:38)
	at com.ergodicity.core.session.SessionContentsSpec$$anonfun$1$$anonfun$apply$mcV$sp$1.apply(SessionContentsSpec.scala:38)
	at org.scalatest.WordSpec$$anon$2.apply(WordSpec.scala:2161)
	at org.scalatest.Suite$class.withFixture(Suite.scala:1968)
	at com.ergodicity.core.session.SessionContentsSpec.withFixture(SessionContentsSpec.scala:19)
	at org.scalatest.WordSpec$class.invokeWithFixture$1(WordSpec.scala:2158)
	at org.scalatest.WordSpec$$anonfun$runTest$1.apply(WordSpec.scala:2167)
	at org.scalatest.WordSpec$$anonfun$runTest$1.apply(WordSpec.scala:2167)
	at org.scalatest.SuperEngine.runTestImpl(Engine.scala:168)
	at org.scalatest.WordSpec$class.runTest(WordSpec.scala:2167)
	at com.ergodicity.core.session.SessionContentsSpec.runTest(SessionContentsSpec.scala:19)
	at org.scalatest.WordSpec$$anonfun$runTests$1.apply(WordSpec.scala:2232)
	at org.scalatest.WordSpec$$anonfun$runTests$1.apply(WordSpec.scala:2232)
	at org.scalatest.SuperEngine$$anonfun$org$scalatest$SuperEngine$$runTestsInBranch$1.apply(Engine.scala:226)
	at org.scalatest.SuperEngine$$anonfun$org$scalatest$SuperEngine$$runTestsInBranch$1.apply(Engine.scala:215)
	at scala.collection.LinearSeqOptimized$class.foreach(LinearSeqOptimized.scala:59)
	at scala.collection.immutable.List.foreach(List.scala:76)
	at org.scalatest.SuperEngine.org$scalatest$SuperEngine$$runTestsInBranch(Engine.scala:215)
	at org.scalatest.SuperEngine$$anonfun$org$scalatest$SuperEngine$$runTestsInBranch$1.apply(Engine.scala:231)
	at org.scalatest.SuperEngine$$anonfun$org$scalatest$SuperEngine$$runTestsInBranch$1.apply(Engine.scala:215)
	at scala.collection.LinearSeqOptimized$class.foreach(LinearSeqOptimized.scala:59)
	at scala.collection.immutable.List.foreach(List.scala:76)
	at org.scalatest.SuperEngine.org$scalatest$SuperEngine$$runTestsInBranch(Engine.scala:215)
	at org.scalatest.SuperEngine.runTestsImpl(Engine.scala:282)
	at org.scalatest.WordSpec$class.runTests(WordSpec.scala:2232)
	at com.ergodicity.core.session.SessionContentsSpec.runTests(SessionContentsSpec.scala:19)
	at org.scalatest.Suite$class.run(Suite.scala:2286)
	at com.ergodicity.core.session.SessionContentsSpec.org$scalatest$WordSpec$$super$run(SessionContentsSpec.scala:19)
	at org.scalatest.WordSpec$$anonfun$run$1.apply(WordSpec.scala:2279)
	at org.scalatest.WordSpec$$anonfun$run$1.apply(WordSpec.scala:2279)
	at org.scalatest.SuperEngine.runImpl(Engine.scala:318)
	at org.scalatest.WordSpec$class.run(WordSpec.scala:2279)
	at com.ergodicity.core.session.SessionContentsSpec.org$scalatest$BeforeAndAfterAll$$super$run(SessionContentsSpec.scala:19)
	at org.scalatest.BeforeAndAfterAll$class.run(BeforeAndAfterAll.scala:213)
	at com.ergodicity.core.session.SessionContentsSpec.run(SessionContentsSpec.scala:19)
	at org.scalatest.tools.ScalaTestFramework$ScalaTestRunner.run(ScalaTestFramework.scala:148)
	at sbt.TestRunner.delegateRun(TestFramework.scala:62)
	at sbt.TestRunner.run(TestFramework.scala:56)
	at sbt.TestRunner.runTest$1(TestFramework.scala:76)
	at sbt.TestRunner.run(TestFramework.scala:85)
	at sbt.TestFramework$$anonfun$6$$anonfun$apply$8$$anonfun$7$$anonfun$apply$9.apply(TestFramework.scala:184)
	at sbt.TestFramework$$anonfun$6$$anonfun$apply$8$$anonfun$7$$anonfun$apply$9.apply(TestFramework.scala:184)
	at sbt.TestFramework$.sbt$TestFramework$$withContextLoader(TestFramework.scala:196)
	at sbt.TestFramework$$anonfun$6$$anonfun$apply$8$$anonfun$7.apply(TestFramework.scala:184)
	at sbt.TestFramework$$anonfun$6$$anonfun$apply$8$$anonfun$7.apply(TestFramework.scala:184)
	at sbt.Tests$$anonfun$makeParallel$1$$anonfun$apply$7.apply(Tests.scala:113)
	at sbt.Tests$$anonfun$makeParallel$1$$anonfun$apply$7.apply(Tests.scala:113)
	at sbt.std.Transform$$anon$3$$anonfun$apply$2.apply(System.scala:47)
	at sbt.std.Transform$$anon$3$$anonfun$apply$2.apply(System.scala:47)
	at sbt.std.Transform$$anon$5.work(System.scala:67)
	at sbt.Execute$$anonfun$submit$1$$anonfun$apply$1.apply(Execute.scala:221)
	at sbt.Execute$$anonfun$submit$1$$anonfun$apply$1.apply(Execute.scala:221)
	at sbt.ErrorHandling$.wideConvert(ErrorHandling.scala:18)
	at sbt.Execute.work(Execute.scala:227)
	at sbt.Execute$$anonfun$submit$1.apply(Execute.scala:221)
	at sbt.Execute$$anonfun$submit$1.apply(Execute.scala:221)
	at sbt.CompletionService$$anon$1$$anon$2.call(CompletionService.scala:26)
	at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)
	at java.util.concurrent.FutureTask.run(Unknown Source)
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)
	at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)
	at java.util.concurrent.FutureTask.run(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)

[DEBUG] [12/06/2012 00:44:03.491] [pool-4-thread-1] [akka://SessionContentsSpec/user/Futures] started (com.ergodicity.core.session.SessionContentsSpec$$anonfun$1$$anonfun$apply$mcV$sp$1$$anonfun$2$$anon$1@742d7f)
[DEBUG] [12/06/2012 00:44:03.491] [pool-4-thread-1] [akka://SessionContentsSpec/user/Futures] now supervising Actor[akka://SessionContentsSpec/user/Futures/GMKR-6.12]
[INFO] [12/06/2012 00:44:03.491] [SessionContentsSpec-akka.actor.default-dispatcher-2] [akka://SessionContentsSpec/user/Futures/GMKR-6.12] Started instrument for security = FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future Contract)
[DEBUG] [12/06/2012 00:44:03.492] [SessionContentsSpec-akka.actor.default-dispatcher-2] [akka://SessionContentsSpec/user/Futures/GMKR-6.12] started (com.ergodicity.core.session.FutureInstrument@4685d5)
[DEBUG] [12/06/2012 00:44:03.492] [SessionContentsSpec-akka.actor.default-dispatcher-2] [akka://SessionContentsSpec/user/Futures/GMKR-6.12] processing Event(FutureParameters(100,Limits(100,100)),None) from TestActor[akka://SessionContentsSpec/user/Futures]
[DEBUG] [12/06/2012 00:44:03.492] [SessionContentsSpec-akka.actor.default-dispatcher-2] [akka://SessionContentsSpec/user/Futures/GMKR-6.12] processing Event(Suspended,Some(FutureParameters(100,Limits(100,100)))) from TestActor[akka://SessionContentsSpec/user/Futures]
[DEBUG] [12/06/2012 00:44:03.492] [SessionContentsSpec-akka.actor.default-dispatcher-1] [akka://SessionContentsSpec/system/testActor25] restarting
[DEBUG] [12/06/2012 00:44:03.492] [SessionContentsSpec-akka.actor.default-dispatcher-1] [akka://SessionContentsSpec/system/testActor25] restarted
[DEBUG] [12/06/2012 00:44:03.493] [pool-4-thread-1] [akka://SessionContentsSpec/user/Futures] Get session instrument: FutureContract(IsinId(0),Isin(BadIsin),ShortIsisn(),); Result = None
[DEBUG] [12/06/2012 00:44:03.509] [SessionContentsSpec-akka.actor.default-dispatcher-1] [akka://SessionContentsSpec/user] now supervising TestActor[akka://SessionContentsSpec/user/Futures]
[DEBUG] [12/06/2012 00:44:03.509] [pool-4-thread-3] [EventStream(akka://FuturesContentsManagerSpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:44:03.509] [pool-4-thread-3] [EventStream(akka://FuturesContentsManagerSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:44:03.510] [SessionContentsSpec-akka.actor.default-dispatcher-1] [akka://SessionContentsSpec/system/testActor26] started (akka.testkit.TestActor@14a44d9)
[DEBUG] [12/06/2012 00:44:03.510] [SessionContentsSpec-akka.actor.default-dispatcher-1] [akka://SessionContentsSpec/system] now supervising Actor[akka://SessionContentsSpec/system/testActor26]
[INFO] [12/06/2012 00:44:03.510] [pool-4-thread-1] [akka://SessionContentsSpec/user/Futures] Start SessionContents
[DEBUG] [12/06/2012 00:44:03.510] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-3] [akka://FuturesContentsManagerSpec/system/testActor27] started (akka.testkit.TestActor@80891f)
[DEBUG] [12/06/2012 00:44:03.510] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-3] [akka://FuturesContentsManagerSpec/system] now supervising Actor[akka://FuturesContentsManagerSpec/system/testActor27]
[ERROR] [12/06/2012 00:44:03.510] [pool-4-thread-1] [akka://SessionContentsSpec/system/testActor26] SubscribeTransitionCallBack(TestActor[akka://SessionContentsSpec/user/Futures]) (of class akka.actor.FSM$SubscribeTransitionCallBack)
scala.MatchError: SubscribeTransitionCallBack(TestActor[akka://SessionContentsSpec/user/Futures]) (of class akka.actor.FSM$SubscribeTransitionCallBack)
	at com.ergodicity.core.session.SessionContentsSpec$$anon$3.run(SessionContentsSpec.scala:64)
	at akka.testkit.TestActor$$anonfun$receive$1$$anonfun$apply$1.apply(TestKit.scala:53)
	at akka.testkit.TestActor$$anonfun$receive$1$$anonfun$apply$1.apply(TestKit.scala:53)
	at scala.Option.flatMap(Option.scala:146)
	at akka.testkit.TestActor$$anonfun$receive$1.apply(TestKit.scala:53)
	at akka.testkit.TestActor$$anonfun$receive$1.apply(TestKit.scala:47)
	at akka.actor.Actor$class.apply(Actor.scala:318)
	at akka.testkit.TestActor.apply(TestKit.scala:40)
	at akka.actor.ActorCell.invoke(ActorCell.scala:626)
	at akka.testkit.CallingThreadDispatcher.runQueue(CallingThreadDispatcher.scala:235)
	at akka.testkit.CallingThreadDispatcher.dispatch(CallingThreadDispatcher.scala:201)
	at akka.actor.ActorCell.tell(ActorCell.scala:475)
	at akka.actor.LocalActorRef.$bang(ActorRef.scala:328)
	at com.ergodicity.core.session.SessionContents.preStart(SessionContents.scala:33)
	at akka.actor.ActorCell.create$1(ActorCell.scala:508)
	at akka.actor.ActorCell.systemInvoke(ActorCell.scala:600)
	at akka.dispatch.Mailbox.processAllSystemMessages(Mailbox.scala:209)
	at akka.testkit.CallingThreadDispatcher.runQueue(CallingThreadDispatcher.scala:223)
	at akka.testkit.CallingThreadDispatcher.register(CallingThreadDispatcher.scala:147)
	at akka.dispatch.MessageDispatcher.attach(AbstractDispatcher.scala:244)
	at akka.actor.ActorCell.start(ActorCell.scala:440)
	at akka.actor.LocalActorRef.<init>(ActorRef.scala:247)
	at akka.testkit.TestActorRef.<init>(TestActorRef.scala:22)
	at akka.testkit.TestActorRef$.apply(TestActorRef.scala:119)
	at akka.testkit.TestActorRef$.apply(TestActorRef.scala:116)
	at akka.testkit.TestActorRef$.apply(TestActorRef.scala:111)
	at com.ergodicity.core.session.SessionContentsSpec$$anonfun$1$$anonfun$apply$mcV$sp$2.apply$mcV$sp(SessionContentsSpec.scala:49)
	at com.ergodicity.core.session.SessionContentsSpec$$anonfun$1$$anonfun$apply$mcV$sp$2.apply(SessionContentsSpec.scala:48)
	at com.ergodicity.core.session.SessionContentsSpec$$anonfun$1$$anonfun$apply$mcV$sp$2.apply(SessionContentsSpec.scala:48)
	at org.scalatest.WordSpec$$anon$2.apply(WordSpec.scala:2161)
	at org.scalatest.Suite$class.withFixture(Suite.scala:1968)
	at com.ergodicity.core.session.SessionContentsSpec.withFixture(SessionContentsSpec.scala:19)
	at org.scalatest.WordSpec$class.invokeWithFixture$1(WordSpec.scala:2158)
	at org.scalatest.WordSpec$$anonfun$runTest$1.apply(WordSpec.scala:2167)
	at org.scalatest.WordSpec$$anonfun$runTest$1.apply(WordSpec.scala:2167)
	at org.scalatest.SuperEngine.runTestImpl(Engine.scala:168)
	at org.scalatest.WordSpec$class.runTest(WordSpec.scala:2167)
	at com.ergodicity.core.session.SessionContentsSpec.runTest(SessionContentsSpec.scala:19)
	at org.scalatest.WordSpec$$anonfun$runTests$1.apply(WordSpec.scala:2232)
	at org.scalatest.WordSpec$$anonfun$runTests$1.apply(WordSpec.scala:2232)
	at org.scalatest.SuperEngine$$anonfun$org$scalatest$SuperEngine$$runTestsInBranch$1.apply(Engine.scala:226)
	at org.scalatest.SuperEngine$$anonfun$org$scalatest$SuperEngine$$runTestsInBranch$1.apply(Engine.scala:215)
	at scala.collection.LinearSeqOptimized$class.foreach(LinearSeqOptimized.scala:59)
	at scala.collection.immutable.List.foreach(List.scala:76)
	at org.scalatest.SuperEngine.org$scalatest$SuperEngine$$runTestsInBranch(Engine.scala:215)
	at org.scalatest.SuperEngine$$anonfun$org$scalatest$SuperEngine$$runTestsInBranch$1.apply(Engine.scala:231)
	at org.scalatest.SuperEngine$$anonfun$org$scalatest$SuperEngine$$runTestsInBranch$1.apply(Engine.scala:215)
	at scala.collection.LinearSeqOptimized$class.foreach(LinearSeqOptimized.scala:59)
	at scala.collection.immutable.List.foreach(List.scala:76)
	at org.scalatest.SuperEngine.org$scalatest$SuperEngine$$runTestsInBranch(Engine.scala:215)
	at org.scalatest.SuperEngine.runTestsImpl(Engine.scala:282)
	at org.scalatest.WordSpec$class.runTests(WordSpec.scala:2232)
	at com.ergodicity.core.session.SessionContentsSpec.runTests(SessionContentsSpec.scala:19)
	at org.scalatest.Suite$class.run(Suite.scala:2286)
	at com.ergodicity.core.session.SessionContentsSpec.org$scalatest$WordSpec$$super$run(SessionContentsSpec.scala:19)
	at org.scalatest.WordSpec$$anonfun$run$1.apply(WordSpec.scala:2279)
	at org.scalatest.WordSpec$$anonfun$run$1.apply(WordSpec.scala:2279)
	at org.scalatest.SuperEngine.runImpl(Engine.scala:318)
	at org.scalatest.WordSpec$class.run(WordSpec.scala:2279)
	at com.ergodicity.core.session.SessionContentsSpec.org$scalatest$BeforeAndAfterAll$$super$run(SessionContentsSpec.scala:19)
	at org.scalatest.BeforeAndAfterAll$class.run(BeforeAndAfterAll.scala:213)
	at com.ergodicity.core.session.SessionContentsSpec.run(SessionContentsSpec.scala:19)
	at org.scalatest.tools.ScalaTestFramework$ScalaTestRunner.run(ScalaTestFramework.scala:148)
	at sbt.TestRunner.delegateRun(TestFramework.scala:62)
	at sbt.TestRunner.run(TestFramework.scala:56)
	at sbt.TestRunner.runTest$1(TestFramework.scala:76)
	at sbt.TestRunner.run(TestFramework.scala:85)
	at sbt.TestFramework$$anonfun$6$$anonfun$apply$8$$anonfun$7$$anonfun$apply$9.apply(TestFramework.scala:184)
	at sbt.TestFramework$$anonfun$6$$anonfun$apply$8$$anonfun$7$$anonfun$apply$9.apply(TestFramework.scala:184)
	at sbt.TestFramework$.sbt$TestFramework$$withContextLoader(TestFramework.scala:196)
	at sbt.TestFramework$$anonfun$6$$anonfun$apply$8$$anonfun$7.apply(TestFramework.scala:184)
	at sbt.TestFramework$$anonfun$6$$anonfun$apply$8$$anonfun$7.apply(TestFramework.scala:184)
	at sbt.Tests$$anonfun$makeParallel$1$$anonfun$apply$7.apply(Tests.scala:113)
	at sbt.Tests$$anonfun$makeParallel$1$$anonfun$apply$7.apply(Tests.scala:113)
	at sbt.std.Transform$$anon$3$$anonfun$apply$2.apply(System.scala:47)
	at sbt.std.Transform$$anon$3$$anonfun$apply$2.apply(System.scala:47)
	at sbt.std.Transform$$anon$5.work(System.scala:67)
	at sbt.Execute$$anonfun$submit$1$$anonfun$apply$1.apply(Execute.scala:221)
	at sbt.Execute$$anonfun$submit$1$$anonfun$apply$1.apply(Execute.scala:221)
	at sbt.ErrorHandling$.wideConvert(ErrorHandling.scala:18)
	at sbt.Execute.work(Execute.scala:227)
	at sbt.Execute$$anonfun$submit$1.apply(Execute.scala:221)
	at sbt.Execute$$anonfun$submit$1.apply(Execute.scala:221)
	at sbt.CompletionService$$anon$1$$anon$2.call(CompletionService.scala:26)
	at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)
	at java.util.concurrent.FutureTask.run(Unknown Source)
	at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)
	at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)
	at java.util.concurrent.FutureTask.run(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)

[DEBUG] [12/06/2012 00:44:03.511] [pool-4-thread-1] [akka://SessionContentsSpec/user/Futures] started (com.ergodicity.core.session.SessionContentsSpec$$anonfun$1$$anonfun$apply$mcV$sp$2$$anonfun$3$$anon$2@aa8bed)
[DEBUG] [12/06/2012 00:44:03.511] [SessionContentsSpec-akka.actor.default-dispatcher-1] [akka://SessionContentsSpec/system/testActor26] restarting
[DEBUG] [12/06/2012 00:44:03.511] [SessionContentsSpec-akka.actor.default-dispatcher-1] [akka://SessionContentsSpec/system/testActor26] restarted
[DEBUG] [12/06/2012 00:44:03.511] [pool-4-thread-1] [akka://SessionContentsSpec/user/Futures] now supervising Actor[akka://SessionContentsSpec/user/Futures/GMKR-6.12]
[info] SessionContentsSpec:
[info] SessionContentes with FuturesManager 
[info] - must return None if instrument not found
[info] - must return instument reference if found
[DEBUG] [12/06/2012 00:44:03.511] [pool-4-thread-1] [akka://SessionContentsSpec/user/Futures] Get session instrument: FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future Contract); Result = Some((FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future Contract),Actor[akka://SessionContentsSpec/user/Futures/GMKR-6.12]))
[INFO] [12/06/2012 00:44:03.512] [SessionContentsSpec-akka.actor.default-dispatcher-1] [akka://SessionContentsSpec/user/Futures/GMKR-6.12] Started instrument for security = FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future Contract)
[DEBUG] [12/06/2012 00:44:03.512] [SessionContentsSpec-akka.actor.default-dispatcher-1] [akka://SessionContentsSpec/user/Futures/GMKR-6.12] started (com.ergodicity.core.session.FutureInstrument@1be445d)
[DEBUG] [12/06/2012 00:44:03.512] [SessionContentsSpec-akka.actor.default-dispatcher-1] [akka://SessionContentsSpec/user/Futures/GMKR-6.12] processing Event(FutureParameters(100,Limits(100,100)),None) from TestActor[akka://SessionContentsSpec/user/Futures]
[DEBUG] [12/06/2012 00:44:03.512] [SessionContentsSpec-akka.actor.default-dispatcher-1] [akka://SessionContentsSpec/user/Futures/GMKR-6.12] processing Event(Suspended,Some(FutureParameters(100,Limits(100,100)))) from TestActor[akka://SessionContentsSpec/user/Futures]
[INFO] [12/06/2012 00:44:03.512] [pool-4-thread-1] [akka://SessionContentsSpec/system/testActor24] Ref = Actor[akka://SessionContentsSpec/user/Futures/GMKR-6.12]
[DEBUG] [12/06/2012 00:44:03.512] [SessionContentsSpec-akka.actor.default-dispatcher-5] [akka://SessionContentsSpec/user/Futures] stopping
[DEBUG] [12/06/2012 00:44:03.512] [SessionContentsSpec-akka.actor.default-dispatcher-5] [akka://SessionContentsSpec/user] stopping
[DEBUG] [12/06/2012 00:44:03.512] [SessionContentsSpec-akka.actor.default-dispatcher-1] [akka://SessionContentsSpec/user/Futures] stopped
[DEBUG] [12/06/2012 00:44:03.512] [SessionContentsSpec-akka.actor.default-dispatcher-1] [akka://SessionContentsSpec/user/Futures/GMKR-6.12] stopped
[DEBUG] [12/06/2012 00:44:03.513] [SessionContentsSpec-akka.actor.default-dispatcher-4] [akka://SessionContentsSpec/user] stopped
[DEBUG] [12/06/2012 00:44:03.513] [SessionContentsSpec-akka.actor.default-dispatcher-5] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:03.513] [SessionContentsSpec-akka.actor.default-dispatcher-5] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:03.513] [SessionContentsSpec-akka.actor.default-dispatcher-5] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:44:03.514] [SessionContentsSpec-akka.actor.default-dispatcher-5] [akka://SessionContentsSpec/system/testActor24] stopped
[DEBUG] [12/06/2012 00:44:03.514] [SessionContentsSpec-akka.actor.default-dispatcher-4] [akka://SessionContentsSpec/system/log1-Logging$DefaultLogger] stopped
[DEBUG] [12/06/2012 00:44:03.514] [SessionContentsSpec-akka.actor.default-dispatcher-5] [akka://SessionContentsSpec/system/testActor25] stopped
[DEBUG] [12/06/2012 00:44:03.515] [SessionContentsSpec-akka.actor.default-dispatcher-5] [akka://SessionContentsSpec/system/testActor26] stopped
[DEBUG] [12/06/2012 00:44:03.515] [SessionContentsSpec-akka.actor.default-dispatcher-5] [akka://SessionContentsSpec/system] stopping
[DEBUG] [12/06/2012 00:44:03.515] [SessionContentsSpec-akka.actor.default-dispatcher-5] [akka://SessionContentsSpec/system] stopped
[DEBUG] [12/06/2012 00:44:03.515] [SessionContentsSpec-akka.actor.default-dispatcher-5] [akka://SessionContentsSpec/] stopped
[DEBUG] [12/06/2012 00:44:03.516] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-1] [akka://FuturesContentsManagerSpec/system/testActor28] started (akka.testkit.TestActor@f7b6e2)
[DEBUG] [12/06/2012 00:44:03.516] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-1] [akka://FuturesContentsManagerSpec/system] now supervising Actor[akka://FuturesContentsManagerSpec/system/testActor28]
[DEBUG] [12/06/2012 00:44:03.517] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-3] [akka://FuturesContentsManagerSpec/user] now supervising TestActor[akka://FuturesContentsManagerSpec/user/Futures]
[INFO] [12/06/2012 00:44:03.518] [pool-4-thread-3] [akka://FuturesContentsManagerSpec/user/Futures] Start SessionContents
[DEBUG] [12/06/2012 00:44:03.518] [pool-4-thread-3] [akka://FuturesContentsManagerSpec/user/Futures] started (com.ergodicity.core.session.FuturesContentsManagerSpec$$anonfun$1$$anonfun$apply$mcV$sp$1$$anonfun$2$$anon$1@2ef675)
[DEBUG] [12/06/2012 00:44:03.518] [pool-4-thread-3] [akka://FuturesContentsManagerSpec/user/Futures] now supervising Actor[akka://FuturesContentsManagerSpec/user/Futures/GMKR-6.12]
[INFO] [12/06/2012 00:44:03.519] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-2] [akka://FuturesContentsManagerSpec/user/Futures/GMKR-6.12] Started instrument for security = FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future Contract)
[DEBUG] [12/06/2012 00:44:03.519] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-2] [akka://FuturesContentsManagerSpec/user/Futures/GMKR-6.12] started (com.ergodicity.core.session.FutureInstrument@16edff1)
[DEBUG] [12/06/2012 00:44:03.519] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-2] [akka://FuturesContentsManagerSpec/user/Futures/GMKR-6.12] processing Event(FutureParameters(100,Limits(100,100)),None) from TestActor[akka://FuturesContentsManagerSpec/user/Futures]
[DEBUG] [12/06/2012 00:44:03.519] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-2] [akka://FuturesContentsManagerSpec/user/Futures/GMKR-6.12] processing Event(Suspended,Some(FutureParameters(100,Limits(100,100)))) from TestActor[akka://FuturesContentsManagerSpec/user/Futures]
[DEBUG] [12/06/2012 00:44:03.519] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-2] [akka://FuturesContentsManagerSpec/user/Futures/GMKR-6.12] processing Event(FutureParameters(100,Limits(100,100)),Some(FutureParameters(100,Limits(100,100)))) from TestActor[akka://FuturesContentsManagerSpec/user/Futures]
[DEBUG] [12/06/2012 00:44:03.519] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-2] [akka://FuturesContentsManagerSpec/user/Futures/GMKR-6.12] processing Event(Online,Some(FutureParameters(100,Limits(100,100)))) from TestActor[akka://FuturesContentsManagerSpec/user/Futures]
[DEBUG] [12/06/2012 00:44:03.519] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-2] [akka://FuturesContentsManagerSpec/user/Futures/GMKR-6.12] transition Suspended -> Online
[DEBUG] [12/06/2012 00:44:03.520] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-3] [akka://FuturesContentsManagerSpec/user/Futures/GMKR-6.12] processing Event(Suspended,Some(FutureParameters(100,Limits(100,100)))) from TestActor[akka://FuturesContentsManagerSpec/user/Futures]
[DEBUG] [12/06/2012 00:44:03.520] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-3] [akka://FuturesContentsManagerSpec/user/Futures/GMKR-6.12] transition Online -> Suspended
[DEBUG] [12/06/2012 00:44:03.520] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-3] [akka://FuturesContentsManagerSpec/user/Futures/GMKR-6.12] processing Event(FutureParameters(100,Limits(100,100)),Some(FutureParameters(100,Limits(100,100)))) from TestActor[akka://FuturesContentsManagerSpec/user/Futures]
[DEBUG] [12/06/2012 00:44:03.520] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-3] [akka://FuturesContentsManagerSpec/user/Futures/GMKR-6.12] processing Event(Suspended,Some(FutureParameters(100,Limits(100,100)))) from TestActor[akka://FuturesContentsManagerSpec/user/Futures]
[DEBUG] [12/06/2012 00:44:03.520] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-3] [akka://FuturesContentsManagerSpec/user/Futures/GMKR-6.12] processing Event(Assigned,Some(FutureParameters(100,Limits(100,100)))) from TestActor[akka://FuturesContentsManagerSpec/user/Futures]
[DEBUG] [12/06/2012 00:44:03.520] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-3] [akka://FuturesContentsManagerSpec/user/Futures/GMKR-6.12] transition Suspended -> Assigned
[DEBUG] [12/06/2012 00:44:03.522] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-2] [akka://FuturesContentsManagerSpec/user] now supervising TestActor[akka://FuturesContentsManagerSpec/user/Futures]
[DEBUG] [12/06/2012 00:44:03.523] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-2] [akka://FuturesContentsManagerSpec/system/testActor29] started (akka.testkit.TestActor@1158310)
[DEBUG] [12/06/2012 00:44:03.523] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-2] [akka://FuturesContentsManagerSpec/system] now supervising Actor[akka://FuturesContentsManagerSpec/system/testActor29]
[INFO] [12/06/2012 00:44:03.524] [pool-4-thread-3] [akka://FuturesContentsManagerSpec/user/Futures] Start SessionContents
[DEBUG] [12/06/2012 00:44:03.524] [pool-4-thread-3] [akka://FuturesContentsManagerSpec/user/Futures] started (com.ergodicity.core.session.FuturesContentsManagerSpec$$anonfun$1$$anonfun$apply$mcV$sp$2$$anonfun$3$$anon$2@92a6a0)
[info] FuturesContentsManagerSpec:
[info] FuturesContentsManager 
[info] - must should track record updates merging with session state
[info]   + When receive new instrument in suspended state 
[info]   + Then should create actor for it 
[info]   + When Instrument goes online 
[info]   + Then should receive transition event 
[info]   + When session suspended 
[info]   + Then instrument should be suspended too 
[info]   + When instrument goes to Assigned state 
[info]   + And session goes online 
[info]   + Then instrument goes to Assigned 
[info] - must merge session and instrument states
[DEBUG] [12/06/2012 00:44:03.524] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-3] [akka://FuturesContentsManagerSpec/user/Futures] stopping
[DEBUG] [12/06/2012 00:44:03.525] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-3] [akka://FuturesContentsManagerSpec/user] stopping
[DEBUG] [12/06/2012 00:44:03.525] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-1] [akka://FuturesContentsManagerSpec/user/Futures] stopped
[DEBUG] [12/06/2012 00:44:03.525] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-1] [akka://FuturesContentsManagerSpec/user/Futures/GMKR-6.12] stopped
[DEBUG] [12/06/2012 00:44:03.526] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-1] [akka://FuturesContentsManagerSpec/user] stopped
[info] ActionSpec:
[info] Action 
[info] - must support FutAddOrder Buy
[info] - must support OptAddOrder Buy
[info] - must support FutDelOrder
[info] - must support OptDelOrder
[DEBUG] [12/06/2012 00:44:03.526] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-1] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:03.526] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-1] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:03.526] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-1] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:44:03.526] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-3] [akka://FuturesContentsManagerSpec/system/log1-Logging$DefaultLogger] stopped
[DEBUG] [12/06/2012 00:44:03.527] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-1] [akka://FuturesContentsManagerSpec/system/testActor27] stopped
[DEBUG] [12/06/2012 00:44:03.527] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-1] [akka://FuturesContentsManagerSpec/system/testActor28] stopped
[DEBUG] [12/06/2012 00:44:03.527] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-1] [akka://FuturesContentsManagerSpec/system/testActor29] stopped
[DEBUG] [12/06/2012 00:44:03.527] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-1] [akka://FuturesContentsManagerSpec/system] stopping
[DEBUG] [12/06/2012 00:44:03.527] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-1] [akka://FuturesContentsManagerSpec/system] stopped
[DEBUG] [12/06/2012 00:44:03.528] [FuturesContentsManagerSpec-akka.actor.default-dispatcher-3] [akka://FuturesContentsManagerSpec/] stopped
[DEBUG] [12/06/2012 00:44:03.532] [pool-4-thread-3] [EventStream(akka://PositionsTrackingSpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:44:03.532] [pool-4-thread-3] [EventStream(akka://PositionsTrackingSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:44:03.533] [pool-4-thread-1] [EventStream(akka://PositionActorSpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:44:03.533] [pool-4-thread-1] [EventStream(akka://PositionActorSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:44:03.533] [PositionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://PositionsTrackingSpec/system/testActor30] started (akka.testkit.TestActor@c01434)
[DEBUG] [12/06/2012 00:44:03.533] [PositionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://PositionsTrackingSpec/system] now supervising Actor[akka://PositionsTrackingSpec/system/testActor30]
[DEBUG] [12/06/2012 00:44:03.534] [PositionActorSpec-akka.actor.default-dispatcher-1] [akka://PositionActorSpec/system/testActor31] started (akka.testkit.TestActor@12065c0)
[DEBUG] [12/06/2012 00:44:03.534] [PositionActorSpec-akka.actor.default-dispatcher-1] [akka://PositionActorSpec/system] now supervising Actor[akka://PositionActorSpec/system/testActor31]
[DEBUG] [12/06/2012 00:44:03.540] [PositionActorSpec-akka.actor.default-dispatcher-2] [akka://PositionActorSpec/user] now supervising TestActor[akka://PositionActorSpec/user/$$g]
[DEBUG] [12/06/2012 00:44:03.541] [PositionsTrackingSpec-akka.actor.default-dispatcher-3] [akka://PositionsTrackingSpec/user] now supervising TestActor[akka://PositionsTrackingSpec/user/Positions]
[DEBUG] [12/06/2012 00:44:03.543] [PositionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://PositionsTrackingSpec/user] now supervising TestActor[akka://PositionsTrackingSpec/user/DataStream]
[INFO] [12/06/2012 00:44:03.550] [pool-4-thread-1] [akka://PositionActorSpec/user/$$g] Opened position; Security = FutureContract(IsinId(111),Isin(RTS-9.12),ShortIsisn(RIU2),Future contract)
[DEBUG] [12/06/2012 00:44:03.550] [pool-4-thread-1] [akka://PositionActorSpec/user/$$g] started (com.ergodicity.core.position.PositionActor@18eced8)
[DEBUG] [12/06/2012 00:44:03.552] [PositionActorSpec-akka.actor.default-dispatcher-2] [akka://PositionActorSpec/user] now supervising TestActor[akka://PositionActorSpec/user/$$h]
[INFO] [12/06/2012 00:44:03.552] [pool-4-thread-1] [akka://PositionActorSpec/user/$$h] Opened position; Security = FutureContract(IsinId(111),Isin(RTS-9.12),ShortIsisn(RIU2),Future contract)
[DEBUG] [12/06/2012 00:44:03.552] [pool-4-thread-1] [akka://PositionActorSpec/user/$$h] started (com.ergodicity.core.position.PositionActor@1121eac)
[DEBUG] [12/06/2012 00:44:03.555] [PositionActorSpec-akka.actor.default-dispatcher-2] [akka://PositionActorSpec/user] now supervising TestActor[akka://PositionActorSpec/user/$$i]
[INFO] [12/06/2012 00:44:03.555] [pool-4-thread-1] [akka://PositionActorSpec/user/$$i] Opened position; Security = FutureContract(IsinId(111),Isin(RTS-9.12),ShortIsisn(RIU2),Future contract)
[DEBUG] [12/06/2012 00:44:03.555] [pool-4-thread-1] [akka://PositionActorSpec/user/$$i] started (com.ergodicity.core.position.PositionActor@1851943)
[DEBUG] [12/06/2012 00:44:03.555] [pool-4-thread-1] [akka://PositionActorSpec/user/$$i] Position updated to Position(10), dynamics = PositionDynamics(0,10,0,0,None)
[DEBUG] [12/06/2012 00:44:03.557] [PositionActorSpec-akka.actor.default-dispatcher-2] [akka://PositionActorSpec/user] now supervising TestActor[akka://PositionActorSpec/user/$$j]
[INFO] [12/06/2012 00:44:03.557] [pool-4-thread-1] [akka://PositionActorSpec/user/$$j] Opened position; Security = FutureContract(IsinId(111),Isin(RTS-9.12),ShortIsisn(RIU2),Future contract)
[DEBUG] [12/06/2012 00:44:03.557] [pool-4-thread-1] [akka://PositionActorSpec/user/$$j] started (com.ergodicity.core.position.PositionActor@1a2d330)
[DEBUG] [12/06/2012 00:44:03.559] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/DataStream] started (com.ergodicity.cgate.DataStream@1cc62fc)
[DEBUG] [12/06/2012 00:44:03.560] [pool-4-thread-1] [akka://PositionActorSpec/user/$$j] Position updated to Position(10), dynamics = PositionDynamics(0,10,0,0,None)
[DEBUG] [12/06/2012 00:44:03.560] [PositionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://PositionsTrackingSpec/user/DataStream] processing Event(SubscribeStreamEvents(Actor[akka://PositionsTrackingSpec/user/Positions/PositionsDispatcher]),StreamEventSubscribers(Set())) from Actor[akka://PositionsTrackingSpec/user/Positions/PositionsDispatcher]
[DEBUG] [12/06/2012 00:44:03.561] [pool-4-thread-1] [akka://PositionActorSpec/user/$$j] Position updated to Position(-2), dynamics = PositionDynamics(0,10,12,0,None)
[DEBUG] [12/06/2012 00:44:03.562] [pool-4-thread-1] [akka://PositionActorSpec/user/$$j] Position updated to Position(0), dynamics = PositionDynamics(0,12,12,0,None)
[info] PositionActorSpec:
[info] PositionActor 
[info] - must initialied in Position.flat state
[info] - must stay in Position.flat position on update with position = 0
[info] - must go to Long position on update
[info] - must handle position updates
[DEBUG] [12/06/2012 00:44:03.562] [PositionActorSpec-akka.actor.default-dispatcher-2] [akka://PositionActorSpec/user/$$g] stopped
[DEBUG] [12/06/2012 00:44:03.563] [PositionActorSpec-akka.actor.default-dispatcher-2] [akka://PositionActorSpec/user/$$h] stopped
[DEBUG] [12/06/2012 00:44:03.563] [PositionActorSpec-akka.actor.default-dispatcher-2] [akka://PositionActorSpec/user/$$i] stopped
[DEBUG] [12/06/2012 00:44:03.563] [PositionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://PositionsTrackingSpec/user/Positions/PositionsDispatcher] started (com.ergodicity.core.PositionsDispatcher@117d7da)
[DEBUG] [12/06/2012 00:44:03.563] [PositionActorSpec-akka.actor.default-dispatcher-2] [akka://PositionActorSpec/user/$$j] stopped
[DEBUG] [12/06/2012 00:44:03.564] [PositionActorSpec-akka.actor.default-dispatcher-2] [akka://PositionActorSpec/user] stopping
[DEBUG] [12/06/2012 00:44:03.564] [PositionActorSpec-akka.actor.default-dispatcher-2] [akka://PositionActorSpec/user] stopped
[DEBUG] [12/06/2012 00:44:03.564] [PositionActorSpec-akka.actor.default-dispatcher-3] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:03.564] [PositionActorSpec-akka.actor.default-dispatcher-3] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:44:03.565] [PositionActorSpec-akka.actor.default-dispatcher-3] [akka://PositionActorSpec/system/testActor31] stopped
[DEBUG] [12/06/2012 00:44:03.565] [PositionActorSpec-akka.actor.default-dispatcher-3] [akka://PositionActorSpec/system] stopping
[DEBUG] [12/06/2012 00:44:03.565] [PositionActorSpec-akka.actor.default-dispatcher-1] [akka://PositionActorSpec/system/log1-Logging$DefaultLogger] stopped
[DEBUG] [12/06/2012 00:44:03.565] [PositionActorSpec-akka.actor.default-dispatcher-4] [akka://PositionActorSpec/system] stopped
[DEBUG] [12/06/2012 00:44:03.565] [PositionActorSpec-akka.actor.default-dispatcher-1] [akka://PositionActorSpec/] stopped
[DEBUG] [12/06/2012 00:44:03.566] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] started (com.ergodicity.core.PositionsTracking@18bf9b)
[DEBUG] [12/06/2012 00:44:03.567] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] now supervising Actor[akka://PositionsTrackingSpec/user/Positions/PositionsDispatcher]
[DEBUG] [12/06/2012 00:44:03.568] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] Assigned contents; Size = 1
[DEBUG] [12/06/2012 00:44:03.569] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] Position updated; Security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(RIU2),Future contract)
[DEBUG] [12/06/2012 00:44:03.569] [pool-4-thread-1] [EventStream(akka://InstrumentActorSpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:44:03.569] [pool-4-thread-1] [EventStream(akka://InstrumentActorSpec)] Default Loggers started
[INFO] [12/06/2012 00:44:03.570] [PositionsTrackingSpec-akka.actor.default-dispatcher-3] [akka://PositionsTrackingSpec/user/Positions/RTS-9.12] Opened position; Security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(RIU2),Future contract)
[DEBUG] [12/06/2012 00:44:03.570] [PositionsTrackingSpec-akka.actor.default-dispatcher-3] [akka://PositionsTrackingSpec/user/Positions/RTS-9.12] started (com.ergodicity.core.position.PositionActor@fcbc0e)
[DEBUG] [12/06/2012 00:44:03.570] [InstrumentActorSpec-akka.actor.default-dispatcher-3] [akka://InstrumentActorSpec/system/testActor32] started (akka.testkit.TestActor@9e7a36)
[DEBUG] [12/06/2012 00:44:03.570] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] now supervising Actor[akka://PositionsTrackingSpec/user/Positions/RTS-9.12]
[DEBUG] [12/06/2012 00:44:03.570] [InstrumentActorSpec-akka.actor.default-dispatcher-3] [akka://InstrumentActorSpec/system] now supervising Actor[akka://InstrumentActorSpec/system/testActor32]
[DEBUG] [12/06/2012 00:44:03.570] [PositionsTrackingSpec-akka.actor.default-dispatcher-3] [akka://PositionsTrackingSpec/user/Positions/RTS-9.12] Position updated to Position(1), dynamics = PositionDynamics(0,1,0,0,None)
[DEBUG] [12/06/2012 00:44:03.571] [PositionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://PositionsTrackingSpec/user] now supervising TestActor[akka://PositionsTrackingSpec/user/Positions]
[DEBUG] [12/06/2012 00:44:03.572] [PositionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://PositionsTrackingSpec/user] now supervising TestActor[akka://PositionsTrackingSpec/user/DataStream]
[DEBUG] [12/06/2012 00:44:03.572] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/DataStream] started (com.ergodicity.cgate.DataStream@1ecb259)
[DEBUG] [12/06/2012 00:44:03.572] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] started (com.ergodicity.core.PositionsTracking@b0f939)
[DEBUG] [12/06/2012 00:44:03.573] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] now supervising Actor[akka://PositionsTrackingSpec/user/Positions/PositionsDispatcher]
[DEBUG] [12/06/2012 00:44:03.573] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] Assigned contents; Size = 1
[DEBUG] [12/06/2012 00:44:03.573] [PositionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://PositionsTrackingSpec/user/DataStream] processing Event(SubscribeStreamEvents(Actor[akka://PositionsTrackingSpec/user/Positions/PositionsDispatcher]),StreamEventSubscribers(Set())) from Actor[akka://PositionsTrackingSpec/user/Positions/PositionsDispatcher]
[DEBUG] [12/06/2012 00:44:03.573] [PositionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://PositionsTrackingSpec/user/Positions/PositionsDispatcher] started (com.ergodicity.core.PositionsDispatcher@ba4d23)
[DEBUG] [12/06/2012 00:44:03.573] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] Position updated; Security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(RIU2),Future contract)
[INFO] [12/06/2012 00:44:03.573] [PositionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://PositionsTrackingSpec/user/Positions/RTS-9.12] Opened position; Security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(RIU2),Future contract)
[DEBUG] [12/06/2012 00:44:03.573] [PositionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://PositionsTrackingSpec/user/Positions/RTS-9.12] started (com.ergodicity.core.position.PositionActor@11e591b)
[DEBUG] [12/06/2012 00:44:03.573] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] now supervising Actor[akka://PositionsTrackingSpec/user/Positions/RTS-9.12]
[DEBUG] [12/06/2012 00:44:03.573] [PositionsTrackingSpec-akka.actor.default-dispatcher-3] [akka://PositionsTrackingSpec/user/Positions/RTS-9.12] Position updated to Position(1), dynamics = PositionDynamics(0,1,0,0,None)
[DEBUG] [12/06/2012 00:44:03.574] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] Position discarded; Security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(RIU2),Future contract)
[DEBUG] [12/06/2012 00:44:03.575] [InstrumentActorSpec-akka.actor.default-dispatcher-1] [akka://InstrumentActorSpec/user] now supervising TestActor[akka://InstrumentActorSpec/user/$$k]
[INFO] [12/06/2012 00:44:03.576] [pool-4-thread-1] [akka://InstrumentActorSpec/user/$$k] Started instrument for security = FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),‘ьючерсный контракт GMKR-06.12)
[DEBUG] [12/06/2012 00:44:03.576] [pool-4-thread-1] [akka://InstrumentActorSpec/user/$$k] started (com.ergodicity.core.session.FutureInstrument@19c196)
[DEBUG] [12/06/2012 00:44:03.576] [PositionsTrackingSpec-akka.actor.default-dispatcher-4] [akka://PositionsTrackingSpec/user/Positions/RTS-9.12] Position updated to Position(0), dynamics = PositionDynamics(0,0,0,0,None)
[DEBUG] [12/06/2012 00:44:03.577] [InstrumentActorSpec-akka.actor.default-dispatcher-2] [akka://InstrumentActorSpec/user] now supervising TestActor[akka://InstrumentActorSpec/user/$$l]
[INFO] [12/06/2012 00:44:03.577] [pool-4-thread-1] [akka://InstrumentActorSpec/user/$$l] Started instrument for security = FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),‘ьючерсный контракт GMKR-06.12)
[DEBUG] [12/06/2012 00:44:03.577] [pool-4-thread-1] [akka://InstrumentActorSpec/user/$$l] started (com.ergodicity.core.session.FutureInstrument@1e793e6)
[DEBUG] [12/06/2012 00:44:03.577] [pool-4-thread-1] [akka://InstrumentActorSpec/user/$$l] processing Event(Online,None) from Actor[akka://InstrumentActorSpec/system/testActor32]
[DEBUG] [12/06/2012 00:44:03.577] [pool-4-thread-1] [akka://InstrumentActorSpec/user/$$l] transition Suspended -> Online
[DEBUG] [12/06/2012 00:44:03.578] [PositionsTrackingSpec-akka.actor.default-dispatcher-4] [akka://PositionsTrackingSpec/user] now supervising TestActor[akka://PositionsTrackingSpec/user/Positions]
[DEBUG] [12/06/2012 00:44:03.578] [InstrumentActorSpec-akka.actor.default-dispatcher-1] [akka://InstrumentActorSpec/user] now supervising TestActor[akka://InstrumentActorSpec/user/$$m]
[INFO] [12/06/2012 00:44:03.578] [pool-4-thread-1] [akka://InstrumentActorSpec/user/$$m] Started instrument for security = FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),‘ьючерсный контракт GMKR-06.12)
[DEBUG] [12/06/2012 00:44:03.578] [pool-4-thread-1] [akka://InstrumentActorSpec/user/$$m] started (com.ergodicity.core.session.FutureInstrument@dd7547)
[DEBUG] [12/06/2012 00:44:03.578] [PositionsTrackingSpec-akka.actor.default-dispatcher-4] [akka://PositionsTrackingSpec/user] now supervising TestActor[akka://PositionsTrackingSpec/user/DataStream]
[DEBUG] [12/06/2012 00:44:03.578] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/DataStream] started (com.ergodicity.cgate.DataStream@10b50fd)
[DEBUG] [12/06/2012 00:44:03.579] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] started (com.ergodicity.core.PositionsTracking@79d91c)
[DEBUG] [12/06/2012 00:44:03.579] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] now supervising Actor[akka://PositionsTrackingSpec/user/Positions/PositionsDispatcher]
[DEBUG] [12/06/2012 00:44:03.579] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] Assigned contents; Size = 1
[DEBUG] [12/06/2012 00:44:03.579] [PositionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://PositionsTrackingSpec/user/DataStream] processing Event(SubscribeStreamEvents(Actor[akka://PositionsTrackingSpec/user/Positions/PositionsDispatcher]),StreamEventSubscribers(Set())) from Actor[akka://PositionsTrackingSpec/user/Positions/PositionsDispatcher]
[DEBUG] [12/06/2012 00:44:03.579] [PositionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://PositionsTrackingSpec/user/Positions/PositionsDispatcher] started (com.ergodicity.core.PositionsDispatcher@19cc9d1)
[DEBUG] [12/06/2012 00:44:03.579] [pool-4-thread-1] [akka://InstrumentActorSpec/user/$$m] processing Event(SubscribeInstrumentCallback(Actor[akka://InstrumentActorSpec/system/testActor32]),None) from Actor[akka://InstrumentActorSpec/system/testActor32]
[DEBUG] [12/06/2012 00:44:03.579] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] Position updated; Security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(RIU2),Future contract)
[DEBUG] [12/06/2012 00:44:03.579] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] now supervising Actor[akka://PositionsTrackingSpec/user/Positions/RTS-9.12]
[INFO] [12/06/2012 00:44:03.579] [PositionsTrackingSpec-akka.actor.default-dispatcher-4] [akka://PositionsTrackingSpec/user/Positions/RTS-9.12] Opened position; Security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(RIU2),Future contract)
[DEBUG] [12/06/2012 00:44:03.579] [PositionsTrackingSpec-akka.actor.default-dispatcher-4] [akka://PositionsTrackingSpec/user/Positions/RTS-9.12] started (com.ergodicity.core.position.PositionActor@85ed7b)
[DEBUG] [12/06/2012 00:44:03.579] [PositionsTrackingSpec-akka.actor.default-dispatcher-4] [akka://PositionsTrackingSpec/user/Positions/RTS-9.12] Position updated to Position(1), dynamics = PositionDynamics(0,1,0,0,None)
[DEBUG] [12/06/2012 00:44:03.579] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] Position updated; Security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(RIU2),Future contract)
[DEBUG] [12/06/2012 00:44:03.579] [PositionsTrackingSpec-akka.actor.default-dispatcher-4] [akka://PositionsTrackingSpec/user/Positions/RTS-9.12] Position updated to Position(2), dynamics = PositionDynamics(0,2,0,0,None)
[DEBUG] [12/06/2012 00:44:03.580] [PositionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://PositionsTrackingSpec/user] now supervising TestActor[akka://PositionsTrackingSpec/user/Positions]
[DEBUG] [12/06/2012 00:44:03.581] [PositionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://PositionsTrackingSpec/user] now supervising TestActor[akka://PositionsTrackingSpec/user/DataStream]
[DEBUG] [12/06/2012 00:44:03.581] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/DataStream] started (com.ergodicity.cgate.DataStream@f4548e)
[DEBUG] [12/06/2012 00:44:03.581] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] started (com.ergodicity.core.PositionsTracking@db6234)
[DEBUG] [12/06/2012 00:44:03.581] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] now supervising Actor[akka://PositionsTrackingSpec/user/Positions/PositionsDispatcher]
[DEBUG] [12/06/2012 00:44:03.581] [PositionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://PositionsTrackingSpec/user/DataStream] processing Event(SubscribeStreamEvents(Actor[akka://PositionsTrackingSpec/user/Positions/PositionsDispatcher]),StreamEventSubscribers(Set())) from Actor[akka://PositionsTrackingSpec/user/Positions/PositionsDispatcher]
[DEBUG] [12/06/2012 00:44:03.582] [PositionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://PositionsTrackingSpec/user/Positions/PositionsDispatcher] started (com.ergodicity.core.PositionsDispatcher@10c7fdb)
[INFO] [12/06/2012 00:44:03.583] [PositionsTrackingSpec-akka.actor.default-dispatcher-1] [akka://PositionsTrackingSpec/user/Positions/RTS-9.12] Opened position; Security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(RIU2),Future contract)
[DEBUG] [12/06/2012 00:44:03.583] [PositionsTrackingSpec-akka.actor.default-dispatcher-1] [akka://PositionsTrackingSpec/user/Positions/RTS-9.12] started (com.ergodicity.core.position.PositionActor@170f74)
[DEBUG] [12/06/2012 00:44:03.583] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] now supervising Actor[akka://PositionsTrackingSpec/user/Positions/RTS-9.12]
[DEBUG] [12/06/2012 00:44:03.584] [PositionsTrackingSpec-akka.actor.default-dispatcher-1] [akka://PositionsTrackingSpec/user] now supervising TestActor[akka://PositionsTrackingSpec/user/Positions]
[DEBUG] [12/06/2012 00:44:03.584] [PositionsTrackingSpec-akka.actor.default-dispatcher-1] [akka://PositionsTrackingSpec/user] now supervising TestActor[akka://PositionsTrackingSpec/user/DataStream]
[DEBUG] [12/06/2012 00:44:03.585] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/DataStream] started (com.ergodicity.cgate.DataStream@a96ad2)
[DEBUG] [12/06/2012 00:44:03.585] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] started (com.ergodicity.core.PositionsTracking@a40da4)
[DEBUG] [12/06/2012 00:44:03.585] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] now supervising Actor[akka://PositionsTrackingSpec/user/Positions/PositionsDispatcher]
[DEBUG] [12/06/2012 00:44:03.585] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] Assigned contents; Size = 1
[DEBUG] [12/06/2012 00:44:03.585] [PositionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://PositionsTrackingSpec/user/DataStream] processing Event(SubscribeStreamEvents(Actor[akka://PositionsTrackingSpec/user/Positions/PositionsDispatcher]),StreamEventSubscribers(Set())) from Actor[akka://PositionsTrackingSpec/user/Positions/PositionsDispatcher]
[DEBUG] [12/06/2012 00:44:03.585] [PositionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://PositionsTrackingSpec/user/Positions/PositionsDispatcher] started (com.ergodicity.core.PositionsDispatcher@7b97a6)
[DEBUG] [12/06/2012 00:44:03.585] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] Position updated; Security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(RIU2),Future contract)
[INFO] [12/06/2012 00:44:03.585] [PositionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://PositionsTrackingSpec/user/Positions/RTS-9.12] Opened position; Security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(RIU2),Future contract)
[DEBUG] [12/06/2012 00:44:03.585] [PositionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://PositionsTrackingSpec/user/Positions/RTS-9.12] started (com.ergodicity.core.position.PositionActor@2117a3)
[DEBUG] [12/06/2012 00:44:03.585] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] now supervising Actor[akka://PositionsTrackingSpec/user/Positions/RTS-9.12]
[DEBUG] [12/06/2012 00:44:03.585] [PositionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://PositionsTrackingSpec/user/Positions/RTS-9.12] Position updated to Position(1), dynamics = PositionDynamics(0,1,0,0,None)
[DEBUG] [12/06/2012 00:44:03.586] [PositionsTrackingSpec-akka.actor.default-dispatcher-1] [akka://PositionsTrackingSpec/user] now supervising TestActor[akka://PositionsTrackingSpec/user/Positions]
[DEBUG] [12/06/2012 00:44:03.587] [PositionsTrackingSpec-akka.actor.default-dispatcher-1] [akka://PositionsTrackingSpec/user] now supervising TestActor[akka://PositionsTrackingSpec/user/DataStream]
[DEBUG] [12/06/2012 00:44:03.587] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/DataStream] started (com.ergodicity.cgate.DataStream@1855219)
[DEBUG] [12/06/2012 00:44:03.587] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] started (com.ergodicity.core.PositionsTracking@1d0fa8d)
[DEBUG] [12/06/2012 00:44:03.587] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] now supervising Actor[akka://PositionsTrackingSpec/user/Positions/PositionsDispatcher]
[DEBUG] [12/06/2012 00:44:03.587] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] Assigned contents; Size = 1
[DEBUG] [12/06/2012 00:44:03.587] [PositionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://PositionsTrackingSpec/user/DataStream] processing Event(SubscribeStreamEvents(Actor[akka://PositionsTrackingSpec/user/Positions/PositionsDispatcher]),StreamEventSubscribers(Set())) from Actor[akka://PositionsTrackingSpec/user/Positions/PositionsDispatcher]
[DEBUG] [12/06/2012 00:44:03.587] [PositionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://PositionsTrackingSpec/user/Positions/PositionsDispatcher] started (com.ergodicity.core.PositionsDispatcher@f169f8)
[DEBUG] [12/06/2012 00:44:03.587] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] Position updated; Security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(RIU2),Future contract)
[INFO] [12/06/2012 00:44:03.587] [PositionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://PositionsTrackingSpec/user/Positions/RTS-9.12] Opened position; Security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(RIU2),Future contract)
[DEBUG] [12/06/2012 00:44:03.587] [PositionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://PositionsTrackingSpec/user/Positions/RTS-9.12] started (com.ergodicity.core.position.PositionActor@164380a)
[DEBUG] [12/06/2012 00:44:03.587] [pool-4-thread-3] [akka://PositionsTrackingSpec/user/Positions] now supervising Actor[akka://PositionsTrackingSpec/user/Positions/RTS-9.12]
[DEBUG] [12/06/2012 00:44:03.587] [PositionsTrackingSpec-akka.actor.default-dispatcher-2] [akka://PositionsTrackingSpec/user/Positions/RTS-9.12] Position updated to Position(1), dynamics = PositionDynamics(0,1,0,0,None)
[info] PositionsTrackingSpec:
[info] Positions Tracking 
[info] - must handle positions updates
[info] - must close discarded positions
[info]   + When position created 
[info]   + Then should create actor for if 
[info]   + When position discarded 
[info]   + Then positions size should remain the same 
[info]   + And notified on position transition 
[info] - must update existing positions
[info]   + When position updated 
[info]   + Then should get transtition notification 
[info] - must create new positions if it doesn't exists
[info] - must return existing position on track position event
[info] - must get all opened positions
[DEBUG] [12/06/2012 00:44:03.596] [PositionsTrackingSpec-akka.actor.default-dispatcher-4] [akka://PositionsTrackingSpec/user/DataStream] stopped
[DEBUG] [12/06/2012 00:44:03.596] [PositionsTrackingSpec-akka.actor.default-dispatcher-4] [akka://PositionsTrackingSpec/user/Positions] stopping
[DEBUG] [12/06/2012 00:44:03.596] [PositionsTrackingSpec-akka.actor.default-dispatcher-4] [akka://PositionsTrackingSpec/user/Positions] stopped
[DEBUG] [12/06/2012 00:44:03.597] [PositionsTrackingSpec-akka.actor.default-dispatcher-4] [akka://PositionsTrackingSpec/user] stopping
[DEBUG] [12/06/2012 00:44:03.597] [PositionsTrackingSpec-akka.actor.default-dispatcher-1] [akka://PositionsTrackingSpec/user/Positions/PositionsDispatcher] stopped
[DEBUG] [12/06/2012 00:44:03.597] [PositionsTrackingSpec-akka.actor.default-dispatcher-3] [akka://PositionsTrackingSpec/user/Positions/RTS-9.12] stopped
[DEBUG] [12/06/2012 00:44:03.597] [PositionsTrackingSpec-akka.actor.default-dispatcher-4] [akka://PositionsTrackingSpec/user] stopped
[DEBUG] [12/06/2012 00:44:03.598] [PositionsTrackingSpec-akka.actor.default-dispatcher-1] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:03.598] [PositionsTrackingSpec-akka.actor.default-dispatcher-1] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:03.598] [PositionsTrackingSpec-akka.actor.default-dispatcher-1] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:44:03.598] [PositionsTrackingSpec-akka.actor.default-dispatcher-4] [akka://PositionsTrackingSpec/system/log1-Logging$DefaultLogger] stopped
[DEBUG] [12/06/2012 00:44:03.598] [PositionsTrackingSpec-akka.actor.default-dispatcher-1] [akka://PositionsTrackingSpec/system/testActor30] stopped
[DEBUG] [12/06/2012 00:44:03.598] [PositionsTrackingSpec-akka.actor.default-dispatcher-1] [akka://PositionsTrackingSpec/system] stopping
[DEBUG] [12/06/2012 00:44:03.598] [PositionsTrackingSpec-akka.actor.default-dispatcher-1] [akka://PositionsTrackingSpec/system] stopped
[DEBUG] [12/06/2012 00:44:03.598] [PositionsTrackingSpec-akka.actor.default-dispatcher-4] [akka://PositionsTrackingSpec/] stopped
[DEBUG] [12/06/2012 00:44:03.603] [pool-4-thread-3] [EventStream(akka://SessionsDispatchersSpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:44:03.603] [pool-4-thread-3] [EventStream(akka://SessionsDispatchersSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:44:03.604] [SessionsDispatchersSpec-akka.actor.default-dispatcher-1] [akka://SessionsDispatchersSpec/system/testActor33] started (akka.testkit.TestActor@12aec78)
[DEBUG] [12/06/2012 00:44:03.604] [SessionsDispatchersSpec-akka.actor.default-dispatcher-1] [akka://SessionsDispatchersSpec/system] now supervising Actor[akka://SessionsDispatchersSpec/system/testActor33]
[DEBUG] [12/06/2012 00:44:03.611] [SessionsDispatchersSpec-akka.actor.default-dispatcher-2] [akka://SessionsDispatchersSpec/user] now supervising TestActor[akka://SessionsDispatchersSpec/user/Dispatcher]
[DEBUG] [12/06/2012 00:44:03.611] [SessionsDispatchersSpec-akka.actor.default-dispatcher-2] [akka://SessionsDispatchersSpec/system/testActor34] started (akka.testkit.TestActor@131f387)
[DEBUG] [12/06/2012 00:44:03.611] [SessionsDispatchersSpec-akka.actor.default-dispatcher-2] [akka://SessionsDispatchersSpec/system] now supervising Actor[akka://SessionsDispatchersSpec/system/testActor34]
[DEBUG] [12/06/2012 00:44:03.611] [pool-4-thread-3] [akka://SessionsDispatchersSpec/user/Dispatcher] started (com.ergodicity.core.FutInfoDispatcher@6b3517)
[DEBUG] [12/06/2012 00:44:03.612] [SessionsDispatchersSpec-akka.actor.default-dispatcher-1] [akka://SessionsDispatchersSpec/user] now supervising TestActor[akka://SessionsDispatchersSpec/user/Dispatcher]
[DEBUG] [12/06/2012 00:44:03.612] [pool-4-thread-3] [akka://SessionsDispatchersSpec/user/Dispatcher] started (com.ergodicity.core.FutInfoDispatcher@18c3a52)
[DEBUG] [12/06/2012 00:44:03.615] [SessionsDispatchersSpec-akka.actor.default-dispatcher-1] [akka://SessionsDispatchersSpec/user] now supervising TestActor[akka://SessionsDispatchersSpec/user/Dispatcher]
[DEBUG] [12/06/2012 00:44:03.616] [pool-4-thread-3] [akka://SessionsDispatchersSpec/user/Dispatcher] started (com.ergodicity.core.FutInfoDispatcher@1bedc75)
[info] TradesTrackingSpec:
[info] Trades Tracking 
[info] - must forward trades for subscribed securities
[DEBUG] [12/06/2012 00:44:03.774] [pool-4-thread-4] [EventStream(akka://SessionActorSpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:44:03.774] [pool-4-thread-4] [EventStream(akka://SessionActorSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:44:03.776] [SessionActorSpec-akka.actor.default-dispatcher-3] [akka://SessionActorSpec/system/testActor35] started (akka.testkit.TestActor@2fe91c)
[DEBUG] [12/06/2012 00:44:03.778] [SessionActorSpec-akka.actor.default-dispatcher-3] [akka://SessionActorSpec/system] now supervising Actor[akka://SessionActorSpec/system/testActor35]
[DEBUG] [12/06/2012 00:44:03.797] [SessionActorSpec-akka.actor.default-dispatcher-2] [akka://SessionActorSpec/user] now supervising TestActor[akka://SessionActorSpec/user/IntradayClearing]
[DEBUG] [12/06/2012 00:44:03.798] [pool-4-thread-4] [akka://SessionActorSpec/user/IntradayClearing] started (com.ergodicity.core.session.IntradayClearing@117074e)
[DEBUG] [12/06/2012 00:44:03.798] [pool-4-thread-4] [akka://SessionActorSpec/user/IntradayClearing] processing Event(Completed,()) from Actor[akka://SessionActorSpec/system/testActor35]
[DEBUG] [12/06/2012 00:44:03.798] [pool-4-thread-4] [akka://SessionActorSpec/user/IntradayClearing] transition Undefined -> Completed
[INFO] [12/06/2012 00:44:03.798] [pool-4-thread-4] [akka://SessionActorSpec/system/testActor35] State: Completed
[DEBUG] [12/06/2012 00:44:03.800] [SessionActorSpec-akka.actor.default-dispatcher-1] [akka://SessionActorSpec/user] now supervising TestActor[akka://SessionActorSpec/user/Session]
[INFO] [12/06/2012 00:44:03.800] [SessionActorSpec-akka.actor.default-dispatcher-1] [akka://SessionActorSpec/user/Session/Futures] Start SessionContents
[INFO] [12/06/2012 00:44:03.800] [SessionActorSpec-akka.actor.default-dispatcher-3] [akka://SessionActorSpec/user/Session/Options] Start SessionContents
[DEBUG] [12/06/2012 00:44:03.800] [SessionActorSpec-akka.actor.default-dispatcher-2] [akka://SessionActorSpec/user/Session/IntradayClearing] started (com.ergodicity.core.session.IntradayClearing@1e6e184)
[DEBUG] [12/06/2012 00:44:03.800] [pool-4-thread-4] [akka://SessionActorSpec/user/Session] started (SessionActor(Session(SessionId(100,101),2012-12-06T00:44:03.777/2012-12-06T00:44:03.777,None,None,2012-12-06T00:44:03.777/2012-12-06T00:44:03.777)))
[DEBUG] [12/06/2012 00:44:03.800] [pool-4-thread-4] [akka://SessionActorSpec/user/Session] now supervising Actor[akka://SessionActorSpec/user/Session/IntradayClearing]
[DEBUG] [12/06/2012 00:44:03.801] [pool-4-thread-4] [akka://SessionActorSpec/user/Session] now supervising Actor[akka://SessionActorSpec/user/Session/Futures]
[DEBUG] [12/06/2012 00:44:03.801] [pool-4-thread-4] [akka://SessionActorSpec/user/Session] now supervising Actor[akka://SessionActorSpec/user/Session/Options]
[DEBUG] [12/06/2012 00:44:03.801] [SessionActorSpec-akka.actor.default-dispatcher-3] [akka://SessionActorSpec/user/Session/Options] started (com.ergodicity.core.session.SessionActor$$anonfun$5$$anon$2@dfd76d)
[DEBUG] [12/06/2012 00:44:03.801] [SessionActorSpec-akka.actor.default-dispatcher-1] [akka://SessionActorSpec/user/Session/Futures] started (com.ergodicity.core.session.SessionActor$$anonfun$4$$anon$1@1b85039)
[DEBUG] [12/06/2012 00:44:03.802] [SessionActorSpec-akka.actor.default-dispatcher-2] [akka://SessionActorSpec/user] now supervising TestActor[akka://SessionActorSpec/user/Session]
[INFO] [12/06/2012 00:44:03.803] [SessionActorSpec-akka.actor.default-dispatcher-2] [akka://SessionActorSpec/user/Session/Futures] Start SessionContents
[INFO] [12/06/2012 00:44:03.803] [SessionActorSpec-akka.actor.default-dispatcher-4] [akka://SessionActorSpec/user/Session/Options] Start SessionContents
[DEBUG] [12/06/2012 00:44:03.803] [SessionActorSpec-akka.actor.default-dispatcher-1] [akka://SessionActorSpec/user/Session/IntradayClearing] started (com.ergodicity.core.session.IntradayClearing@1599863)
[DEBUG] [12/06/2012 00:44:03.803] [pool-4-thread-4] [akka://SessionActorSpec/user/Session] started (SessionActor(Session(SessionId(100,101),2012-12-06T00:44:03.777/2012-12-06T00:44:03.777,None,None,2012-12-06T00:44:03.777/2012-12-06T00:44:03.777)))
[DEBUG] [12/06/2012 00:44:03.803] [pool-4-thread-4] [akka://SessionActorSpec/user/Session] now supervising Actor[akka://SessionActorSpec/user/Session/IntradayClearing]
[DEBUG] [12/06/2012 00:44:03.803] [pool-4-thread-4] [akka://SessionActorSpec/user/Session] now supervising Actor[akka://SessionActorSpec/user/Session/Futures]
[DEBUG] [12/06/2012 00:44:03.803] [pool-4-thread-4] [akka://SessionActorSpec/user/Session] now supervising Actor[akka://SessionActorSpec/user/Session/Options]
[DEBUG] [12/06/2012 00:44:03.803] [SessionActorSpec-akka.actor.default-dispatcher-2] [akka://SessionActorSpec/user/Session/Futures] started (com.ergodicity.core.session.SessionActor$$anonfun$4$$anon$1@123ab0c)
[DEBUG] [12/06/2012 00:44:03.804] [SessionActorSpec-akka.actor.default-dispatcher-4] [akka://SessionActorSpec/user/Session/Options] started (com.ergodicity.core.session.SessionActor$$anonfun$5$$anon$2@74eb25)
[DEBUG] [12/06/2012 00:44:03.804] [pool-4-thread-4] [akka://SessionActorSpec/user/Session] processing Event(Suspended,()) from Actor[akka://SessionActorSpec/system/testActor35]
[DEBUG] [12/06/2012 00:44:03.804] [pool-4-thread-4] [akka://SessionActorSpec/user/Session] transition Assigned -> Suspended
[DEBUG] [12/06/2012 00:44:03.804] [pool-4-thread-4] [akka://SessionActorSpec/user/Session] processing Event(Running,()) from Actor[akka://SessionActorSpec/system/testActor35]
[DEBUG] [12/06/2012 00:44:03.804] [SessionActorSpec-akka.actor.default-dispatcher-3] [akka://SessionActorSpec/user/Session/IntradayClearing] processing Event(Running,()) from TestActor[akka://SessionActorSpec/user/Session]
[DEBUG] [12/06/2012 00:44:03.804] [SessionActorSpec-akka.actor.default-dispatcher-3] [akka://SessionActorSpec/user/Session/IntradayClearing] transition Undefined -> Running
[DEBUG] [12/06/2012 00:44:03.805] [SessionActorSpec-akka.actor.default-dispatcher-5] [akka://SessionActorSpec/user] now supervising TestActor[akka://SessionActorSpec/user/Session2]
[INFO] [12/06/2012 00:44:03.806] [SessionActorSpec-akka.actor.default-dispatcher-5] [akka://SessionActorSpec/user/Session2/Futures] Start SessionContents
[DEBUG] [12/06/2012 00:44:03.806] [SessionActorSpec-akka.actor.default-dispatcher-3] [akka://SessionActorSpec/user/Session2/IntradayClearing] started (com.ergodicity.core.session.IntradayClearing@184a4e)
[INFO] [12/06/2012 00:44:03.806] [SessionActorSpec-akka.actor.default-dispatcher-4] [akka://SessionActorSpec/user/Session2/Options] Start SessionContents
[DEBUG] [12/06/2012 00:44:03.806] [pool-4-thread-4] [akka://SessionActorSpec/user/Session2] started (SessionActor(Session(SessionId(100,101),2012-12-06T00:44:03.777/2012-12-06T00:44:03.777,None,None,2012-12-06T00:44:03.777/2012-12-06T00:44:03.777)))
[DEBUG] [12/06/2012 00:44:03.806] [pool-4-thread-4] [akka://SessionActorSpec/user/Session2] now supervising Actor[akka://SessionActorSpec/user/Session2/IntradayClearing]
[DEBUG] [12/06/2012 00:44:03.806] [pool-4-thread-4] [akka://SessionActorSpec/user/Session2] now supervising Actor[akka://SessionActorSpec/user/Session2/Futures]
[DEBUG] [12/06/2012 00:44:03.806] [pool-4-thread-4] [akka://SessionActorSpec/user/Session2] now supervising Actor[akka://SessionActorSpec/user/Session2/Options]
[DEBUG] [12/06/2012 00:44:03.806] [SessionActorSpec-akka.actor.default-dispatcher-5] [akka://SessionActorSpec/user/Session2/Futures] started (com.ergodicity.core.session.SessionActor$$anonfun$4$$anon$1@b663a7)
[DEBUG] [12/06/2012 00:44:03.807] [SessionActorSpec-akka.actor.default-dispatcher-4] [akka://SessionActorSpec/user/Session2/Options] started (com.ergodicity.core.session.SessionActor$$anonfun$5$$anon$2@488b28)
[DEBUG] [12/06/2012 00:44:03.807] [pool-4-thread-4] [akka://SessionActorSpec/user/Session2] processing Event(FutSessContents(100,FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future Contract),FutureParameters(100,Limits(100,100)),Suspended),()) from Actor[akka://SessionActorSpec/system/testActor35]
[DEBUG] [12/06/2012 00:44:03.807] [SessionActorSpec-akka.actor.default-dispatcher-4] [akka://SessionActorSpec/user/Session2/Futures] now supervising Actor[akka://SessionActorSpec/user/Session2/Futures/GMKR-6.12]
[INFO] [12/06/2012 00:44:03.807] [SessionActorSpec-akka.actor.default-dispatcher-5] [akka://SessionActorSpec/user/Session2/Futures/GMKR-6.12] Started instrument for security = FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future Contract)
[DEBUG] [12/06/2012 00:44:03.807] [SessionActorSpec-akka.actor.default-dispatcher-5] [akka://SessionActorSpec/user/Session2/Futures/GMKR-6.12] started (com.ergodicity.core.session.FutureInstrument@583225)
[DEBUG] [12/06/2012 00:44:03.809] [SessionActorSpec-akka.actor.default-dispatcher-5] [akka://SessionActorSpec/user/Session2/Futures/GMKR-6.12] processing Event(FutureParameters(100,Limits(100,100)),None) from Actor[akka://SessionActorSpec/user/Session2/Futures]
[DEBUG] [12/06/2012 00:44:03.809] [SessionActorSpec-akka.actor.default-dispatcher-5] [akka://SessionActorSpec/user/Session2/Futures/GMKR-6.12] processing Event(Suspended,Some(FutureParameters(100,Limits(100,100)))) from Actor[akka://SessionActorSpec/user/Session2/Futures]
[DEBUG] [12/06/2012 00:44:03.820] [OrdersTrackingSpec-akka.actor.default-dispatcher-4] [akka://OrdersTrackingSpec/user] now supervising TestActor[akka://OrdersTrackingSpec/user/OrderBooksTracking]
[DEBUG] [12/06/2012 00:44:03.820] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrderBooksTracking] started (com.ergodicity.core.order.OrderBooksTracking@1df88d8)
[DEBUG] [12/06/2012 00:44:03.820] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/user/OrderBooksTracking/OrderLogDispatcher] started (com.ergodicity.core.order.OrderLogDispatcher@912926)
[DEBUG] [12/06/2012 00:44:03.820] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrderBooksTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrderBooksTracking/OrderLogDispatcher]
[INFO] [12/06/2012 00:44:03.820] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrderBooksTracking] Assigned contents; Size = 2
[info] OrderBooksTrackingSpec:
[info] OrderBooksTracking 
[info] - must wait for Orders snapshots after start up
[info] - must consume orders snapshots
[info] - must consume orders snapshots with Fill action
[info] - must discard orders with smaller revision
[info]   + When get message with bigger revision 
[info]   + Then should forward it to session order books 
[info]   + When get message with bigger revision 
[info]   + Then should forward it to session order books 
[info] - must go to online state where receive message with revision greater then max of snapshots
[info]   + When get message with big revision 
[info]   + Then should forward it to session order books 
[info]   + And go to Online state 
[DEBUG] [12/06/2012 00:44:03.822] [OrdersTrackingSpec-akka.actor.default-dispatcher-4] [akka://OrdersTrackingSpec/user/OrderBooksTracking] stopping
[DEBUG] [12/06/2012 00:44:03.823] [OrdersTrackingSpec-akka.actor.default-dispatcher-4] [akka://OrdersTrackingSpec/user] stopping
[DEBUG] [12/06/2012 00:44:03.823] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/user/OrderBooksTracking/100] stopping
[DEBUG] [12/06/2012 00:44:03.823] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/user/OrderBooksTracking/OrderLogDispatcher] stopped
[DEBUG] [12/06/2012 00:44:03.823] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/user/OrderBooksTracking/100/RTS-9.12] stopped
[DEBUG] [12/06/2012 00:44:03.823] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:03.823] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/user/OrderBooksTracking] stopped
[DEBUG] [12/06/2012 00:44:03.823] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/user/OrderBooksTracking/100] stopped
[DEBUG] [12/06/2012 00:44:03.824] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:44:03.824] [OrdersTrackingSpec-akka.actor.default-dispatcher-4] [akka://OrdersTrackingSpec/system/log1-Logging$DefaultLogger] stopped
[DEBUG] [12/06/2012 00:44:03.824] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/system/testActor2] stopped
[DEBUG] [12/06/2012 00:44:03.825] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/system] stopping
[DEBUG] [12/06/2012 00:44:03.825] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/system] stopped
[DEBUG] [12/06/2012 00:44:03.825] [OrdersTrackingSpec-akka.actor.default-dispatcher-4] [akka://OrdersTrackingSpec/] stopped
[DEBUG] [12/06/2012 00:44:03.833] [pool-4-thread-2] [EventStream(akka://OrdersTrackingSpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:44:03.833] [pool-4-thread-2] [EventStream(akka://OrdersTrackingSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:44:03.835] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/system/testActor36] started (akka.testkit.TestActor@6d4f55)
[DEBUG] [12/06/2012 00:44:03.835] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/system] now supervising Actor[akka://OrdersTrackingSpec/system/testActor36]
[DEBUG] [12/06/2012 00:44:03.849] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/user] now supervising TestActor[akka://OrdersTrackingSpec/user/OrdersTracking]
[DEBUG] [12/06/2012 00:44:03.852] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/system/testActor37] started (akka.testkit.TestActor@a76313)
[DEBUG] [12/06/2012 00:44:03.852] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/system] now supervising Actor[akka://OrdersTrackingSpec/system/testActor37]
[DEBUG] [12/06/2012 00:44:03.852] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/system/testActor38] started (akka.testkit.TestActor@1c76eae)
[DEBUG] [12/06/2012 00:44:03.852] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/system] now supervising Actor[akka://OrdersTrackingSpec/system/testActor38]
[DEBUG] [12/06/2012 00:44:03.853] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/user/OrdersTracking/FutureOrdersDispatcher] started (com.ergodicity.core.order.FutureOrdersDispatcher@1e0a62c)
[DEBUG] [12/06/2012 00:44:03.853] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/user/OrdersTracking/OptionOrdersDispatcher] started (com.ergodicity.core.order.OptionOrdersDispatcher@a896)
[DEBUG] [12/06/2012 00:44:03.860] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] started (com.ergodicity.core.order.OrdersTracking@304e81)
[DEBUG] [12/06/2012 00:44:03.860] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrdersTracking/FutureOrdersDispatcher]
[DEBUG] [12/06/2012 00:44:03.860] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrdersTracking/OptionOrdersDispatcher]
[DEBUG] [12/06/2012 00:44:03.861] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/user] now supervising TestActor[akka://OrdersTrackingSpec/user/OrdersTracking]
[DEBUG] [12/06/2012 00:44:03.861] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/system/testActor39] started (akka.testkit.TestActor@19909be)
[DEBUG] [12/06/2012 00:44:03.861] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/system] now supervising Actor[akka://OrdersTrackingSpec/system/testActor39]
[DEBUG] [12/06/2012 00:44:03.861] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/system/testActor40] started (akka.testkit.TestActor@fdebc3)
[DEBUG] [12/06/2012 00:44:03.861] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/system] now supervising Actor[akka://OrdersTrackingSpec/system/testActor40]
[DEBUG] [12/06/2012 00:44:03.861] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/user/OrdersTracking/FutureOrdersDispatcher] started (com.ergodicity.core.order.FutureOrdersDispatcher@1f5da4f)
[DEBUG] [12/06/2012 00:44:03.861] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] started (com.ergodicity.core.order.OrdersTracking@1cf9c6b)
[DEBUG] [12/06/2012 00:44:03.861] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/user/OrdersTracking/OptionOrdersDispatcher] started (com.ergodicity.core.order.OptionOrdersDispatcher@1263ce9)
[DEBUG] [12/06/2012 00:44:03.861] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrdersTracking/FutureOrdersDispatcher]
[DEBUG] [12/06/2012 00:44:03.861] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrdersTracking/OptionOrdersDispatcher]
[DEBUG] [12/06/2012 00:44:03.861] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] processing Event(OngoingSession(SessionId(100,100),Actor[akka://OrdersTrackingSpec/system/testActor36]),None) from Actor[akka://OrdersTrackingSpec/system/testActor36]
[DEBUG] [12/06/2012 00:44:03.862] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] transition CatchingOngoingSession -> Tracking
[DEBUG] [12/06/2012 00:44:03.862] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/user] now supervising TestActor[akka://OrdersTrackingSpec/user/OrdersTracking]
[DEBUG] [12/06/2012 00:44:03.863] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/system/testActor41] started (akka.testkit.TestActor@15d9491)
[DEBUG] [12/06/2012 00:44:03.863] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/system] now supervising Actor[akka://OrdersTrackingSpec/system/testActor41]
[DEBUG] [12/06/2012 00:44:03.863] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/system/testActor42] started (akka.testkit.TestActor@15c1c12)
[DEBUG] [12/06/2012 00:44:03.863] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/system] now supervising Actor[akka://OrdersTrackingSpec/system/testActor42]
[DEBUG] [12/06/2012 00:44:03.863] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/user/OrdersTracking/FutureOrdersDispatcher] started (com.ergodicity.core.order.FutureOrdersDispatcher@36fe23)
[DEBUG] [12/06/2012 00:44:03.863] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/user/OrdersTracking/OptionOrdersDispatcher] started (com.ergodicity.core.order.OptionOrdersDispatcher@a268c1)
[DEBUG] [12/06/2012 00:44:03.863] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] started (com.ergodicity.core.order.OrdersTracking@8b7d2e)
[DEBUG] [12/06/2012 00:44:03.863] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrdersTracking/FutureOrdersDispatcher]
[DEBUG] [12/06/2012 00:44:03.863] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrdersTracking/OptionOrdersDispatcher]
[DEBUG] [12/06/2012 00:44:03.871] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/system/testActor43] started (akka.testkit.TestActor@405a6c)
[DEBUG] [12/06/2012 00:44:03.871] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/system] now supervising Actor[akka://OrdersTrackingSpec/system/testActor43]
[DEBUG] [12/06/2012 00:44:03.871] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] processing Event(OngoingSessionTransition(OngoingSession(SessionId(100,100),Actor[akka://OrdersTrackingSpec/system/testActor36]),OngoingSession(SessionId(101,101),Actor[akka://OrdersTrackingSpec/system/testActor36])),Some(OngoingSession(SessionId(100,100),Actor[akka://OrdersTrackingSpec/system/testActor36]))) from Actor[akka://OrdersTrackingSpec/system/testActor36]
[INFO] [12/06/2012 00:44:03.871] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] Drop all orders from previous session = OngoingSession(SessionId(100,100),Actor[akka://OrdersTrackingSpec/system/testActor36])
[INFO] [12/06/2012 00:44:03.871] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] Switch to new session = OngoingSession(SessionId(101,101),Actor[akka://OrdersTrackingSpec/system/testActor36])
[DEBUG] [12/06/2012 00:44:03.872] [pool-4-thread-2] [akka://OrdersTrackingSpec/system/testActor43] stopped
[DEBUG] [12/06/2012 00:44:03.873] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/user] now supervising TestActor[akka://OrdersTrackingSpec/user/OrdersTracking]
[DEBUG] [12/06/2012 00:44:03.873] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/system/testActor44] started (akka.testkit.TestActor@2cb419)
[DEBUG] [12/06/2012 00:44:03.873] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/system] now supervising Actor[akka://OrdersTrackingSpec/system/testActor44]
[DEBUG] [12/06/2012 00:44:03.874] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/system/testActor45] started (akka.testkit.TestActor@1f89a27)
[DEBUG] [12/06/2012 00:44:03.874] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/system] now supervising Actor[akka://OrdersTrackingSpec/system/testActor45]
[DEBUG] [12/06/2012 00:44:03.874] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/user/OrdersTracking/FutureOrdersDispatcher] started (com.ergodicity.core.order.FutureOrdersDispatcher@507ea2)
[DEBUG] [12/06/2012 00:44:03.874] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] started (com.ergodicity.core.order.OrdersTracking@13f3da9)
[DEBUG] [12/06/2012 00:44:03.874] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrdersTracking/FutureOrdersDispatcher]
[DEBUG] [12/06/2012 00:44:03.874] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrdersTracking/OptionOrdersDispatcher]
[DEBUG] [12/06/2012 00:44:03.874] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/user/OrdersTracking/OptionOrdersDispatcher] started (com.ergodicity.core.order.OptionOrdersDispatcher@e95b4e)
[DEBUG] [12/06/2012 00:44:03.877] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] processing Event(OrderLog(100,OrderAction(0,Create(Mock for Order, hashCode: 3901420))),Some(OngoingSession(SessionId(100,100),Actor[akka://OrdersTrackingSpec/system/testActor36]))) from Actor[akka://OrdersTrackingSpec/system/testActor36]
[DEBUG] [12/06/2012 00:44:03.877] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] Create new order, id = 0
[DEBUG] [12/06/2012 00:44:03.878] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrdersTracking/0]
[DEBUG] [12/06/2012 00:44:03.879] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/user/OrdersTracking/0] started (com.ergodicity.core.order.OrderActor@1299d24)
[DEBUG] [12/06/2012 00:44:03.879] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] processing Event(OrderLog(101,OrderAction(1,Create(Mock for Order, hashCode: 17555065))),Some(OngoingSession(SessionId(100,100),Actor[akka://OrdersTrackingSpec/system/testActor36]))) from Actor[akka://OrdersTrackingSpec/system/testActor36]
[WARN] [12/06/2012 00:44:03.879] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] unhandled event OrderLog(101,OrderAction(1,Create(Mock for Order, hashCode: 17555065))) in state Tracking
[DEBUG] [12/06/2012 00:44:03.879] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] processing Event(OrderLog(102,OrderAction(2,Create(Mock for Order, hashCode: 11975252))),Some(OngoingSession(SessionId(100,100),Actor[akka://OrdersTrackingSpec/system/testActor36]))) from Actor[akka://OrdersTrackingSpec/system/testActor36]
[WARN] [12/06/2012 00:44:03.879] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] unhandled event OrderLog(102,OrderAction(2,Create(Mock for Order, hashCode: 11975252))) in state Tracking
[DEBUG] [12/06/2012 00:44:03.880] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] processing Event(OrderLog(103,OrderAction(3,Create(Mock for Order, hashCode: 8587826))),Some(OngoingSession(SessionId(100,100),Actor[akka://OrdersTrackingSpec/system/testActor36]))) from Actor[akka://OrdersTrackingSpec/system/testActor36]
[WARN] [12/06/2012 00:44:03.880] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] unhandled event OrderLog(103,OrderAction(3,Create(Mock for Order, hashCode: 8587826))) in state Tracking
[DEBUG] [12/06/2012 00:44:03.880] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] processing Event(OrderLog(104,OrderAction(4,Create(Mock for Order, hashCode: 17981192))),Some(OngoingSession(SessionId(100,100),Actor[akka://OrdersTrackingSpec/system/testActor36]))) from Actor[akka://OrdersTrackingSpec/system/testActor36]
[WARN] [12/06/2012 00:44:03.880] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] unhandled event OrderLog(104,OrderAction(4,Create(Mock for Order, hashCode: 17981192))) in state Tracking
[DEBUG] [12/06/2012 00:44:03.880] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] processing Event(OrderLog(105,OrderAction(5,Create(Mock for Order, hashCode: 18693936))),Some(OngoingSession(SessionId(100,100),Actor[akka://OrdersTrackingSpec/system/testActor36]))) from Actor[akka://OrdersTrackingSpec/system/testActor36]
[WARN] [12/06/2012 00:44:03.880] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] unhandled event OrderLog(105,OrderAction(5,Create(Mock for Order, hashCode: 18693936))) in state Tracking
[DEBUG] [12/06/2012 00:44:03.880] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] processing Event(OrderLog(106,OrderAction(6,Create(Mock for Order, hashCode: 18839621))),Some(OngoingSession(SessionId(100,100),Actor[akka://OrdersTrackingSpec/system/testActor36]))) from Actor[akka://OrdersTrackingSpec/system/testActor36]
[WARN] [12/06/2012 00:44:03.880] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] unhandled event OrderLog(106,OrderAction(6,Create(Mock for Order, hashCode: 18839621))) in state Tracking
[DEBUG] [12/06/2012 00:44:03.881] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] processing Event(OrderLog(107,OrderAction(7,Create(Mock for Order, hashCode: 17897295))),Some(OngoingSession(SessionId(100,100),Actor[akka://OrdersTrackingSpec/system/testActor36]))) from Actor[akka://OrdersTrackingSpec/system/testActor36]
[WARN] [12/06/2012 00:44:03.881] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] unhandled event OrderLog(107,OrderAction(7,Create(Mock for Order, hashCode: 17897295))) in state Tracking
[DEBUG] [12/06/2012 00:44:03.881] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] processing Event(OrderLog(108,OrderAction(8,Create(Mock for Order, hashCode: 17917160))),Some(OngoingSession(SessionId(100,100),Actor[akka://OrdersTrackingSpec/system/testActor36]))) from Actor[akka://OrdersTrackingSpec/system/testActor36]
[WARN] [12/06/2012 00:44:03.881] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] unhandled event OrderLog(108,OrderAction(8,Create(Mock for Order, hashCode: 17917160))) in state Tracking
[DEBUG] [12/06/2012 00:44:03.881] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] processing Event(OrderLog(109,OrderAction(9,Create(Mock for Order, hashCode: 16244946))),Some(OngoingSession(SessionId(100,100),Actor[akka://OrdersTrackingSpec/system/testActor36]))) from Actor[akka://OrdersTrackingSpec/system/testActor36]
[WARN] [12/06/2012 00:44:03.881] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] unhandled event OrderLog(109,OrderAction(9,Create(Mock for Order, hashCode: 16244946))) in state Tracking
[DEBUG] [12/06/2012 00:44:03.881] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] processing Event(OrderLog(110,OrderAction(10,Create(Mock for Order, hashCode: 29951423))),Some(OngoingSession(SessionId(100,100),Actor[akka://OrdersTrackingSpec/system/testActor36]))) from Actor[akka://OrdersTrackingSpec/system/testActor36]
[WARN] [12/06/2012 00:44:03.882] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] unhandled event OrderLog(110,OrderAction(10,Create(Mock for Order, hashCode: 29951423))) in state Tracking
[DEBUG] [12/06/2012 00:44:03.882] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/user] now supervising TestActor[akka://OrdersTrackingSpec/user/OrdersTracking]
[DEBUG] [12/06/2012 00:44:03.883] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/system/testActor46] started (akka.testkit.TestActor@9dd0b3)
[DEBUG] [12/06/2012 00:44:03.883] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/system] now supervising Actor[akka://OrdersTrackingSpec/system/testActor46]
[DEBUG] [12/06/2012 00:44:03.883] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/system/testActor47] started (akka.testkit.TestActor@bac656)
[DEBUG] [12/06/2012 00:44:03.883] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/system] now supervising Actor[akka://OrdersTrackingSpec/system/testActor47]
[DEBUG] [12/06/2012 00:44:03.883] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/user/OrdersTracking/FutureOrdersDispatcher] started (com.ergodicity.core.order.FutureOrdersDispatcher@333879)
[DEBUG] [12/06/2012 00:44:03.883] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/user/OrdersTracking/OptionOrdersDispatcher] started (com.ergodicity.core.order.OptionOrdersDispatcher@19b07aa)
[DEBUG] [12/06/2012 00:44:03.883] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] started (com.ergodicity.core.order.OrdersTracking@1143c29)
[DEBUG] [12/06/2012 00:44:03.883] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrdersTracking/FutureOrdersDispatcher]
[DEBUG] [12/06/2012 00:44:03.883] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrdersTracking/OptionOrdersDispatcher]
[DEBUG] [12/06/2012 00:44:03.883] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] processing Event(OrderLog(100,OrderAction(12345,Create(Order(12345,100,IsinId(100),Buy,123,1,1)))),Some(OngoingSession(SessionId(100,100),Actor[akka://OrdersTrackingSpec/system/testActor36]))) from Actor[akka://OrdersTrackingSpec/system/testActor36]
[DEBUG] [12/06/2012 00:44:03.883] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] Create new order, id = 12345
[DEBUG] [12/06/2012 00:44:03.883] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrdersTracking/12345]
[DEBUG] [12/06/2012 00:44:03.883] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/user/OrdersTracking/12345] started (com.ergodicity.core.order.OrderActor@179b395)
[DEBUG] [12/06/2012 00:44:03.884] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/user] now supervising TestActor[akka://OrdersTrackingSpec/user/OrdersTracking]
[DEBUG] [12/06/2012 00:44:03.884] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/system/testActor48] started (akka.testkit.TestActor@10d9396)
[DEBUG] [12/06/2012 00:44:03.885] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/system] now supervising Actor[akka://OrdersTrackingSpec/system/testActor48]
[DEBUG] [12/06/2012 00:44:03.885] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/system/testActor49] started (akka.testkit.TestActor@1efb716)
[DEBUG] [12/06/2012 00:44:03.885] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/system] now supervising Actor[akka://OrdersTrackingSpec/system/testActor49]
[DEBUG] [12/06/2012 00:44:03.885] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/user/OrdersTracking/FutureOrdersDispatcher] started (com.ergodicity.core.order.FutureOrdersDispatcher@dd1ef6)
[DEBUG] [12/06/2012 00:44:03.885] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/user/OrdersTracking/OptionOrdersDispatcher] started (com.ergodicity.core.order.OptionOrdersDispatcher@1aa6b1d)
[DEBUG] [12/06/2012 00:44:03.885] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] started (com.ergodicity.core.order.OrdersTracking@15e5249)
[DEBUG] [12/06/2012 00:44:03.885] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrdersTracking/FutureOrdersDispatcher]
[DEBUG] [12/06/2012 00:44:03.885] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrdersTracking/OptionOrdersDispatcher]
[DEBUG] [12/06/2012 00:44:03.885] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] processing Event(OrderLog(100,OrderAction(12345,Create(Order(12345,100,IsinId(100),Buy,123,1,1)))),Some(OngoingSession(SessionId(100,100),Actor[akka://OrdersTrackingSpec/system/testActor36]))) from Actor[akka://OrdersTrackingSpec/system/testActor36]
[DEBUG] [12/06/2012 00:44:03.885] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] Create new order, id = 12345
[DEBUG] [12/06/2012 00:44:03.885] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrdersTracking/12345]
[DEBUG] [12/06/2012 00:44:03.885] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/user/OrdersTracking/12345] started (com.ergodicity.core.order.OrderActor@16c71cb)
[DEBUG] [12/06/2012 00:44:03.886] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] processing Event(OrderLog(100,OrderAction(12345,Cancel(1))),Some(OngoingSession(SessionId(100,100),Actor[akka://OrdersTrackingSpec/system/testActor36]))) from Actor[akka://OrdersTrackingSpec/system/testActor36]
[DEBUG] [12/06/2012 00:44:03.886] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] Cancel order, id = 12345
[DEBUG] [12/06/2012 00:44:03.886] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/user/OrdersTracking/12345] Order cancelled
[DEBUG] [12/06/2012 00:44:03.887] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/user] now supervising TestActor[akka://OrdersTrackingSpec/user/OrdersTracking]
[DEBUG] [12/06/2012 00:44:03.887] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/system/testActor50] started (akka.testkit.TestActor@bb42a4)
[DEBUG] [12/06/2012 00:44:03.887] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/system] now supervising Actor[akka://OrdersTrackingSpec/system/testActor50]
[DEBUG] [12/06/2012 00:44:03.887] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/system/testActor51] started (akka.testkit.TestActor@747f0d)
[DEBUG] [12/06/2012 00:44:03.887] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/system] now supervising Actor[akka://OrdersTrackingSpec/system/testActor51]
[DEBUG] [12/06/2012 00:44:03.887] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/user/OrdersTracking/FutureOrdersDispatcher] started (com.ergodicity.core.order.FutureOrdersDispatcher@41692f)
[DEBUG] [12/06/2012 00:44:03.887] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] started (com.ergodicity.core.order.OrdersTracking@e30a6b)
[DEBUG] [12/06/2012 00:44:03.887] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/user/OrdersTracking/OptionOrdersDispatcher] started (com.ergodicity.core.order.OptionOrdersDispatcher@1c12150)
[DEBUG] [12/06/2012 00:44:03.887] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrdersTracking/FutureOrdersDispatcher]
[DEBUG] [12/06/2012 00:44:03.887] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrdersTracking/OptionOrdersDispatcher]
[DEBUG] [12/06/2012 00:44:03.888] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] processing Event(OrderLog(100,OrderAction(12345,Create(Order(12345,100,IsinId(100),Buy,123,3,1)))),Some(OngoingSession(SessionId(100,100),Actor[akka://OrdersTrackingSpec/system/testActor36]))) from Actor[akka://OrdersTrackingSpec/system/testActor36]
[DEBUG] [12/06/2012 00:44:03.888] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] Create new order, id = 12345
[DEBUG] [12/06/2012 00:44:03.888] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrdersTracking/12345]
[DEBUG] [12/06/2012 00:44:03.888] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/user/OrdersTracking/12345] started (com.ergodicity.core.order.OrderActor@7227c8)
[DEBUG] [12/06/2012 00:44:03.888] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] processing Event(OrderLog(100,OrderAction(12345,Fill(2,1,None))),Some(OngoingSession(SessionId(100,100),Actor[akka://OrdersTrackingSpec/system/testActor36]))) from Actor[akka://OrdersTrackingSpec/system/testActor36]
[DEBUG] [12/06/2012 00:44:03.888] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] Fill order, id = 12345, amount = 2, rest = 1, deal = None
[DEBUG] [12/06/2012 00:44:03.888] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] processing Event(OrderLog(100,OrderAction(12345,Fill(1,0,None))),Some(OngoingSession(SessionId(100,100),Actor[akka://OrdersTrackingSpec/system/testActor36]))) from Actor[akka://OrdersTrackingSpec/system/testActor36]
[DEBUG] [12/06/2012 00:44:03.888] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] Fill order, id = 12345, amount = 1, rest = 0, deal = None
[DEBUG] [12/06/2012 00:44:03.888] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/user/OrdersTracking/12345] Order filled
[DEBUG] [12/06/2012 00:44:03.889] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/user] now supervising TestActor[akka://OrdersTrackingSpec/user/OrdersTracking]
[DEBUG] [12/06/2012 00:44:03.889] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/system/testActor52] started (akka.testkit.TestActor@1556223)
[DEBUG] [12/06/2012 00:44:03.889] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/system] now supervising Actor[akka://OrdersTrackingSpec/system/testActor52]
[DEBUG] [12/06/2012 00:44:03.890] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/system/testActor53] started (akka.testkit.TestActor@179178d)
[DEBUG] [12/06/2012 00:44:03.890] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/system] now supervising Actor[akka://OrdersTrackingSpec/system/testActor53]
[DEBUG] [12/06/2012 00:44:03.890] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/user/OrdersTracking/FutureOrdersDispatcher] started (com.ergodicity.core.order.FutureOrdersDispatcher@f9435b)
[DEBUG] [12/06/2012 00:44:03.890] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] started (com.ergodicity.core.order.OrdersTracking@a4821d)
[DEBUG] [12/06/2012 00:44:03.890] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/user/OrdersTracking/OptionOrdersDispatcher] started (com.ergodicity.core.order.OptionOrdersDispatcher@5a51bc)
[DEBUG] [12/06/2012 00:44:03.890] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrdersTracking/FutureOrdersDispatcher]
[DEBUG] [12/06/2012 00:44:03.890] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrdersTracking/OptionOrdersDispatcher]
[DEBUG] [12/06/2012 00:44:03.890] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] processing Event(OrderLog(100,OrderAction(12345,Create(Order(12345,100,IsinId(100),Buy,123,1,1)))),Some(OngoingSession(SessionId(100,100),Actor[akka://OrdersTrackingSpec/system/testActor36]))) from Actor[akka://OrdersTrackingSpec/system/testActor36]
[DEBUG] [12/06/2012 00:44:03.890] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] Create new order, id = 12345
[DEBUG] [12/06/2012 00:44:03.890] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrdersTracking/12345]
[DEBUG] [12/06/2012 00:44:03.891] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/user/OrdersTracking/12345] started (com.ergodicity.core.order.OrderActor@1ac4c65)
[DEBUG] [12/06/2012 00:44:03.891] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] processing Event(GetOrder(12345),Some(OngoingSession(SessionId(100,100),Actor[akka://OrdersTrackingSpec/system/testActor36]))) from Actor[akka://OrdersTrackingSpec/system/testActor36]
[INFO] [12/06/2012 00:44:03.892] [pool-4-thread-2] [akka://OrdersTrackingSpec/system/testActor36] Got order = Order(12345,100,IsinId(100),Buy,123,1,1), ref = Actor[akka://OrdersTrackingSpec/user/OrdersTracking/12345]
[DEBUG] [12/06/2012 00:44:03.893] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/user] now supervising TestActor[akka://OrdersTrackingSpec/user/OrdersTracking]
[DEBUG] [12/06/2012 00:44:03.893] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/system/testActor54] started (akka.testkit.TestActor@1360bc3)
[DEBUG] [12/06/2012 00:44:03.893] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/system] now supervising Actor[akka://OrdersTrackingSpec/system/testActor54]
[DEBUG] [12/06/2012 00:44:03.893] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/system/testActor55] started (akka.testkit.TestActor@1c286bc)
[DEBUG] [12/06/2012 00:44:03.893] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/system] now supervising Actor[akka://OrdersTrackingSpec/system/testActor55]
[DEBUG] [12/06/2012 00:44:03.893] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/user/OrdersTracking/FutureOrdersDispatcher] started (com.ergodicity.core.order.FutureOrdersDispatcher@1badda)
[DEBUG] [12/06/2012 00:44:03.893] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/user/OrdersTracking/OptionOrdersDispatcher] started (com.ergodicity.core.order.OptionOrdersDispatcher@132dce9)
[DEBUG] [12/06/2012 00:44:03.893] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] started (com.ergodicity.core.order.OrdersTracking@f77f6a)
[DEBUG] [12/06/2012 00:44:03.893] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrdersTracking/FutureOrdersDispatcher]
[DEBUG] [12/06/2012 00:44:03.893] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrdersTracking/OptionOrdersDispatcher]
[DEBUG] [12/06/2012 00:44:03.893] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] processing Event(GetOrder(12345),Some(OngoingSession(SessionId(100,100),Actor[akka://OrdersTrackingSpec/system/testActor36]))) from Actor[akka://OrdersTrackingSpec/system/testActor36]
[DEBUG] [12/06/2012 00:44:03.894] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] processing Event(OrderLog(100,OrderAction(12345,Create(Order(12345,100,IsinId(100),Buy,123,1,1)))),Some(OngoingSession(SessionId(100,100),Actor[akka://OrdersTrackingSpec/system/testActor36]))) from Actor[akka://OrdersTrackingSpec/system/testActor36]
[DEBUG] [12/06/2012 00:44:03.894] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] Create new order, id = 12345
[DEBUG] [12/06/2012 00:44:03.894] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/user/OrdersTracking/12345] started (com.ergodicity.core.order.OrderActor@ce2871)
[DEBUG] [12/06/2012 00:44:03.894] [pool-4-thread-2] [akka://OrdersTrackingSpec/user/OrdersTracking] now supervising Actor[akka://OrdersTrackingSpec/user/OrdersTracking/12345]
[INFO] [12/06/2012 00:44:03.894] [pool-4-thread-2] [akka://OrdersTrackingSpec/system/testActor36] Got order = Order(12345,100,IsinId(100),Buy,123,1,1), ref = Actor[akka://OrdersTrackingSpec/user/OrdersTracking/12345]
[info] OrdersTrackingSpec:
[info] Orders tracking 
[info] - must initialize in CatchingOngoingSession state
[info] - must move to Tracking state when receive ongoing session
[info] - must kill all orders when OngoingSession changes
[info] - must handle Order actions only for ongoing session
[info] - must create new order
[info] - must cancel order
[info] - must fill order
[info] - must get order immediately
[info] - must get order after it's created
[DEBUG] [12/06/2012 00:44:03.894] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/user/OrdersTracking] stopping
[DEBUG] [12/06/2012 00:44:03.895] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/user/OrdersTracking] stopped
[DEBUG] [12/06/2012 00:44:03.895] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/user] stopping
[DEBUG] [12/06/2012 00:44:03.895] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/user/OrdersTracking/FutureOrdersDispatcher] stopped
[DEBUG] [12/06/2012 00:44:03.895] [OrdersTrackingSpec-akka.actor.default-dispatcher-3] [akka://OrdersTrackingSpec/user/OrdersTracking/OptionOrdersDispatcher] stopped
[DEBUG] [12/06/2012 00:44:03.895] [OrdersTrackingSpec-akka.actor.default-dispatcher-2] [akka://OrdersTrackingSpec/user] stopped
[DEBUG] [12/06/2012 00:44:03.896] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:03.895] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:03.896] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:44:03.896] [OrdersTrackingSpec-akka.actor.default-dispatcher-6] [akka://OrdersTrackingSpec/system/log1-Logging$DefaultLogger] stopped
[DEBUG] [12/06/2012 00:44:03.896] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/system/testActor36] stopped
[DEBUG] [12/06/2012 00:44:03.896] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/system/testActor37] stopped
[DEBUG] [12/06/2012 00:44:03.897] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/system/testActor38] stopped
[DEBUG] [12/06/2012 00:44:03.897] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/system/testActor39] stopped
[DEBUG] [12/06/2012 00:44:03.897] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/system/testActor40] stopped
[DEBUG] [12/06/2012 00:44:03.897] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/system/testActor41] stopped
[DEBUG] [12/06/2012 00:44:03.898] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/system/testActor42] stopped
[DEBUG] [12/06/2012 00:44:03.898] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/system/testActor44] stopped
[DEBUG] [12/06/2012 00:44:03.898] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/system/testActor45] stopped
[DEBUG] [12/06/2012 00:44:03.898] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/system/testActor46] stopped
[DEBUG] [12/06/2012 00:44:03.898] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/system/testActor47] stopped
[DEBUG] [12/06/2012 00:44:03.898] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/system/testActor48] stopped
[DEBUG] [12/06/2012 00:44:03.899] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/system/testActor49] stopped
[DEBUG] [12/06/2012 00:44:03.899] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/system/testActor50] stopped
[DEBUG] [12/06/2012 00:44:03.899] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/system/testActor51] stopped
[DEBUG] [12/06/2012 00:44:03.899] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/system/testActor52] stopped
[DEBUG] [12/06/2012 00:44:03.900] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/system/testActor53] stopped
[DEBUG] [12/06/2012 00:44:03.900] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/system/testActor54] stopped
[DEBUG] [12/06/2012 00:44:03.900] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/system/testActor55] stopped
[DEBUG] [12/06/2012 00:44:03.900] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/system] stopping
[DEBUG] [12/06/2012 00:44:03.901] [OrdersTrackingSpec-akka.actor.default-dispatcher-1] [akka://OrdersTrackingSpec/system] stopped
[DEBUG] [12/06/2012 00:44:03.901] [OrdersTrackingSpec-akka.actor.default-dispatcher-6] [akka://OrdersTrackingSpec/] stopped
[info] SessionStateSpec:
[info] Session State 
[info] - must convert from int and back
[info] Intermediate Clearing State 
[info] - must convert from int and back
[info] TradesDispatcherSpec:
[info] Fut Trades Dispatcher 
[info] - must subscribe stream events
[info] - must forward data messages
[info] Opt Trades Dispatcher 
[info] - must subscribe stream events
[info] - must forward data messages
[DEBUG] [12/06/2012 00:44:03.923] [SessionsDispatchersSpec-akka.actor.default-dispatcher-1] [akka://SessionsDispatchersSpec/user] now supervising TestActor[akka://SessionsDispatchersSpec/user/Dispatcher]
[DEBUG] [12/06/2012 00:44:03.923] [pool-4-thread-3] [akka://SessionsDispatchersSpec/user/Dispatcher] started (com.ergodicity.core.FutInfoDispatcher@a187ed)
[DEBUG] [12/06/2012 00:44:03.926] [pool-4-thread-2] [EventStream(akka://OrderActorSpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:44:03.926] [pool-4-thread-2] [EventStream(akka://OrderActorSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:44:03.927] [OrderActorSpec-akka.actor.default-dispatcher-3] [akka://OrderActorSpec/system/testActor59] started (akka.testkit.TestActor@1b18844)
[DEBUG] [12/06/2012 00:44:03.928] [OrderActorSpec-akka.actor.default-dispatcher-3] [akka://OrderActorSpec/system] now supervising Actor[akka://OrderActorSpec/system/testActor59]
[DEBUG] [12/06/2012 00:44:03.928] [SessionsDispatchersSpec-akka.actor.default-dispatcher-1] [akka://SessionsDispatchersSpec/user] now supervising TestActor[akka://SessionsDispatchersSpec/user/Dispatcher]
[DEBUG] [12/06/2012 00:44:03.929] [SessionsDispatchersSpec-akka.actor.default-dispatcher-1] [akka://SessionsDispatchersSpec/system/testActor60] started (akka.testkit.TestActor@1e09a79)
[DEBUG] [12/06/2012 00:44:03.929] [SessionsDispatchersSpec-akka.actor.default-dispatcher-1] [akka://SessionsDispatchersSpec/system] now supervising Actor[akka://SessionsDispatchersSpec/system/testActor60]
[DEBUG] [12/06/2012 00:44:03.929] [pool-4-thread-3] [akka://SessionsDispatchersSpec/user/Dispatcher] started (com.ergodicity.core.OptInfoDispatcher@bdbc72)
[DEBUG] [12/06/2012 00:44:03.930] [SessionsDispatchersSpec-akka.actor.default-dispatcher-2] [akka://SessionsDispatchersSpec/user] now supervising TestActor[akka://SessionsDispatchersSpec/user/Dispatcher]
[DEBUG] [12/06/2012 00:44:03.930] [pool-4-thread-3] [akka://SessionsDispatchersSpec/user/Dispatcher] started (com.ergodicity.core.OptInfoDispatcher@715e7)
[DEBUG] [12/06/2012 00:44:03.936] [OrderActorSpec-akka.actor.default-dispatcher-2] [akka://OrderActorSpec/user] now supervising TestActor[akka://OrderActorSpec/user/TestOrder]
[DEBUG] [12/06/2012 00:44:03.937] [pool-4-thread-2] [akka://OrderActorSpec/user/TestOrder] started (com.ergodicity.core.order.OrderActor@1989f13)
[DEBUG] [12/06/2012 00:44:03.938] [OrderActorSpec-akka.actor.default-dispatcher-3] [akka://OrderActorSpec/user] now supervising TestActor[akka://OrderActorSpec/user/TestOrder]
[DEBUG] [12/06/2012 00:44:03.938] [pool-4-thread-2] [akka://OrderActorSpec/user/TestOrder] started (com.ergodicity.core.order.OrderActor@631731)
[DEBUG] [12/06/2012 00:44:03.940] [pool-4-thread-2] [akka://OrderActorSpec/user/TestOrder] Order filled
[DEBUG] [12/06/2012 00:44:03.941] [OrderActorSpec-akka.actor.default-dispatcher-3] [akka://OrderActorSpec/user] now supervising TestActor[akka://OrderActorSpec/user/TestOrder]
[DEBUG] [12/06/2012 00:44:03.941] [pool-4-thread-2] [akka://OrderActorSpec/user/TestOrder] started (com.ergodicity.core.order.OrderActor@4ed729)
[DEBUG] [12/06/2012 00:44:03.941] [pool-4-thread-2] [akka://OrderActorSpec/user/TestOrder] Order filled
[DEBUG] [12/06/2012 00:44:03.943] [OrderActorSpec-akka.actor.default-dispatcher-3] [akka://OrderActorSpec/user] now supervising TestActor[akka://OrderActorSpec/user/TestOrder]
[DEBUG] [12/06/2012 00:44:03.943] [pool-4-thread-2] [akka://OrderActorSpec/user/TestOrder] started (com.ergodicity.core.order.OrderActor@7b6bee)
[DEBUG] [12/06/2012 00:44:03.944] [OrderActorSpec-akka.actor.default-dispatcher-3] [akka://OrderActorSpec/user] now supervising TestActor[akka://OrderActorSpec/user/TestOrder]
[DEBUG] [12/06/2012 00:44:03.944] [pool-4-thread-2] [akka://OrderActorSpec/user/TestOrder] started (com.ergodicity.core.order.OrderActor@52563a)
[DEBUG] [12/06/2012 00:44:03.945] [pool-4-thread-2] [akka://OrderActorSpec/user/TestOrder] Order cancelled
[DEBUG] [12/06/2012 00:44:03.945] [OrderActorSpec-akka.actor.default-dispatcher-3] [akka://OrderActorSpec/user] now supervising TestActor[akka://OrderActorSpec/user/TestOrder]
[DEBUG] [12/06/2012 00:44:03.946] [pool-4-thread-2] [akka://OrderActorSpec/user/TestOrder] started (com.ergodicity.core.order.OrderActor@7f7e30)
[DEBUG] [12/06/2012 00:44:03.946] [pool-4-thread-2] [akka://OrderActorSpec/user/TestOrder] Order cancelled
[info] OrderActorSpec:
[info] Order 
[info] - must select order type base on status
[info] Order actor 
[info] - must create new order in New state
[info] - must move from Active to Filled
[info]   + When subscribed for order events 
[info]   + And order filled 
[info]   + Then order should be in Filled state 
[info]   + And receive OrderEvent 
[info] - must stay in Active and move to Filled later
[info]   + When subscribe to already filled order 
[info]   + Then should return all order events history 
[info] - must fail to fill more then rest amount
[info] - must cancel order
[info] - must fail cancel order twice
[DEBUG] [12/06/2012 00:44:03.947] [OrderActorSpec-akka.actor.default-dispatcher-3] [akka://OrderActorSpec/user/TestOrder] stopped
[DEBUG] [12/06/2012 00:44:03.947] [OrderActorSpec-akka.actor.default-dispatcher-3] [akka://OrderActorSpec/user] stopping
[DEBUG] [12/06/2012 00:44:03.947] [OrderActorSpec-akka.actor.default-dispatcher-3] [akka://OrderActorSpec/user] stopped
[DEBUG] [12/06/2012 00:44:03.947] [OrderActorSpec-akka.actor.default-dispatcher-1] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:03.947] [OrderActorSpec-akka.actor.default-dispatcher-1] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:03.947] [OrderActorSpec-akka.actor.default-dispatcher-1] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:44:03.947] [OrderActorSpec-akka.actor.default-dispatcher-2] [akka://OrderActorSpec/system/log1-Logging$DefaultLogger] stopped
[DEBUG] [12/06/2012 00:44:03.948] [OrderActorSpec-akka.actor.default-dispatcher-1] [akka://OrderActorSpec/system/testActor59] stopped
[DEBUG] [12/06/2012 00:44:03.948] [OrderActorSpec-akka.actor.default-dispatcher-1] [akka://OrderActorSpec/system] stopping
[DEBUG] [12/06/2012 00:44:03.948] [OrderActorSpec-akka.actor.default-dispatcher-1] [akka://OrderActorSpec/system] stopped
[DEBUG] [12/06/2012 00:44:03.948] [OrderActorSpec-akka.actor.default-dispatcher-2] [akka://OrderActorSpec/] stopped
[DEBUG] [12/06/2012 00:44:03.955] [pool-4-thread-2] [EventStream(akka://OptionsContentsManagerSpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:44:03.955] [pool-4-thread-2] [EventStream(akka://OptionsContentsManagerSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:44:03.956] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-2] [akka://OptionsContentsManagerSpec/system/testActor61] started (akka.testkit.TestActor@21c025)
[DEBUG] [12/06/2012 00:44:03.956] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-2] [akka://OptionsContentsManagerSpec/system] now supervising Actor[akka://OptionsContentsManagerSpec/system/testActor61]
[DEBUG] [12/06/2012 00:44:03.959] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-1] [akka://OptionsContentsManagerSpec/system/testActor62] started (akka.testkit.TestActor@16b3f69)
[DEBUG] [12/06/2012 00:44:03.959] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-1] [akka://OptionsContentsManagerSpec/system] now supervising Actor[akka://OptionsContentsManagerSpec/system/testActor62]
[DEBUG] [12/06/2012 00:44:03.960] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-3] [akka://OptionsContentsManagerSpec/user] now supervising TestActor[akka://OptionsContentsManagerSpec/user/Options]
[INFO] [12/06/2012 00:44:03.960] [pool-4-thread-2] [akka://OptionsContentsManagerSpec/user/Options] Start SessionContents
[DEBUG] [12/06/2012 00:44:03.960] [pool-4-thread-2] [akka://OptionsContentsManagerSpec/user/Options] started (com.ergodicity.core.session.OptionsContentsManagerSpec$$anonfun$1$$anonfun$apply$mcV$sp$1$$anonfun$2$$anon$1@53d103)
[DEBUG] [12/06/2012 00:44:03.961] [pool-4-thread-2] [akka://OptionsContentsManagerSpec/user/Options] now supervising Actor[akka://OptionsContentsManagerSpec/user/Options/RTS-6.12M150612PA@175000]
[INFO] [12/06/2012 00:44:03.961] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-3] [akka://OptionsContentsManagerSpec/user/Options/RTS-6.12M150612PA@175000] Started instrument for security = OptionContract(IsinId(160734),Isin(RTS-6.12M150612PA 175000),ShortIsisn(RI175000BR2),Option Contract)
[DEBUG] [12/06/2012 00:44:03.961] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-3] [akka://OptionsContentsManagerSpec/user/Options/RTS-6.12M150612PA@175000] started (com.ergodicity.core.session.OptionInstrument@1cf11ba)
[DEBUG] [12/06/2012 00:44:03.961] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-3] [akka://OptionsContentsManagerSpec/user/Options/RTS-6.12M150612PA@175000] processing Event(OptionParameters(100),None) from TestActor[akka://OptionsContentsManagerSpec/user/Options]
[DEBUG] [12/06/2012 00:44:03.961] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-3] [akka://OptionsContentsManagerSpec/user/Options/RTS-6.12M150612PA@175000] processing Event(Online,Some(OptionParameters(100))) from TestActor[akka://OptionsContentsManagerSpec/user/Options]
[DEBUG] [12/06/2012 00:44:03.961] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-3] [akka://OptionsContentsManagerSpec/user/Options/RTS-6.12M150612PA@175000] transition Suspended -> Online
[DEBUG] [12/06/2012 00:44:03.961] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-1] [akka://OptionsContentsManagerSpec/user/Options/RTS-6.12M150612PA@175000] processing Event(Suspended,Some(OptionParameters(100))) from TestActor[akka://OptionsContentsManagerSpec/user/Options]
[DEBUG] [12/06/2012 00:44:03.961] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-1] [akka://OptionsContentsManagerSpec/user/Options/RTS-6.12M150612PA@175000] transition Online -> Suspended
[DEBUG] [12/06/2012 00:44:03.961] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-3] [akka://OptionsContentsManagerSpec/user/Options/RTS-6.12M150612PA@175000] processing Event(Assigned,Some(OptionParameters(100))) from TestActor[akka://OptionsContentsManagerSpec/user/Options]
[DEBUG] [12/06/2012 00:44:03.961] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-3] [akka://OptionsContentsManagerSpec/user/Options/RTS-6.12M150612PA@175000] transition Suspended -> Assigned
[DEBUG] [12/06/2012 00:44:03.961] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-1] [akka://OptionsContentsManagerSpec/user/Options/RTS-6.12M150612PA@175000] processing Event(Canceled,Some(OptionParameters(100))) from TestActor[akka://OptionsContentsManagerSpec/user/Options]
[DEBUG] [12/06/2012 00:44:03.962] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-1] [akka://OptionsContentsManagerSpec/user/Options/RTS-6.12M150612PA@175000] transition Assigned -> Canceled
[info] OptionsContentsManagerSpec:
[info] OptionsContentsManager 
[info] - must track session state updates and propagate to instrument state
[info]   + When receive new instrument 
[info]   + Then should create actor for it 
[info]   + When session suspended 
[info]   + Then instrument should be suspended too 
[info]   + When session assigned 
[info]   + Then instrument should be assigned too 
[info]   + When session cancelled 
[info]   + Then instrument should be cancelled too 
[DEBUG] [12/06/2012 00:44:03.963] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-3] [akka://OptionsContentsManagerSpec/user/Options] stopping
[DEBUG] [12/06/2012 00:44:03.963] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-3] [akka://OptionsContentsManagerSpec/user] stopping
[DEBUG] [12/06/2012 00:44:03.963] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-1] [akka://OptionsContentsManagerSpec/user/Options] stopped
[DEBUG] [12/06/2012 00:44:03.963] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-1] [akka://OptionsContentsManagerSpec/user/Options/RTS-6.12M150612PA@175000] stopped
[DEBUG] [12/06/2012 00:44:03.964] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-2] [akka://OptionsContentsManagerSpec/user] stopped
[DEBUG] [12/06/2012 00:44:03.964] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-2] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:03.964] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-2] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:44:03.964] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-2] [akka://OptionsContentsManagerSpec/system/testActor61] stopped
[DEBUG] [12/06/2012 00:44:03.964] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-2] [akka://OptionsContentsManagerSpec/system/testActor62] stopped
[DEBUG] [12/06/2012 00:44:03.964] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-2] [akka://OptionsContentsManagerSpec/system] stopping
[DEBUG] [12/06/2012 00:44:03.964] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-3] [akka://OptionsContentsManagerSpec/system/log1-Logging$DefaultLogger] stopped
[DEBUG] [12/06/2012 00:44:03.965] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-2] [akka://OptionsContentsManagerSpec/system] stopped
[DEBUG] [12/06/2012 00:44:03.965] [OptionsContentsManagerSpec-akka.actor.default-dispatcher-2] [akka://OptionsContentsManagerSpec/] stopped
[info] Passed: : Total 1, Failed 0, Errors 0, Passed 1, Skipped 0
[DEBUG] [12/06/2012 00:44:04.81] [InstrumentActorSpec-akka.actor.default-dispatcher-2] [akka://InstrumentActorSpec/user] now supervising TestActor[akka://InstrumentActorSpec/user/$$n]
[INFO] [12/06/2012 00:44:04.81] [pool-4-thread-1] [akka://InstrumentActorSpec/user/$$n] Started instrument for security = FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),‘ьючерсный контракт GMKR-06.12)
[DEBUG] [12/06/2012 00:44:04.81] [pool-4-thread-1] [akka://InstrumentActorSpec/user/$$n] started (com.ergodicity.core.session.FutureInstrument@196cc89)
[DEBUG] [12/06/2012 00:44:04.81] [pool-4-thread-1] [akka://InstrumentActorSpec/user/$$n] processing Event(SubscribeInstrumentCallback(Actor[akka://InstrumentActorSpec/system/testActor32]),None) from Actor[akka://InstrumentActorSpec/system/testActor32]
[DEBUG] [12/06/2012 00:44:04.81] [pool-4-thread-1] [akka://InstrumentActorSpec/user/$$n] processing Event(FutureParameters(100,Limits(100,100)),None) from Actor[akka://InstrumentActorSpec/system/testActor32]
[info] InstrumentActorSpec:
[info] InstrumentActor 
[info] - must initialized in Suspended state
[info] - must support state updates
[info] - must don't respond with paraeters of they are not available
[info] - must handle paramters subscripbtion
[DEBUG] [12/06/2012 00:44:04.83] [InstrumentActorSpec-akka.actor.default-dispatcher-2] [akka://InstrumentActorSpec/user/$$k] stopped
[DEBUG] [12/06/2012 00:44:04.83] [InstrumentActorSpec-akka.actor.default-dispatcher-2] [akka://InstrumentActorSpec/user/$$l] stopped
[DEBUG] [12/06/2012 00:44:04.83] [InstrumentActorSpec-akka.actor.default-dispatcher-2] [akka://InstrumentActorSpec/user/$$m] stopped
[DEBUG] [12/06/2012 00:44:04.83] [InstrumentActorSpec-akka.actor.default-dispatcher-2] [akka://InstrumentActorSpec/user/$$n] stopped
[DEBUG] [12/06/2012 00:44:04.84] [InstrumentActorSpec-akka.actor.default-dispatcher-2] [akka://InstrumentActorSpec/user] stopping
[DEBUG] [12/06/2012 00:44:04.84] [InstrumentActorSpec-akka.actor.default-dispatcher-2] [akka://InstrumentActorSpec/user] stopped
[DEBUG] [12/06/2012 00:44:04.85] [InstrumentActorSpec-akka.actor.default-dispatcher-1] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:04.85] [InstrumentActorSpec-akka.actor.default-dispatcher-1] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:44:04.85] [InstrumentActorSpec-akka.actor.default-dispatcher-1] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:04.85] [InstrumentActorSpec-akka.actor.default-dispatcher-4] [akka://InstrumentActorSpec/system/log1-Logging$DefaultLogger] stopped
[DEBUG] [12/06/2012 00:44:04.85] [InstrumentActorSpec-akka.actor.default-dispatcher-1] [akka://InstrumentActorSpec/system/testActor32] stopped
[DEBUG] [12/06/2012 00:44:04.85] [InstrumentActorSpec-akka.actor.default-dispatcher-1] [akka://InstrumentActorSpec/system] stopping
[DEBUG] [12/06/2012 00:44:04.85] [InstrumentActorSpec-akka.actor.default-dispatcher-1] [akka://InstrumentActorSpec/system] stopped
[DEBUG] [12/06/2012 00:44:04.85] [InstrumentActorSpec-akka.actor.default-dispatcher-4] [akka://InstrumentActorSpec/] stopped
[DEBUG] [12/06/2012 00:44:04.116] [pool-4-thread-4] [akka://SessionActorSpec/user/Session2] processing Event(GetInstrument(FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future Contract)),()) from Actor[akka://SessionActorSpec/temp/$a]
[DEBUG] [12/06/2012 00:44:04.116] [SessionActorSpec-akka.actor.default-dispatcher-3] [akka://SessionActorSpec/user/Session2/Futures] Get session instrument: FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future Contract); Result = Some((FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future Contract),Actor[akka://SessionActorSpec/user/Session2/Futures/GMKR-6.12]))
[DEBUG] [12/06/2012 00:44:04.118] [SessionActorSpec-akka.actor.default-dispatcher-4] [akka://SessionActorSpec/user/Session2/Options] Get session instrument: FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future Contract); Result = None
[DEBUG] [12/06/2012 00:44:04.123] [pool-4-thread-4] [akka://SessionActorSpec/user/Session2] started (SessionActor(Session(SessionId(100,101),2012-12-06T00:44:03.777/2012-12-06T00:44:03.777,None,None,2012-12-06T00:44:03.777/2012-12-06T00:44:03.777)))
[DEBUG] [12/06/2012 00:44:04.123] [SessionActorSpec-akka.actor.default-dispatcher-4] [akka://SessionActorSpec/user] now supervising TestActor[akka://SessionActorSpec/user/Session2]
[DEBUG] [12/06/2012 00:44:04.123] [pool-4-thread-4] [akka://SessionActorSpec/user/Session2] now supervising Actor[akka://SessionActorSpec/user/Session2/IntradayClearing]
[DEBUG] [12/06/2012 00:44:04.123] [pool-4-thread-4] [akka://SessionActorSpec/user/Session2] now supervising Actor[akka://SessionActorSpec/user/Session2/Futures]
[DEBUG] [12/06/2012 00:44:04.123] [pool-4-thread-4] [akka://SessionActorSpec/user/Session2] now supervising Actor[akka://SessionActorSpec/user/Session2/Options]
[DEBUG] [12/06/2012 00:44:04.123] [SessionActorSpec-akka.actor.default-dispatcher-4] [akka://SessionActorSpec/user/Session2/IntradayClearing] started (com.ergodicity.core.session.IntradayClearing@1695227)
[INFO] [12/06/2012 00:44:04.123] [SessionActorSpec-akka.actor.default-dispatcher-4] [akka://SessionActorSpec/user/Session2/Futures] Start SessionContents
[INFO] [12/06/2012 00:44:04.123] [SessionActorSpec-akka.actor.default-dispatcher-1] [akka://SessionActorSpec/user/Session2/Options] Start SessionContents
[DEBUG] [12/06/2012 00:44:04.123] [pool-4-thread-4] [akka://SessionActorSpec/user/Session2] processing Event(FutSessContents(100,FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future Contract),FutureParameters(100,Limits(100,100)),Assigned),()) from Actor[akka://SessionActorSpec/system/testActor35]
[DEBUG] [12/06/2012 00:44:04.123] [pool-4-thread-4] [akka://SessionActorSpec/user/Session2] processing Event(OptSessContents(100,OptionContract(IsinId(160734),Isin(RTS-6.12M150612PA 175000),ShortIsisn(RI175000BR2),Option Contract),OptionParameters(100)),()) from Actor[akka://SessionActorSpec/system/testActor35]
[DEBUG] [12/06/2012 00:44:04.124] [SessionActorSpec-akka.actor.default-dispatcher-4] [akka://SessionActorSpec/user/Session2/Futures] started (com.ergodicity.core.session.SessionActor$$anonfun$4$$anon$1@190b067)
[DEBUG] [12/06/2012 00:44:04.124] [SessionActorSpec-akka.actor.default-dispatcher-4] [akka://SessionActorSpec/user/Session2/Futures] now supervising Actor[akka://SessionActorSpec/user/Session2/Futures/GMKR-6.12]
[INFO] [12/06/2012 00:44:04.124] [SessionActorSpec-akka.actor.default-dispatcher-4] [akka://SessionActorSpec/user/Session2/Futures/GMKR-6.12] Started instrument for security = FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future Contract)
[DEBUG] [12/06/2012 00:44:04.124] [SessionActorSpec-akka.actor.default-dispatcher-4] [akka://SessionActorSpec/user/Session2/Futures/GMKR-6.12] started (com.ergodicity.core.session.FutureInstrument@92626c)
[DEBUG] [12/06/2012 00:44:04.124] [SessionActorSpec-akka.actor.default-dispatcher-4] [akka://SessionActorSpec/user/Session2/Futures/GMKR-6.12] processing Event(FutureParameters(100,Limits(100,100)),None) from Actor[akka://SessionActorSpec/user/Session2/Futures]
[DEBUG] [12/06/2012 00:44:04.125] [SessionActorSpec-akka.actor.default-dispatcher-4] [akka://SessionActorSpec/user/Session2/Futures/GMKR-6.12] processing Event(Suspended,Some(FutureParameters(100,Limits(100,100)))) from Actor[akka://SessionActorSpec/user/Session2/Futures]
[DEBUG] [12/06/2012 00:44:04.125] [SessionActorSpec-akka.actor.default-dispatcher-4] [akka://SessionActorSpec/user/Session2/Futures/GMKR-6.12] processing Event(Assigned,Some(FutureParameters(100,Limits(100,100)))) from Actor[akka://SessionActorSpec/user/Session2/Futures]
[DEBUG] [12/06/2012 00:44:04.125] [SessionActorSpec-akka.actor.default-dispatcher-1] [akka://SessionActorSpec/user/Session2/Options] started (com.ergodicity.core.session.SessionActor$$anonfun$5$$anon$2@1d67e51)
[DEBUG] [12/06/2012 00:44:04.125] [SessionActorSpec-akka.actor.default-dispatcher-4] [akka://SessionActorSpec/user/Session2/Futures/GMKR-6.12] transition Suspended -> Assigned
[INFO] [12/06/2012 00:44:04.125] [SessionActorSpec-akka.actor.default-dispatcher-3] [akka://SessionActorSpec/user/Session2/Options/RTS-6.12M150612PA@175000] Started instrument for security = OptionContract(IsinId(160734),Isin(RTS-6.12M150612PA 175000),ShortIsisn(RI175000BR2),Option Contract)
[DEBUG] [12/06/2012 00:44:04.125] [SessionActorSpec-akka.actor.default-dispatcher-3] [akka://SessionActorSpec/user/Session2/Options/RTS-6.12M150612PA@175000] started (com.ergodicity.core.session.OptionInstrument@7cb7ff)
[DEBUG] [12/06/2012 00:44:04.125] [SessionActorSpec-akka.actor.default-dispatcher-1] [akka://SessionActorSpec/user/Session2/Options] now supervising Actor[akka://SessionActorSpec/user/Session2/Options/RTS-6.12M150612PA@175000]
[DEBUG] [12/06/2012 00:44:04.125] [SessionActorSpec-akka.actor.default-dispatcher-1] [akka://SessionActorSpec/user/Session2/Options/RTS-6.12M150612PA@175000] processing Event(OptionParameters(100),None) from Actor[akka://SessionActorSpec/user/Session2/Options]
[DEBUG] [12/06/2012 00:44:04.125] [SessionActorSpec-akka.actor.default-dispatcher-1] [akka://SessionActorSpec/user/Session2/Options/RTS-6.12M150612PA@175000] processing Event(Suspended,Some(OptionParameters(100))) from Actor[akka://SessionActorSpec/user/Session2/Options]
[DEBUG] [12/06/2012 00:44:04.125] [SessionActorSpec-akka.actor.default-dispatcher-1] [akka://SessionActorSpec/user/Session2/Options/RTS-6.12M150612PA@175000] processing Event(Assigned,Some(OptionParameters(100))) from Actor[akka://SessionActorSpec/user/Session2/Options]
[DEBUG] [12/06/2012 00:44:04.125] [SessionActorSpec-akka.actor.default-dispatcher-1] [akka://SessionActorSpec/user/Session2/Options/RTS-6.12M150612PA@175000] transition Suspended -> Assigned
[DEBUG] [12/06/2012 00:44:04.490] [pool-4-thread-4] [akka://SessionActorSpec/user/Session2] processing Event(GetAssignedContents,()) from Actor[akka://SessionActorSpec/temp/$b]
[DEBUG] [12/06/2012 00:44:04.491] [pool-4-thread-3] [akka://SessionsDispatchersSpec/user/Dispatcher] started (com.ergodicity.core.OptInfoDispatcher@112c3d9)
[DEBUG] [12/06/2012 00:44:04.491] [SessionsDispatchersSpec-akka.actor.default-dispatcher-3] [akka://SessionsDispatchersSpec/user] now supervising TestActor[akka://SessionsDispatchersSpec/user/Dispatcher]
[INFO] [12/06/2012 00:44:04.491] [pool-4-thread-4] [akka://SessionActorSpec/system/testActor35] Assigned contents = AssignedContents(Set(FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future Contract), OptionContract(IsinId(160734),Isin(RTS-6.12M150612PA 175000),ShortIsisn(RI175000BR2),Option Contract)))
[info] SessionsDispatchersSpec:
[info] FutInfo Dispatcher 
[info] - must subscribe for stream events
[info] - must dispatch sessions
[info] - must dispatch only futures and skip repo
[info] - must dispatch sys events
[info] OptInfo Dispatcher 
[info] - must subscribe for stream events
[info] - must dispatch options
[info] - must dispatch sys events
[DEBUG] [12/06/2012 00:44:04.492] [SessionsDispatchersSpec-akka.actor.default-dispatcher-2] [akka://SessionsDispatchersSpec/user/Dispatcher] stopped
[DEBUG] [12/06/2012 00:44:04.492] [SessionsDispatchersSpec-akka.actor.default-dispatcher-2] [akka://SessionsDispatchersSpec/user] stopping
[DEBUG] [12/06/2012 00:44:04.493] [SessionsDispatchersSpec-akka.actor.default-dispatcher-2] [akka://SessionsDispatchersSpec/user] stopped
[DEBUG] [12/06/2012 00:44:04.493] [SessionsDispatchersSpec-akka.actor.default-dispatcher-1] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:04.493] [SessionsDispatchersSpec-akka.actor.default-dispatcher-2] [akka://SessionsDispatchersSpec/user] stopped
[DEBUG] [12/06/2012 00:44:04.494] [SessionsDispatchersSpec-akka.actor.default-dispatcher-1] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:04.494] [SessionsDispatchersSpec-akka.actor.default-dispatcher-1] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:44:04.494] [SessionsDispatchersSpec-akka.actor.default-dispatcher-1] [akka://SessionsDispatchersSpec/system/testActor33] stopped
[DEBUG] [12/06/2012 00:44:04.494] [SessionsDispatchersSpec-akka.actor.default-dispatcher-1] [akka://SessionsDispatchersSpec/system/testActor34] stopped
[DEBUG] [12/06/2012 00:44:04.494] [pool-4-thread-4] [akka://SessionActorSpec/user/Session2] started (SessionActor(Session(SessionId(100,101),2012-12-06T00:44:03.777/2012-12-06T00:44:03.777,None,None,2012-12-06T00:44:03.777/2012-12-06T00:44:03.777)))
[DEBUG] [12/06/2012 00:44:04.495] [SessionsDispatchersSpec-akka.actor.default-dispatcher-1] [akka://SessionsDispatchersSpec/system/testActor60] stopped
[DEBUG] [12/06/2012 00:44:04.495] [pool-4-thread-4] [akka://SessionActorSpec/user/Session2] now supervising Actor[akka://SessionActorSpec/user/Session2/IntradayClearing]
[DEBUG] [12/06/2012 00:44:04.495] [pool-4-thread-4] [akka://SessionActorSpec/user/Session2] now supervising Actor[akka://SessionActorSpec/user/Session2/Futures]
[DEBUG] [12/06/2012 00:44:04.495] [SessionsDispatchersSpec-akka.actor.default-dispatcher-1] [akka://SessionsDispatchersSpec/system] stopping
[DEBUG] [12/06/2012 00:44:04.495] [pool-4-thread-4] [akka://SessionActorSpec/user/Session2] now supervising Actor[akka://SessionActorSpec/user/Session2/Options]
[DEBUG] [12/06/2012 00:44:04.495] [SessionActorSpec-akka.actor.default-dispatcher-7] [akka://SessionActorSpec/user] now supervising TestActor[akka://SessionActorSpec/user/Session2]
[DEBUG] [12/06/2012 00:44:04.495] [pool-4-thread-4] [akka://SessionActorSpec/user/Session2] processing Event(FutSessContents(100,FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future Contract),FutureParameters(100,Limits(100,100)),Assigned),()) from Actor[akka://SessionActorSpec/system/testActor35]
[DEBUG] [12/06/2012 00:44:04.495] [SessionActorSpec-akka.actor.default-dispatcher-7] [akka://SessionActorSpec/user/Session2/IntradayClearing] started (com.ergodicity.core.session.IntradayClearing@c6ca2b)
[INFO] [12/06/2012 00:44:04.495] [SessionActorSpec-akka.actor.default-dispatcher-7] [akka://SessionActorSpec/user/Session2/Futures] Start SessionContents
[DEBUG] [12/06/2012 00:44:04.495] [pool-4-thread-4] [akka://SessionActorSpec/user/Session2] processing Event(OptSessContents(100,OptionContract(IsinId(160734),Isin(RTS-6.12M150612PA 175000),ShortIsisn(RI175000BR2),Option Contract),OptionParameters(100)),()) from Actor[akka://SessionActorSpec/system/testActor35]
[DEBUG] [12/06/2012 00:44:04.495] [pool-4-thread-4] [akka://SessionActorSpec/user/Session2] processing Event(GetInstrument(FutureContract(IsinId(0),Isin(BadIsin),ShortIsisn(),)),()) from Actor[akka://SessionActorSpec/temp/$c]
[DEBUG] [12/06/2012 00:44:04.495] [SessionActorSpec-akka.actor.default-dispatcher-7] [akka://SessionActorSpec/user/Session2/Futures] started (com.ergodicity.core.session.SessionActor$$anonfun$4$$anon$1@9d281)
[INFO] [12/06/2012 00:44:04.495] [SessionActorSpec-akka.actor.default-dispatcher-4] [akka://SessionActorSpec/user/Session2/Options] Start SessionContents
[DEBUG] [12/06/2012 00:44:04.495] [SessionActorSpec-akka.actor.default-dispatcher-4] [akka://SessionActorSpec/user/Session2/Options] started (com.ergodicity.core.session.SessionActor$$anonfun$5$$anon$2@1a6fbf7)
[DEBUG] [12/06/2012 00:44:04.495] [SessionsDispatchersSpec-akka.actor.default-dispatcher-1] [akka://SessionsDispatchersSpec/system/log1-Logging$DefaultLogger] stopped
[DEBUG] [12/06/2012 00:44:04.495] [SessionActorSpec-akka.actor.default-dispatcher-4] [akka://SessionActorSpec/user/Session2/Options] now supervising Actor[akka://SessionActorSpec/user/Session2/Options/RTS-6.12M150612PA@175000]
[DEBUG] [12/06/2012 00:44:04.495] [SessionActorSpec-akka.actor.default-dispatcher-4] [akka://SessionActorSpec/user/Session2/Options] Get session instrument: FutureContract(IsinId(0),Isin(BadIsin),ShortIsisn(),); Result = None
[INFO] [12/06/2012 00:44:04.495] [SessionActorSpec-akka.actor.default-dispatcher-3] [akka://SessionActorSpec/user/Session2/Options/RTS-6.12M150612PA@175000] Started instrument for security = OptionContract(IsinId(160734),Isin(RTS-6.12M150612PA 175000),ShortIsisn(RI175000BR2),Option Contract)
[DEBUG] [12/06/2012 00:44:04.495] [SessionActorSpec-akka.actor.default-dispatcher-3] [akka://SessionActorSpec/user/Session2/Options/RTS-6.12M150612PA@175000] started (com.ergodicity.core.session.OptionInstrument@fa6675)
[DEBUG] [12/06/2012 00:44:04.495] [SessionActorSpec-akka.actor.default-dispatcher-3] [akka://SessionActorSpec/user/Session2/Options/RTS-6.12M150612PA@175000] processing Event(OptionParameters(100),None) from Actor[akka://SessionActorSpec/user/Session2/Options]
[INFO] [12/06/2012 00:44:04.495] [SessionActorSpec-akka.actor.default-dispatcher-4] [akka://SessionActorSpec/user/Session2/Futures/GMKR-6.12] Started instrument for security = FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future Contract)
[DEBUG] [12/06/2012 00:44:04.495] [SessionActorSpec-akka.actor.default-dispatcher-4] [akka://SessionActorSpec/user/Session2/Futures/GMKR-6.12] started (com.ergodicity.core.session.FutureInstrument@107aa97)
[DEBUG] [12/06/2012 00:44:04.496] [SessionActorSpec-akka.actor.default-dispatcher-3] [akka://SessionActorSpec/user/Session2/Options/RTS-6.12M150612PA@175000] processing Event(Suspended,Some(OptionParameters(100))) from Actor[akka://SessionActorSpec/user/Session2/Options]
[DEBUG] [12/06/2012 00:44:04.496] [SessionActorSpec-akka.actor.default-dispatcher-3] [akka://SessionActorSpec/user/Session2/Options/RTS-6.12M150612PA@175000] processing Event(Assigned,Some(OptionParameters(100))) from Actor[akka://SessionActorSpec/user/Session2/Options]
[DEBUG] [12/06/2012 00:44:04.496] [SessionActorSpec-akka.actor.default-dispatcher-3] [akka://SessionActorSpec/user/Session2/Options/RTS-6.12M150612PA@175000] transition Suspended -> Assigned
[DEBUG] [12/06/2012 00:44:04.496] [SessionActorSpec-akka.actor.default-dispatcher-8] [akka://SessionActorSpec/user/Session2/Futures/GMKR-6.12] processing Event(FutureParameters(100,Limits(100,100)),None) from Actor[akka://SessionActorSpec/user/Session2/Futures]
[DEBUG] [12/06/2012 00:44:04.496] [SessionActorSpec-akka.actor.default-dispatcher-7] [akka://SessionActorSpec/user/Session2/Futures] now supervising Actor[akka://SessionActorSpec/user/Session2/Futures/GMKR-6.12]
[DEBUG] [12/06/2012 00:44:04.496] [SessionActorSpec-akka.actor.default-dispatcher-7] [akka://SessionActorSpec/user/Session2/Futures] Get session instrument: FutureContract(IsinId(0),Isin(BadIsin),ShortIsisn(),); Result = None
[DEBUG] [12/06/2012 00:44:04.496] [SessionActorSpec-akka.actor.default-dispatcher-7] [akka://SessionActorSpec/user/Session2/Futures/GMKR-6.12] processing Event(Suspended,Some(FutureParameters(100,Limits(100,100)))) from Actor[akka://SessionActorSpec/user/Session2/Futures]
[DEBUG] [12/06/2012 00:44:04.496] [SessionActorSpec-akka.actor.default-dispatcher-7] [akka://SessionActorSpec/user/Session2/Futures/GMKR-6.12] processing Event(Assigned,Some(FutureParameters(100,Limits(100,100)))) from Actor[akka://SessionActorSpec/user/Session2/Futures]
[DEBUG] [12/06/2012 00:44:04.496] [SessionActorSpec-akka.actor.default-dispatcher-7] [akka://SessionActorSpec/user/Session2/Futures/GMKR-6.12] transition Suspended -> Assigned
[DEBUG] [12/06/2012 00:44:04.496] [SessionActorSpec-akka.actor.default-dispatcher-7] [Future] No such instument assigned: FutureContract(IsinId(0),Isin(BadIsin),ShortIsisn(),)
[DEBUG] [12/06/2012 00:44:04.496] [SessionsDispatchersSpec-akka.actor.default-dispatcher-2] [akka://SessionsDispatchersSpec/system] stopped
[DEBUG] [12/06/2012 00:44:04.496] [SessionsDispatchersSpec-akka.actor.default-dispatcher-2] [akka://SessionsDispatchersSpec/] stopped
[info] SessionActorSpec:
[info] SessionState 
[info] - must support all codes
[info] IntradayClearing 
[info] - must handle state updates
[info] Session 
[info] - must be inititliazed in given state and terminate child clearing actor
[info] - must apply state and int. clearing updates
[info] - must forward FutSessContents to contents manager
[info]   + When session received new instrument 
[info]   + Then actor for it should be created in contents manager 
[info] - must return all assigned contents
[info]   + Given session with assigned contents 
[info]   + When asked for contents assigned 
[info]   + Then should return all assigned insturment 
[info] - must fail if no instument found
[DEBUG] [12/06/2012 00:44:04.497] [SessionActorSpec-akka.actor.default-dispatcher-9] [akka://SessionActorSpec/user/IntradayClearing] stopped
[DEBUG] [12/06/2012 00:44:04.497] [SessionActorSpec-akka.actor.default-dispatcher-9] [akka://SessionActorSpec/user/Session] stopping
[DEBUG] [12/06/2012 00:44:04.497] [SessionActorSpec-akka.actor.default-dispatcher-7] [akka://SessionActorSpec/user/Session/Futures] stopped
[DEBUG] [12/06/2012 00:44:04.498] [SessionActorSpec-akka.actor.default-dispatcher-6] [akka://SessionActorSpec/user/Session/IntradayClearing] stopped
[DEBUG] [12/06/2012 00:44:04.499] [SessionActorSpec-akka.actor.default-dispatcher-6] [akka://SessionActorSpec/user/Session] stopped
[DEBUG] [12/06/2012 00:44:04.499] [SessionActorSpec-akka.actor.default-dispatcher-6] [akka://SessionActorSpec/user/Session/Options] stopped
[DEBUG] [12/06/2012 00:44:04.499] [SessionActorSpec-akka.actor.default-dispatcher-6] [akka://SessionActorSpec/user/Session2/Futures] stopping
[DEBUG] [12/06/2012 00:44:04.499] [SessionActorSpec-akka.actor.default-dispatcher-2] [akka://SessionActorSpec/user/Session2/Futures/GMKR-6.12] stopped
[DEBUG] [12/06/2012 00:44:04.500] [SessionActorSpec-akka.actor.default-dispatcher-9] [akka://SessionActorSpec/user/Session2] stopping
[DEBUG] [12/06/2012 00:44:04.500] [SessionActorSpec-akka.actor.default-dispatcher-9] [akka://SessionActorSpec/user/Session2] stopped
[DEBUG] [12/06/2012 00:44:04.500] [SessionActorSpec-akka.actor.default-dispatcher-9] [akka://SessionActorSpec/user] stopping
[DEBUG] [12/06/2012 00:44:04.500] [SessionActorSpec-akka.actor.default-dispatcher-9] [akka://SessionActorSpec/user] stopped
[DEBUG] [12/06/2012 00:44:04.500] [SessionActorSpec-akka.actor.default-dispatcher-6] [akka://SessionActorSpec/user/Session2/IntradayClearing] stopped
[DEBUG] [12/06/2012 00:44:04.500] [SessionActorSpec-akka.actor.default-dispatcher-3] [akka://SessionActorSpec/user/Session2/Options] stopped
[DEBUG] [12/06/2012 00:44:04.500] [SessionActorSpec-akka.actor.default-dispatcher-6] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:04.500] [SessionActorSpec-akka.actor.default-dispatcher-6] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:04.500] [SessionActorSpec-akka.actor.default-dispatcher-5] [akka://SessionActorSpec/user/Session2/Futures] stopped
[DEBUG] [12/06/2012 00:44:04.500] [SessionActorSpec-akka.actor.default-dispatcher-6] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:44:04.501] [SessionActorSpec-akka.actor.default-dispatcher-3] [akka://SessionActorSpec/system/log1-Logging$DefaultLogger] stopped
[DEBUG] [12/06/2012 00:44:04.500] [SessionActorSpec-akka.actor.default-dispatcher-5] [akka://SessionActorSpec/user/Session2/Futures] stopped
[DEBUG] [12/06/2012 00:44:04.501] [SessionActorSpec-akka.actor.default-dispatcher-6] [akka://SessionActorSpec/system/testActor35] stopped
[DEBUG] [12/06/2012 00:44:04.501] [SessionActorSpec-akka.actor.default-dispatcher-6] [akka://SessionActorSpec/system] stopping
[DEBUG] [12/06/2012 00:44:04.501] [SessionActorSpec-akka.actor.default-dispatcher-6] [akka://SessionActorSpec/system] stopped
[DEBUG] [12/06/2012 00:44:04.501] [SessionActorSpec-akka.actor.default-dispatcher-5] [akka://SessionActorSpec/] stopped
Setting up data.
[DEBUG] [12/06/2012 00:44:05.483] [pool-4-thread-1] [EventStream(akka://RouterSpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:44:05.484] [pool-4-thread-2] [EventStream(akka://MarketContentsCaptureSpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:44:05.484] [pool-4-thread-3] [EventStream(akka://RepositorySpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:44:05.484] [pool-4-thread-3] [EventStream(akka://RepositorySpec)] Default Loggers started
[DEBUG] [12/06/2012 00:44:05.484] [pool-4-thread-1] [EventStream(akka://RouterSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:44:05.484] [pool-4-thread-2] [EventStream(akka://MarketContentsCaptureSpec)] Default Loggers started
[INFO] [12/06/2012 00:44:05.495] [pool-4-thread-2] [ActorSystem(MarketContentsCaptureSpec)] {
    # system properties
    "os" : {
        # system properties
        "arch" : "x86",
        # system properties
        "name" : "Windows 7",
        # system properties
        "version" : "6.1"
    },
    # system properties
    "awt" : {
        # system properties
        "toolkit" : "sun.awt.windows.WToolkit"
    },
    # system properties
    "file" : {
        # system properties
        "encoding" : {
            # system properties
            "pkg" : "sun.io"
        },
        # system properties
        "separator" : "\\"
    },
    # system properties
    "path" : {
        # system properties
        "separator" : ";"
    },
    # application.conf: 1
    "capture" : {
        # application.conf: 2
        "dispatchers" : {
            # application.conf: 3
            "replicationDispatcher" : {
                # application.conf: 9
                #  Single Threaded Executor
                "thread-pool-executor" : {
                    # application.conf: 12
                    "max-pool-size-min" : 1,
                    # application.conf: 13
                    "max-pool-size-max" : 1,
                    # application.conf: 11
                    "core-pool-size-max" : 1,
                    # application.conf: 10
                    "core-pool-size-min" : 1
                },
                # application.conf: 6
                "executor" : "thread-pool-executor",
                # application.conf: 4
                "type" : "Dispatcher",
                # application.conf: 16
                "throughput" : 1
            }
        }
    },
    # system properties
    "line" : {
        # system properties
        "separator" : "\r\n"
    },
    # system properties
    "java" : {
        # system properties
        "vm" : {
            # system properties
            "vendor" : "Oracle Corporation",
            # system properties
            "name" : "Java HotSpot(TM) Client VM",
            # system properties
            "specification" : {
                # system properties
                "vendor" : "Oracle Corporation",
                # system properties
                "name" : "Java Virtual Machine Specification",
                # system properties
                "version" : "1.7"
            },
            # system properties
            "version" : "23.1-b03",
            # system properties
            "info" : "mixed mode"
        },
        # system properties
        "home" : "C:\\Program Files (x86)\\Java\\jre7",
        # system properties
        "awt" : {
            # system properties
            "graphicsenv" : "sun.awt.Win32GraphicsEnvironment",
            # system properties
            "printerjob" : "sun.awt.windows.WPrinterJob"
        },
        # system properties
        "vendor" : {
            # system properties
            "url" : {
                # system properties
                "bug" : "http://bugreport.sun.com/bugreport/"
            }
        },
        # system properties
        "endorsed" : {
            # system properties
            "dirs" : "C:\\Program Files (x86)\\Java\\jre7\\lib\\endorsed"
        },
        # system properties
        "library" : {
            # system properties
            "path" : "C:\\Windows\\SysWOW64;C:\\Windows\\Sun\\Java\\bin;C:\\Windows\\system32;C:\\Windows;C:\\cygwin\\usr\\local\\bin;C:\\cygwin\\bin;C:\\Program Files (x86)\\AMD APP\\bin\\x86_64;C:\\Program Files (x86)\\AMD APP\\bin\\x86;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0;C:\\Program Files (x86)\\ATI Technologies\\ATI.ACE\\Core-Static;C:\\Program Files\\Java\\jdk1.7.0_05\\bin;C:\\zmq;C:\\jacob;C:\\P2CGate64\\p2bin;D:\\opt\\apache-ant-1.8.4\\bin;C:\\cygwin\\lib\\lapack;."
        },
        # system properties
        "specification" : {
            # system properties
            "vendor" : "Oracle Corporation",
            # system properties
            "name" : "Java Platform API Specification",
            # system properties
            "version" : "1.7"
        },
        # system properties
        "class" : {
            # system properties
            "path" : "D:\\opt\\sbt\\sbt-launch.jar",
            # system properties
            "version" : "51.0"
        },
        # system properties
        "runtime" : {
            # system properties
            "name" : "Java(TM) SE Runtime Environment",
            # system properties
            "version" : "1.7.0_05-b05"
        },
        # system properties
        "ext" : {
            # system properties
            "dirs" : "C:\\Program Files (x86)\\Java\\jre7\\lib\\ext;C:\\Windows\\Sun\\Java\\lib\\ext"
        },
        # system properties
        "io" : {
            # system properties
            "tmpdir" : "C:\\cygwin\\tmp\\"
        },
        # system properties
        "version" : "1.7.0_05"
    },
    # system properties
    "user" : {
        # system properties
        "home" : "C:\\Users\\zheka",
        # system properties
        "timezone" : "Europe/Moscow",
        # system properties
        "dir" : "D:\\projects\\ergodicity",
        # system properties
        "name" : "zheka",
        # system properties
        "language" : "ru",
        # system properties
        "script" : "",
        # system properties
        "variant" : "",
        # system properties
        "country" : "RU"
    },
    # system properties
    "sun" : {
        # system properties
        "os" : {
            # system properties
            "patch" : {
                # system properties
                "level" : "Service Pack 1"
            }
        },
        # system properties
        "boot" : {
            # system properties
            "library" : {
                # system properties
                "path" : "C:\\Program Files (x86)\\Java\\jre7\\bin"
            },
            # system properties
            "class" : {
                # system properties
                "path" : "C:\\Program Files (x86)\\Java\\jre7\\lib\\resources.jar;C:\\Program Files (x86)\\Java\\jre7\\lib\\rt.jar;C:\\Program Files (x86)\\Java\\jre7\\lib\\sunrsasign.jar;C:\\Program Files (x86)\\Java\\jre7\\lib\\jsse.jar;C:\\Program Files (x86)\\Java\\jre7\\lib\\jce.jar;C:\\Program Files (x86)\\Java\\jre7\\lib\\charsets.jar;C:\\Program Files (x86)\\Java\\jre7\\lib\\jfr.jar;C:\\Program Files (x86)\\Java\\jre7\\classes"
            }
        },
        # system properties
        "arch" : {
            # system properties
            "data" : {
                # system properties
                "model" : "32"
            }
        },
        # system properties
        "jnu" : {
            # system properties
            "encoding" : "Cp1251"
        },
        # system properties
        "cpu" : {
            # system properties
            "endian" : "little",
            # system properties
            "isalist" : ""
        },
        # system properties
        "desktop" : "windows",
        # system properties
        "java" : {
            # system properties
            "launcher" : "SUN_STANDARD",
            # system properties
            "command" : "D:\\opt\\sbt\\sbt-launch.jar test\r"
        },
        # system properties
        "management" : {
            # system properties
            "compiler" : "HotSpot Client Compiler"
        },
        # system properties
        "io" : {
            # system properties
            "unicode" : {
                # system properties
                "encoding" : "UnicodeLittle"
            }
        }
    },
    # merge of application.conf: 22,reference.conf: 8
    "akka" : {
        # reference.conf: 13
        #  Home directory of Akka, modules in the deploy directory will be loaded
        "home" : "",
        # application.conf: 23
        "loglevel" : "DEBUG",
        # reference.conf: 42
        #  Toggles whether the threads created by this ActorSystem should be daemons or not
        "daemonic" : "off",
        # application.conf: 25
        "log-config-on-start" : "on",
        # reference.conf: 304
        #  Used to set the behavior of the scheduler.
        #  Changing the default values may change the system behavior drastically so make sure
        #  you know what you're doing! See the Scheduler section of the Akka documentation for more details.
        "scheduler" : {
            # reference.conf: 314
            "ticks-per-wheel" : 512,
            # reference.conf: 313
            #  The HashedWheelTimer (HWT) implementation from Netty is used as the default scheduler
            #  in the system.
            #  HWT does not execute the scheduled tasks on exact time.
            #  It will, on every tick, check if there are any tasks behind the schedule and execute them.
            #  You can increase or decrease the accuracy of the execution timing by specifying smaller
            #  or larger tick duration.
            #  If you are scheduling a lot of tasks you should consider increasing the ticks per wheel.
            #  For more information see: http://www.jboss.org/netty/
            "tick-duration" : "100ms"
        },
        # reference.conf: 9
        "test" : {
            # reference.conf: 19
            #  duration to wait in expectMsg and friends outside of within() block by default
            "single-expect-default" : "3s",
            # reference.conf: 22
            #  The timeout that is added as an implicit by DefaultTimeout trait
            "default-timeout" : "5s",
            # reference.conf: 24
            "calling-thread-dispatcher" : {
                # reference.conf: 25
                "type" : "akka.testkit.CallingThreadDispatcherConfigurator"
            },
            # reference.conf: 16
            #  duration of EventFilter.intercept waits after the block is finished until
            #  all required messages are received
            "filter-leeway" : "3s",
            # reference.conf: 12
            #  factor by which to scale timeouts during tests, e.g. to account for shared
            #  build system load
            "timefactor" : 1
        },
        # reference.conf: 21
        #  Event handlers are created and registered synchronously during ActorSystem
        #  start-up, and since they are actors, this timeout is used to bound the
        #  waiting time
        "event-handler-startup-timeout" : "5s",
        # merge of application.conf: 27,reference.conf: 47
        "actor" : {
            # reference.conf: 296
            #  Class to Serializer binding. You only need to specify the name of an interface
            #  or abstract base class of the messages. In case of ambiguity it is using the
            #  most specific configured class, or giving a warning and choosing the УfirstФ one.
            # 
            #  To disable one of the default serializers, assign its class to "none", like
            #  "java.io.Serializable" = none
            "serialization-bindings" : {
                # reference.conf: 297
                "java.io.Serializable" : "java"
            },
            # reference.conf: 286
            #  Entries for pluggable serializers and their bindings.
            "serializers" : {
                # reference.conf: 287
                "java" : "akka.serialization.JavaSerializer"
            },
            # reference.conf: 52
            #  Timeout for ActorSystem.actorOf
            "creation-timeout" : "20s",
            # reference.conf: 64
            #  Serializes and deserializes creators (in Props) to ensure that they can be sent over the network,
            #  this is only intended for testing.
            "serialize-creators" : "off",
            # reference.conf: 160
            "default-dispatcher" : {
                # reference.conf: 263
                #  For Actor with Stash: The default capacity of the stash.
                #  If negative (or zero) then an unbounded stash is used (default)
                #  If positive then a bounded stash is used and the capacity is set using the
                #  property
                "stash-capacity" : -1,
                # reference.conf: 252
                #  FQCN of the MailboxType, if not specified the default bounded or unbounded
                #  mailbox is used. The Class of the FQCN must have a constructor with
                #  (akka.actor.ActorSystem.Settings, com.typesafe.config.Config) parameters.
                "mailbox-type" : "",
                # reference.conf: 191
                #  This will be used if you have set "executor = "thread-pool-executor""
                "thread-pool-executor" : {
                    # reference.conf: 215
                    #  Specifies the bounded capacity of the task queue (< 1 == unbounded)
                    "task-queue-size" : -1,
                    # reference.conf: 193
                    #  Keep alive time for threads
                    "keep-alive-time" : "60s",
                    # reference.conf: 206
                    #  Hint: max-pool-size is only used for bounded task queues
                    #  minimum number of threads to cap factor-based max number to
                    "max-pool-size-min" : 8,
                    # reference.conf: 212
                    #  Max number of threads to cap factor-based max number to
                    "max-pool-size-max" : 64,
                    # reference.conf: 199
                    #  No of core threads ... ceil(available processors * factor)
                    "core-pool-size-factor" : 3,
                    # reference.conf: 202
                    #  Max number of threads to cap factor-based number to
                    "core-pool-size-max" : 64,
                    # reference.conf: 209
                    #  Max no of threads ... ceil(available processors * factor)
                    "max-pool-size-factor" : 3,
                    # reference.conf: 196
                    #  Min number of threads to cap factor-based core number to
                    "core-pool-size-min" : 8,
                    # reference.conf: 222
                    #  Allow core threads to time out
                    "allow-core-timeout" : "on",
                    # reference.conf: 219
                    #  Specifies which type of task queue will be used, can be "array" or
                    #  "linked" (default)
                    "task-queue-type" : "linked"
                },
                # reference.conf: 257
                #  For BalancingDispatcher: If the balancing dispatcher should attempt to
                #  schedule idle actors using the same dispatcher when a message comes in,
                #  and the dispatchers ExecutorService is not fully busy already.
                "attempt-teamwork" : "on",
                # reference.conf: 179
                #  This will be used if you have set "executor = "fork-join-executor""
                "fork-join-executor" : {
                    # reference.conf: 184
                    #  Parallelism (threads) ... ceil(available processors * factor)
                    "parallelism-factor" : 3,
                    # reference.conf: 181
                    #  Min number of threads to cap factor-based parallelism number to
                    "parallelism-min" : 8,
                    # reference.conf: 187
                    #  Max number of threads to cap factor-based parallelism number to
                    "parallelism-max" : 64
                },
                # reference.conf: 233
                #  Throughput deadline for Dispatcher, set to 0 or negative for no deadline
                "throughput-deadline-time" : "0ms",
                # reference.conf: 247
                #  Specifies the timeout to add a new message to a mailbox that is full -
                #  negative number means infinite timeout. It is only used for type=Dispatcher
                #  and only if mailbox-capacity > 0
                "mailbox-push-timeout-time" : "10s",
                # reference.conf: 242
                #  If negative (or zero) then an unbounded mailbox is used (default)
                #  If positive then a bounded mailbox is used and the capacity is set using the
                #  property
                #  NOTE: setting a mailbox to 'blocking' can be a bit dangerous, could lead to
                #  deadlock, use with care
                #  The following mailbox-push-timeout-time is only used for type=Dispatcher and
                #  only if mailbox-capacity > 0
                "mailbox-capacity" : -1,
                # reference.conf: 176
                #  Which kind of ExecutorService to use for this dispatcher
                #  Valid options:
                #                "fork-join-executor" requires a "fork-join-executor" section
                #                "thread-pool-executor" requires a "thread-pool-executor" section
                #                or
                #                A FQCN of a class extending ExecutorServiceConfigurator
                "executor" : "fork-join-executor",
                # reference.conf: 226
                #  How long time the dispatcher will wait for new actors until it shuts down
                "shutdown-timeout" : "1s",
                # reference.conf: 168
                #  Must be one of the following
                #  Dispatcher, (BalancingDispatcher, only valid when all actors using it are of
                #  the same type), PinnedDispatcher, or a FQCN to a class inheriting
                #  MessageDispatcherConfigurator with a constructor with
                #  com.typesafe.config.Config parameter and akka.dispatch.DispatcherPrerequisites
                #  parameters.
                #  PinnedDispatcher must be used toghether with executor=thread-pool-executor.
                "type" : "Dispatcher",
                # reference.conf: 230
                #  Throughput defines the number of messages that are processed in a batch
                #  before the thread is returned to the pool. Set to 1 for as fair as possible.
                "throughput" : 5
            },
            # reference.conf: 71
            "deployment" : {
                # reference.conf: 74
                #  deployment id pattern - on the format: /parent/child etc.
                "default" : {
                    # reference.conf: 109
                    #  Routers with dynamically resizable number of routees; this feature is enabled
                    #  by including (parts of) this section in the deployment
                    "resizer" : {
                        # reference.conf: 131
                        #  Percentage to increase capacity whenever all routees are busy.
                        #  For example, 0.2 would increase 20% (rounded up), i.e. if current
                        #  capacity is 6 it will request an increase of 2 more routees.
                        "rampup-rate" : 0.2,
                        # reference.conf: 151
                        #  When the resizer reduce the capacity the abandoned routee actors are stopped
                        #  with PoisonPill after this delay. The reason for the delay is to give concurrent
                        #  messages a chance to be placed in mailbox before sending PoisonPill.
                        #  Use 0s to skip delay.
                        "stop-delay" : "1s",
                        # reference.conf: 116
                        #  The most number of routees the router should ever have.
                        #  Must be greater than or equal to lower-bound.
                        "upper-bound" : 10,
                        # reference.conf: 155
                        #  Number of messages between resize operation.
                        #  Use 1 to resize before each message.
                        "messages-per-resize" : 10,
                        # reference.conf: 139
                        #  Minimum fraction of busy routees before backing off.
                        #  For example, if this is 0.3, then we'll remove some routees only when
                        #  less than 30% of routees are busy, i.e. if current capacity is 10 and
                        #  3 are busy then the capacity is unchanged, but if 2 or less are busy
                        #  the capacity is decreased.
                        #  Use 0.0 or negative to avoid removal of routees.
                        "backoff-threshold" : 0.3,
                        # reference.conf: 145
                        #  Fraction of routees to be removed when the resizer reaches the
                        #  backoffThreshold.
                        #  For example, 0.1 would decrease 10% (rounded up), i.e. if current
                        #  capacity is 9 it will request an decrease of 1 routee.
                        "backoff-rate" : 0.1,
                        # reference.conf: 112
                        #  The fewest number of routees the router should ever have.
                        "lower-bound" : 1,
                        # reference.conf: 126
                        #  Threshold to evaluate if routee is considered to be busy (under pressure).
                        #  Implementation depends on this value (default is 1).
                        #  0:   number of routees currently processing a message.
                        #  1:   number of routees currently processing a message has
                        #       some messages in mailbox.
                        #  > 1: number of routees with at least the configured pressure-threshold
                        #       messages in their mailbox. Note that estimating mailbox size of
                        #       default UnboundedMailbox is O(N) operation.
                        "pressure-threshold" : 1
                    },
                    # reference.conf: 95
                    #  number of children to create in case of a non-direct router; this setting
                    #  is ignored if routees.paths is given
                    "nr-of-instances" : 1,
                    # reference.conf: 91
                    #  routing (load-balance) scheme to use
                    #      available: "from-code", "round-robin", "random", "smallest-mailbox", "scatter-gather", "broadcast"
                    #      or:        Fully qualified class name of the router class.
                    #                 The router class must extend akka.routing.CustomRouterConfig and and have constructor
                    #                 with com.typesafe.config.Config parameter.
                    #      default is "from-code";
                    #  Whether or not an actor is transformed to a Router is decided in code only (Props.withRouter).
                    #  The type of router can be overridden in the configuration; specifying "from-code" means
                    #  that the values specified in the code shall be used.
                    #  In case of routing, the actors to be routed to can be specified
                    #  in several ways:
                    #  - nr-of-instances: will create that many children
                    #  - routees.paths: will look the paths up using actorFor and route to
                    #    them, i.e. will not create children
                    #  - resizer: dynamically resizable number of routees as specified in resizer below
                    "router" : "from-code",
                    # reference.conf: 98
                    #  within is the timeout used for routers containing future calls
                    "within" : "5 seconds",
                    # reference.conf: 100
                    "routees" : {
                        # reference.conf: 104
                        #  Alternatively to giving nr-of-instances you can specify the full
                        #  paths of those actors which should be routed to. This setting takes
                        #  precedence over nr-of-instances
                        "paths" : []
                    }
                }
            },
            # reference.conf: 49
            "provider" : "akka.actor.LocalActorRefProvider",
            # merge of application.conf: 28,reference.conf: 266
            "debug" : {
                # reference.conf: 282
                #  enable DEBUG logging of subscription changes on the eventStream
                "event-stream" : "off",
                # reference.conf: 273
                #  enable DEBUG logging of all AutoReceiveMessages (Kill, PoisonPill and the like)
                "autoreceive" : "off",
                # application.conf: 30
                "lifecycle" : "on",
                # reference.conf: 279
                #  enable DEBUG logging of all LoggingFSMs for events, transitions and timers
                "fsm" : "off",
                # application.conf: 29
                "receive" : "on"
            },
            # reference.conf: 66
            "typed" : {
                # reference.conf: 68
                #  Default timeout for typed actor methods with non-void return type
                "timeout" : "5s"
            },
            # reference.conf: 56
            #  frequency with which stopping actors are prodded in case they had to be
            #  removed from their parents
            "reaper-interval" : "5s",
            # reference.conf: 60
            #  Serializes and deserializes (non-primitive) messages to ensure immutability,
            #  this is only intended for testing.
            "serialize-messages" : "off"
        },
        # reference.conf: 45
        #  JVM shutdown, System.exit(-1), in case of a fatal error, such as OutOfMemoryError
        "jvm-exit-on-fatal-error" : "on",
        # reference.conf: 39
        #  List FQCN of extensions which shall be loaded at actor system startup.
        #  Should be on the format: 'extensions = ["foo", "bar"]' etc.
        #  See the Akka Documentation for more info about Extensions
        "extensions" : [],
        # reference.conf: 10
        #  Akka version, checked against the runtime version of Akka.
        "version" : "2.0.4",
        # reference.conf: 30
        #  Log level for the very basic logger activated during AkkaApplication startup
        #  Options: ERROR, WARNING, INFO, DEBUG
        "stdout-loglevel" : "WARNING",
        # reference.conf: 16
        #  Event handlers to register at boot time (Logging$DefaultLogger logs to STDOUT)
        "event-handlers" : [
            # reference.conf: 16
            "akka.event.Logging$DefaultLogger"
        ]
    }
}
[DEBUG] [12/06/2012 00:44:05.557] [RouterSpec-akka.actor.default-dispatcher-1] [akka://RouterSpec/system/testActor2] started (akka.testkit.TestActor@335566)
[DEBUG] [12/06/2012 00:44:05.557] [RepositorySpec-akka.actor.default-dispatcher-1] [akka://RepositorySpec/system/testActor1] started (akka.testkit.TestActor@1a63a99)
[DEBUG] [12/06/2012 00:44:05.562] [RepositorySpec-akka.actor.default-dispatcher-1] [akka://RepositorySpec/system] now supervising Actor[akka://RepositorySpec/system/testActor1]
[DEBUG] [12/06/2012 00:44:05.562] [RouterSpec-akka.actor.default-dispatcher-1] [akka://RouterSpec/system] now supervising Actor[akka://RouterSpec/system/testActor2]
[DEBUG] [12/06/2012 00:44:05.937] [RouterSpec-akka.actor.default-dispatcher-2] [akka://RouterSpec/user] now supervising TestActor[akka://RouterSpec/user/Router]
[DEBUG] [12/06/2012 00:44:05.937] [RepositorySpec-akka.actor.default-dispatcher-2] [akka://RepositorySpec/user] now supervising TestActor[akka://RepositorySpec/user/Repository]
[DEBUG] [12/06/2012 00:44:05.944] [RouterSpec-akka.actor.default-dispatcher-1] [akka://RouterSpec/system/testActor3] started (akka.testkit.TestActor@166fc08)
[DEBUG] [12/06/2012 00:44:05.944] [RouterSpec-akka.actor.default-dispatcher-1] [akka://RouterSpec/system] now supervising Actor[akka://RouterSpec/system/testActor3]
[DEBUG] [12/06/2012 00:44:06.0] [pool-4-thread-1] [akka://RouterSpec/user/Router] started (com.ergodicity.capture.Router@6c97d9)
[DEBUG] [12/06/2012 00:44:06.18] [RouterSpec-akka.actor.default-dispatcher-1] [akka://RouterSpec/user] now supervising TestActor[akka://RouterSpec/user/Router]
[DEBUG] [12/06/2012 00:44:06.18] [RouterSpec-akka.actor.default-dispatcher-2] [akka://RouterSpec/system/testActor4] started (akka.testkit.TestActor@101d53c)
[DEBUG] [12/06/2012 00:44:06.18] [RouterSpec-akka.actor.default-dispatcher-2] [akka://RouterSpec/system] now supervising Actor[akka://RouterSpec/system/testActor4]
[DEBUG] [12/06/2012 00:44:06.27] [pool-4-thread-1] [akka://RouterSpec/user/Router] started (com.ergodicity.capture.Router@1281d0e)
[DEBUG] [12/06/2012 00:44:06.35] [pool-4-thread-3] [akka://RepositorySpec/user/Repository] started (com.ergodicity.capture.Repository@ab643e)
[DEBUG] [12/06/2012 00:44:06.38] [RepositorySpec-akka.actor.default-dispatcher-3] [akka://RepositorySpec/user] now supervising TestActor[akka://RepositorySpec/user/Repository]
[DEBUG] [12/06/2012 00:44:06.38] [pool-4-thread-3] [akka://RepositorySpec/user/Repository] started (com.ergodicity.capture.Repository@1d1753d)
[DEBUG] [12/06/2012 00:44:06.51] [RepositorySpec-akka.actor.default-dispatcher-2] [akka://RepositorySpec/user] now supervising TestActor[akka://RepositorySpec/user/Repository]
[DEBUG] [12/06/2012 00:44:06.51] [pool-4-thread-3] [akka://RepositorySpec/user/Repository] started (com.ergodicity.capture.Repository@83ba0e)
[DEBUG] [12/06/2012 00:44:06.54] [RepositorySpec-akka.actor.default-dispatcher-3] [akka://RepositorySpec/user] now supervising TestActor[akka://RepositorySpec/user/Repository]
[DEBUG] [12/06/2012 00:44:06.55] [pool-4-thread-3] [akka://RepositorySpec/user/Repository] started (com.ergodicity.capture.Repository@d985c1)
[DEBUG] [12/06/2012 00:44:06.56] [RepositorySpec-akka.actor.default-dispatcher-3] [akka://RepositorySpec/user] now supervising TestActor[akka://RepositorySpec/user/Repository]
[DEBUG] [12/06/2012 00:44:06.56] [pool-4-thread-3] [akka://RepositorySpec/user/Repository] started (com.ergodicity.capture.Repository@1bc1871)
[INFO] [12/06/2012 00:44:06.57] [pool-4-thread-3] [akka://RepositorySpec/user/Repository] Begin updating repository
Setting up data.
[info] RouterSpec:
[info] Router 
[info] - must subscribe stream events
[info] - must route only defined table
[DEBUG] [12/06/2012 00:44:06.256] [pool-4-thread-1] [EventStream(akka://MarketCaptureSpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:44:06.256] [pool-4-thread-1] [EventStream(akka://MarketCaptureSpec)] Default Loggers started
[INFO] [12/06/2012 00:44:06.256] [pool-4-thread-1] [ActorSystem(MarketCaptureSpec)] {
    # system properties
    "os" : {
        # system properties
        "arch" : "x86",
        # system properties
        "name" : "Windows 7",
        # system properties
        "version" : "6.1"
    },
    # system properties
    "awt" : {
        # system properties
        "toolkit" : "sun.awt.windows.WToolkit"
    },
    # system properties
    "file" : {
        # system properties
        "encoding" : {
            # system properties
            "pkg" : "sun.io"
        },
        # system properties
        "separator" : "\\"
    },
    # system properties
    "path" : {
        # system properties
        "separator" : ";"
    },
    # application.conf: 1
    "capture" : {
        # application.conf: 2
        "dispatchers" : {
            # application.conf: 3
            "replicationDispatcher" : {
                # application.conf: 9
                #  Single Threaded Executor
                "thread-pool-executor" : {
                    # application.conf: 12
                    "max-pool-size-min" : 1,
                    # application.conf: 13
                    "max-pool-size-max" : 1,
                    # application.conf: 11
                    "core-pool-size-max" : 1,
                    # application.conf: 10
                    "core-pool-size-min" : 1
                },
                # application.conf: 6
                "executor" : "thread-pool-executor",
                # application.conf: 4
                "type" : "Dispatcher",
                # application.conf: 16
                "throughput" : 1
            }
        }
    },
    # system properties
    "line" : {
        # system properties
        "separator" : "\r\n"
    },
    # system properties
    "java" : {
        # system properties
        "vm" : {
            # system properties
            "vendor" : "Oracle Corporation",
            # system properties
            "name" : "Java HotSpot(TM) Client VM",
            # system properties
            "specification" : {
                # system properties
                "vendor" : "Oracle Corporation",
                # system properties
                "name" : "Java Virtual Machine Specification",
                # system properties
                "version" : "1.7"
            },
            # system properties
            "version" : "23.1-b03",
            # system properties
            "info" : "mixed mode"
        },
        # system properties
        "home" : "C:\\Program Files (x86)\\Java\\jre7",
        # system properties
        "awt" : {
            # system properties
            "graphicsenv" : "sun.awt.Win32GraphicsEnvironment",
            # system properties
            "printerjob" : "sun.awt.windows.WPrinterJob"
        },
        # system properties
        "vendor" : {
            # system properties
            "url" : {
                # system properties
                "bug" : "http://bugreport.sun.com/bugreport/"
            }
        },
        # system properties
        "endorsed" : {
            # system properties
            "dirs" : "C:\\Program Files (x86)\\Java\\jre7\\lib\\endorsed"
        },
        # system properties
        "library" : {
            # system properties
            "path" : "C:\\Windows\\SysWOW64;C:\\Windows\\Sun\\Java\\bin;C:\\Windows\\system32;C:\\Windows;C:\\cygwin\\usr\\local\\bin;C:\\cygwin\\bin;C:\\Program Files (x86)\\AMD APP\\bin\\x86_64;C:\\Program Files (x86)\\AMD APP\\bin\\x86;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0;C:\\Program Files (x86)\\ATI Technologies\\ATI.ACE\\Core-Static;C:\\Program Files\\Java\\jdk1.7.0_05\\bin;C:\\zmq;C:\\jacob;C:\\P2CGate64\\p2bin;D:\\opt\\apache-ant-1.8.4\\bin;C:\\cygwin\\lib\\lapack;."
        },
        # system properties
        "specification" : {
            # system properties
            "vendor" : "Oracle Corporation",
            # system properties
            "name" : "Java Platform API Specification",
            # system properties
            "version" : "1.7"
        },
        # system properties
        "class" : {
            # system properties
            "path" : "D:\\opt\\sbt\\sbt-launch.jar",
            # system properties
            "version" : "51.0"
        },
        # system properties
        "runtime" : {
            # system properties
            "name" : "Java(TM) SE Runtime Environment",
            # system properties
            "version" : "1.7.0_05-b05"
        },
        # system properties
        "ext" : {
            # system properties
            "dirs" : "C:\\Program Files (x86)\\Java\\jre7\\lib\\ext;C:\\Windows\\Sun\\Java\\lib\\ext"
        },
        # system properties
        "io" : {
            # system properties
            "tmpdir" : "C:\\cygwin\\tmp\\"
        },
        # system properties
        "version" : "1.7.0_05"
    },
    # system properties
    "user" : {
        # system properties
        "home" : "C:\\Users\\zheka",
        # system properties
        "timezone" : "Europe/Moscow",
        # system properties
        "dir" : "D:\\projects\\ergodicity",
        # system properties
        "name" : "zheka",
        # system properties
        "language" : "ru",
        # system properties
        "script" : "",
        # system properties
        "variant" : "",
        # system properties
        "country" : "RU"
    },
    # system properties
    "sun" : {
        # system properties
        "os" : {
            # system properties
            "patch" : {
                # system properties
                "level" : "Service Pack 1"
            }
        },
        # system properties
        "boot" : {
            # system properties
            "library" : {
                # system properties
                "path" : "C:\\Program Files (x86)\\Java\\jre7\\bin"
            },
            # system properties
            "class" : {
                # system properties
                "path" : "C:\\Program Files (x86)\\Java\\jre7\\lib\\resources.jar;C:\\Program Files (x86)\\Java\\jre7\\lib\\rt.jar;C:\\Program Files (x86)\\Java\\jre7\\lib\\sunrsasign.jar;C:\\Program Files (x86)\\Java\\jre7\\lib\\jsse.jar;C:\\Program Files (x86)\\Java\\jre7\\lib\\jce.jar;C:\\Program Files (x86)\\Java\\jre7\\lib\\charsets.jar;C:\\Program Files (x86)\\Java\\jre7\\lib\\jfr.jar;C:\\Program Files (x86)\\Java\\jre7\\classes"
            }
        },
        # system properties
        "arch" : {
            # system properties
            "data" : {
                # system properties
                "model" : "32"
            }
        },
        # system properties
        "jnu" : {
            # system properties
            "encoding" : "Cp1251"
        },
        # system properties
        "cpu" : {
            # system properties
            "endian" : "little",
            # system properties
            "isalist" : ""
        },
        # system properties
        "desktop" : "windows",
        # system properties
        "java" : {
            # system properties
            "launcher" : "SUN_STANDARD",
            # system properties
            "command" : "D:\\opt\\sbt\\sbt-launch.jar test\r"
        },
        # system properties
        "management" : {
            # system properties
            "compiler" : "HotSpot Client Compiler"
        },
        # system properties
        "io" : {
            # system properties
            "unicode" : {
                # system properties
                "encoding" : "UnicodeLittle"
            }
        }
    },
    # merge of application.conf: 22,reference.conf: 8
    "akka" : {
        # reference.conf: 13
        #  Home directory of Akka, modules in the deploy directory will be loaded
        "home" : "",
        # application.conf: 23
        "loglevel" : "DEBUG",
        # reference.conf: 42
        #  Toggles whether the threads created by this ActorSystem should be daemons or not
        "daemonic" : "off",
        # application.conf: 25
        "log-config-on-start" : "on",
        # reference.conf: 304
        #  Used to set the behavior of the scheduler.
        #  Changing the default values may change the system behavior drastically so make sure
        #  you know what you're doing! See the Scheduler section of the Akka documentation for more details.
        "scheduler" : {
            # reference.conf: 314
            "ticks-per-wheel" : 512,
            # reference.conf: 313
            #  The HashedWheelTimer (HWT) implementation from Netty is used as the default scheduler
            #  in the system.
            #  HWT does not execute the scheduled tasks on exact time.
            #  It will, on every tick, check if there are any tasks behind the schedule and execute them.
            #  You can increase or decrease the accuracy of the execution timing by specifying smaller
            #  or larger tick duration.
            #  If you are scheduling a lot of tasks you should consider increasing the ticks per wheel.
            #  For more information see: http://www.jboss.org/netty/
            "tick-duration" : "100ms"
        },
        # reference.conf: 9
        "test" : {
            # reference.conf: 19
            #  duration to wait in expectMsg and friends outside of within() block by default
            "single-expect-default" : "3s",
            # reference.conf: 22
            #  The timeout that is added as an implicit by DefaultTimeout trait
            "default-timeout" : "5s",
            # reference.conf: 24
            "calling-thread-dispatcher" : {
                # reference.conf: 25
                "type" : "akka.testkit.CallingThreadDispatcherConfigurator"
            },
            # reference.conf: 16
            #  duration of EventFilter.intercept waits after the block is finished until
            #  all required messages are received
            "filter-leeway" : "3s",
            # reference.conf: 12
            #  factor by which to scale timeouts during tests, e.g. to account for shared
            #  build system load
            "timefactor" : 1
        },
        # reference.conf: 21
        #  Event handlers are created and registered synchronously during ActorSystem
        #  start-up, and since they are actors, this timeout is used to bound the
        #  waiting time
        "event-handler-startup-timeout" : "5s",
        # merge of application.conf: 27,reference.conf: 47
        "actor" : {
            # reference.conf: 296
            #  Class to Serializer binding. You only need to specify the name of an interface
            #  or abstract base class of the messages. In case of ambiguity it is using the
            #  most specific configured class, or giving a warning and choosing the УfirstФ one.
            # 
            #  To disable one of the default serializers, assign its class to "none", like
            #  "java.io.Serializable" = none
            "serialization-bindings" : {
                # reference.conf: 297
                "java.io.Serializable" : "java"
            },
            # reference.conf: 286
            #  Entries for pluggable serializers and their bindings.
            "serializers" : {
                # reference.conf: 287
                "java" : "akka.serialization.JavaSerializer"
            },
            # reference.conf: 52
            #  Timeout for ActorSystem.actorOf
            "creation-timeout" : "20s",
            # reference.conf: 64
            #  Serializes and deserializes creators (in Props) to ensure that they can be sent over the network,
            #  this is only intended for testing.
            "serialize-creators" : "off",
            # reference.conf: 160
            "default-dispatcher" : {
                # reference.conf: 263
                #  For Actor with Stash: The default capacity of the stash.
                #  If negative (or zero) then an unbounded stash is used (default)
                #  If positive then a bounded stash is used and the capacity is set using the
                #  property
                "stash-capacity" : -1,
                # reference.conf: 252
                #  FQCN of the MailboxType, if not specified the default bounded or unbounded
                #  mailbox is used. The Class of the FQCN must have a constructor with
                #  (akka.actor.ActorSystem.Settings, com.typesafe.config.Config) parameters.
                "mailbox-type" : "",
                # reference.conf: 191
                #  This will be used if you have set "executor = "thread-pool-executor""
                "thread-pool-executor" : {
                    # reference.conf: 215
                    #  Specifies the bounded capacity of the task queue (< 1 == unbounded)
                    "task-queue-size" : -1,
                    # reference.conf: 193
                    #  Keep alive time for threads
                    "keep-alive-time" : "60s",
                    # reference.conf: 206
                    #  Hint: max-pool-size is only used for bounded task queues
                    #  minimum number of threads to cap factor-based max number to
                    "max-pool-size-min" : 8,
                    # reference.conf: 212
                    #  Max number of threads to cap factor-based max number to
                    "max-pool-size-max" : 64,
                    # reference.conf: 199
                    #  No of core threads ... ceil(available processors * factor)
                    "core-pool-size-factor" : 3,
                    # reference.conf: 202
                    #  Max number of threads to cap factor-based number to
                    "core-pool-size-max" : 64,
                    # reference.conf: 209
                    #  Max no of threads ... ceil(available processors * factor)
                    "max-pool-size-factor" : 3,
                    # reference.conf: 196
                    #  Min number of threads to cap factor-based core number to
                    "core-pool-size-min" : 8,
                    # reference.conf: 222
                    #  Allow core threads to time out
                    "allow-core-timeout" : "on",
                    # reference.conf: 219
                    #  Specifies which type of task queue will be used, can be "array" or
                    #  "linked" (default)
                    "task-queue-type" : "linked"
                },
                # reference.conf: 257
                #  For BalancingDispatcher: If the balancing dispatcher should attempt to
                #  schedule idle actors using the same dispatcher when a message comes in,
                #  and the dispatchers ExecutorService is not fully busy already.
                "attempt-teamwork" : "on",
                # reference.conf: 179
                #  This will be used if you have set "executor = "fork-join-executor""
                "fork-join-executor" : {
                    # reference.conf: 184
                    #  Parallelism (threads) ... ceil(available processors * factor)
                    "parallelism-factor" : 3,
                    # reference.conf: 181
                    #  Min number of threads to cap factor-based parallelism number to
                    "parallelism-min" : 8,
                    # reference.conf: 187
                    #  Max number of threads to cap factor-based parallelism number to
                    "parallelism-max" : 64
                },
                # reference.conf: 233
                #  Throughput deadline for Dispatcher, set to 0 or negative for no deadline
                "throughput-deadline-time" : "0ms",
                # reference.conf: 247
                #  Specifies the timeout to add a new message to a mailbox that is full -
                #  negative number means infinite timeout. It is only used for type=Dispatcher
                #  and only if mailbox-capacity > 0
                "mailbox-push-timeout-time" : "10s",
                # reference.conf: 242
                #  If negative (or zero) then an unbounded mailbox is used (default)
                #  If positive then a bounded mailbox is used and the capacity is set using the
                #  property
                #  NOTE: setting a mailbox to 'blocking' can be a bit dangerous, could lead to
                #  deadlock, use with care
                #  The following mailbox-push-timeout-time is only used for type=Dispatcher and
                #  only if mailbox-capacity > 0
                "mailbox-capacity" : -1,
                # reference.conf: 176
                #  Which kind of ExecutorService to use for this dispatcher
                #  Valid options:
                #                "fork-join-executor" requires a "fork-join-executor" section
                #                "thread-pool-executor" requires a "thread-pool-executor" section
                #                or
                #                A FQCN of a class extending ExecutorServiceConfigurator
                "executor" : "fork-join-executor",
                # reference.conf: 226
                #  How long time the dispatcher will wait for new actors until it shuts down
                "shutdown-timeout" : "1s",
                # reference.conf: 168
                #  Must be one of the following
                #  Dispatcher, (BalancingDispatcher, only valid when all actors using it are of
                #  the same type), PinnedDispatcher, or a FQCN to a class inheriting
                #  MessageDispatcherConfigurator with a constructor with
                #  com.typesafe.config.Config parameter and akka.dispatch.DispatcherPrerequisites
                #  parameters.
                #  PinnedDispatcher must be used toghether with executor=thread-pool-executor.
                "type" : "Dispatcher",
                # reference.conf: 230
                #  Throughput defines the number of messages that are processed in a batch
                #  before the thread is returned to the pool. Set to 1 for as fair as possible.
                "throughput" : 5
            },
            # reference.conf: 71
            "deployment" : {
                # reference.conf: 74
                #  deployment id pattern - on the format: /parent/child etc.
                "default" : {
                    # reference.conf: 109
                    #  Routers with dynamically resizable number of routees; this feature is enabled
                    #  by including (parts of) this section in the deployment
                    "resizer" : {
                        # reference.conf: 131
                        #  Percentage to increase capacity whenever all routees are busy.
                        #  For example, 0.2 would increase 20% (rounded up), i.e. if current
                        #  capacity is 6 it will request an increase of 2 more routees.
                        "rampup-rate" : 0.2,
                        # reference.conf: 151
                        #  When the resizer reduce the capacity the abandoned routee actors are stopped
                        #  with PoisonPill after this delay. The reason for the delay is to give concurrent
                        #  messages a chance to be placed in mailbox before sending PoisonPill.
                        #  Use 0s to skip delay.
                        "stop-delay" : "1s",
                        # reference.conf: 116
                        #  The most number of routees the router should ever have.
                        #  Must be greater than or equal to lower-bound.
                        "upper-bound" : 10,
                        # reference.conf: 155
                        #  Number of messages between resize operation.
                        #  Use 1 to resize before each message.
                        "messages-per-resize" : 10,
                        # reference.conf: 139
                        #  Minimum fraction of busy routees before backing off.
                        #  For example, if this is 0.3, then we'll remove some routees only when
                        #  less than 30% of routees are busy, i.e. if current capacity is 10 and
                        #  3 are busy then the capacity is unchanged, but if 2 or less are busy
                        #  the capacity is decreased.
                        #  Use 0.0 or negative to avoid removal of routees.
                        "backoff-threshold" : 0.3,
                        # reference.conf: 145
                        #  Fraction of routees to be removed when the resizer reaches the
                        #  backoffThreshold.
                        #  For example, 0.1 would decrease 10% (rounded up), i.e. if current
                        #  capacity is 9 it will request an decrease of 1 routee.
                        "backoff-rate" : 0.1,
                        # reference.conf: 112
                        #  The fewest number of routees the router should ever have.
                        "lower-bound" : 1,
                        # reference.conf: 126
                        #  Threshold to evaluate if routee is considered to be busy (under pressure).
                        #  Implementation depends on this value (default is 1).
                        #  0:   number of routees currently processing a message.
                        #  1:   number of routees currently processing a message has
                        #       some messages in mailbox.
                        #  > 1: number of routees with at least the configured pressure-threshold
                        #       messages in their mailbox. Note that estimating mailbox size of
                        #       default UnboundedMailbox is O(N) operation.
                        "pressure-threshold" : 1
                    },
                    # reference.conf: 95
                    #  number of children to create in case of a non-direct router; this setting
                    #  is ignored if routees.paths is given
                    "nr-of-instances" : 1,
                    # reference.conf: 91
                    #  routing (load-balance) scheme to use
                    #      available: "from-code", "round-robin", "random", "smallest-mailbox", "scatter-gather", "broadcast"
                    #      or:        Fully qualified class name of the router class.
                    #                 The router class must extend akka.routing.CustomRouterConfig and and have constructor
                    #                 with com.typesafe.config.Config parameter.
                    #      default is "from-code";
                    #  Whether or not an actor is transformed to a Router is decided in code only (Props.withRouter).
                    #  The type of router can be overridden in the configuration; specifying "from-code" means
                    #  that the values specified in the code shall be used.
                    #  In case of routing, the actors to be routed to can be specified
                    #  in several ways:
                    #  - nr-of-instances: will create that many children
                    #  - routees.paths: will look the paths up using actorFor and route to
                    #    them, i.e. will not create children
                    #  - resizer: dynamically resizable number of routees as specified in resizer below
                    "router" : "from-code",
                    # reference.conf: 98
                    #  within is the timeout used for routers containing future calls
                    "within" : "5 seconds",
                    # reference.conf: 100
                    "routees" : {
                        # reference.conf: 104
                        #  Alternatively to giving nr-of-instances you can specify the full
                        #  paths of those actors which should be routed to. This setting takes
                        #  precedence over nr-of-instances
                        "paths" : []
                    }
                }
            },
            # reference.conf: 49
            "provider" : "akka.actor.LocalActorRefProvider",
            # merge of application.conf: 28,reference.conf: 266
            "debug" : {
                # reference.conf: 282
                #  enable DEBUG logging of subscription changes on the eventStream
                "event-stream" : "off",
                # reference.conf: 273
                #  enable DEBUG logging of all AutoReceiveMessages (Kill, PoisonPill and the like)
                "autoreceive" : "off",
                # application.conf: 30
                "lifecycle" : "on",
                # reference.conf: 279
                #  enable DEBUG logging of all LoggingFSMs for events, transitions and timers
                "fsm" : "off",
                # application.conf: 29
                "receive" : "on"
            },
            # reference.conf: 66
            "typed" : {
                # reference.conf: 68
                #  Default timeout for typed actor methods with non-void return type
                "timeout" : "5s"
            },
            # reference.conf: 56
            #  frequency with which stopping actors are prodded in case they had to be
            #  removed from their parents
            "reaper-interval" : "5s",
            # reference.conf: 60
            #  Serializes and deserializes (non-primitive) messages to ensure immutability,
            #  this is only intended for testing.
            "serialize-messages" : "off"
        },
        # reference.conf: 45
        #  JVM shutdown, System.exit(-1), in case of a fatal error, such as OutOfMemoryError
        "jvm-exit-on-fatal-error" : "on",
        # reference.conf: 39
        #  List FQCN of extensions which shall be loaded at actor system startup.
        #  Should be on the format: 'extensions = ["foo", "bar"]' etc.
        #  See the Akka Documentation for more info about Extensions
        "extensions" : [],
        # reference.conf: 10
        #  Akka version, checked against the runtime version of Akka.
        "version" : "2.0.4",
        # reference.conf: 30
        #  Log level for the very basic logger activated during AkkaApplication startup
        #  Options: ERROR, WARNING, INFO, DEBUG
        "stdout-loglevel" : "WARNING",
        # reference.conf: 16
        #  Event handlers to register at boot time (Logging$DefaultLogger logs to STDOUT)
        "event-handlers" : [
            # reference.conf: 16
            "akka.event.Logging$DefaultLogger"
        ]
    }
}
[info] MarketCaptureSpec:
[error] Could not run test com.ergodicity.capture.MarketCaptureSpec: java.lang.UnsatisfiedLinkError: ru.micexrts.cgate.impl.CGateImpl.env_open(Ljava/lang/String;)I
[DEBUG] [12/06/2012 00:44:06.284] [RouterSpec-akka.actor.default-dispatcher-2] [akka://RouterSpec/user/Router] stopped
[DEBUG] [12/06/2012 00:44:06.286] [RouterSpec-akka.actor.default-dispatcher-2] [akka://RouterSpec/user] stopping
[DEBUG] [12/06/2012 00:44:06.288] [RouterSpec-akka.actor.default-dispatcher-2] [akka://RouterSpec/user] stopped
[DEBUG] [12/06/2012 00:44:06.290] [RouterSpec-akka.actor.default-dispatcher-2] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:06.290] [RouterSpec-akka.actor.default-dispatcher-2] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:06.292] [RouterSpec-akka.actor.default-dispatcher-2] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:44:06.292] [RouterSpec-akka.actor.default-dispatcher-4] [akka://RouterSpec/system/log1-Logging$DefaultLogger] stopped
[DEBUG] [12/06/2012 00:44:06.292] [pool-4-thread-1] [EventStream(akka://MarketDbBuncherSpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:44:06.292] [pool-4-thread-1] [EventStream(akka://MarketDbBuncherSpec)] Default Loggers started
[INFO] [12/06/2012 00:44:06.293] [pool-4-thread-1] [ActorSystem(MarketDbBuncherSpec)] {
    # system properties
    "os" : {
        # system properties
        "arch" : "x86",
        # system properties
        "name" : "Windows 7",
        # system properties
        "version" : "6.1"
    },
    # system properties
    "awt" : {
        # system properties
        "toolkit" : "sun.awt.windows.WToolkit"
    },
    # system properties
    "file" : {
        # system properties
        "encoding" : {
            # system properties
            "pkg" : "sun.io"
        },
        # system properties
        "separator" : "\\"
    },
    # system properties
    "path" : {
        # system properties
        "separator" : ";"
    },
    # application.conf: 1
    "capture" : {
        # application.conf: 2
        "dispatchers" : {
            # application.conf: 3
            "replicationDispatcher" : {
                # application.conf: 9
                #  Single Threaded Executor
                "thread-pool-executor" : {
                    # application.conf: 12
                    "max-pool-size-min" : 1,
                    # application.conf: 13
                    "max-pool-size-max" : 1,
                    # application.conf: 11
                    "core-pool-size-max" : 1,
                    # application.conf: 10
                    "core-pool-size-min" : 1
                },
                # application.conf: 6
                "executor" : "thread-pool-executor",
                # application.conf: 4
                "type" : "Dispatcher",
                # application.conf: 16
                "throughput" : 1
            }
        }
    },
    # system properties
    "line" : {
        # system properties
        "separator" : "\r\n"
    },
    # system properties
    "java" : {
        # system properties
        "vm" : {
            # system properties
            "vendor" : "Oracle Corporation",
            # system properties
            "name" : "Java HotSpot(TM) Client VM",
            # system properties
            "specification" : {
                # system properties
                "vendor" : "Oracle Corporation",
                # system properties
                "name" : "Java Virtual Machine Specification",
                # system properties
                "version" : "1.7"
            },
            # system properties
            "version" : "23.1-b03",
            # system properties
            "info" : "mixed mode"
        },
        # system properties
        "home" : "C:\\Program Files (x86)\\Java\\jre7",
        # system properties
        "awt" : {
            # system properties
            "graphicsenv" : "sun.awt.Win32GraphicsEnvironment",
            # system properties
            "printerjob" : "sun.awt.windows.WPrinterJob"
        },
        # system properties
        "vendor" : {
            # system properties
            "url" : {
                # system properties
                "bug" : "http://bugreport.sun.com/bugreport/"
            }
        },
        # system properties
        "endorsed" : {
            # system properties
            "dirs" : "C:\\Program Files (x86)\\Java\\jre7\\lib\\endorsed"
        },
        # system properties
        "library" : {
            # system properties
            "path" : "C:\\Windows\\SysWOW64;C:\\Windows\\Sun\\Java\\bin;C:\\Windows\\system32;C:\\Windows;C:\\cygwin\\usr\\local\\bin;C:\\cygwin\\bin;C:\\Program Files (x86)\\AMD APP\\bin\\x86_64;C:\\Program Files (x86)\\AMD APP\\bin\\x86;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0;C:\\Program Files (x86)\\ATI Technologies\\ATI.ACE\\Core-Static;C:\\Program Files\\Java\\jdk1.7.0_05\\bin;C:\\zmq;C:\\jacob;C:\\P2CGate64\\p2bin;D:\\opt\\apache-ant-1.8.4\\bin;C:\\cygwin\\lib\\lapack;."
        },
        # system properties
        "specification" : {
            # system properties
            "vendor" : "Oracle Corporation",
            # system properties
            "name" : "Java Platform API Specification",
            # system properties
            "version" : "1.7"
        },
        # system properties
        "class" : {
            # system properties
            "path" : "D:\\opt\\sbt\\sbt-launch.jar",
            # system properties
            "version" : "51.0"
        },
        # system properties
        "runtime" : {
            # system properties
            "name" : "Java(TM) SE Runtime Environment",
            # system properties
            "version" : "1.7.0_05-b05"
        },
        # system properties
        "ext" : {
            # system properties
            "dirs" : "C:\\Program Files (x86)\\Java\\jre7\\lib\\ext;C:\\Windows\\Sun\\Java\\lib\\ext"
        },
        # system properties
        "io" : {
            # system properties
            "tmpdir" : "C:\\cygwin\\tmp\\"
        },
        # system properties
        "version" : "1.7.0_05"
    },
    # system properties
    "user" : {
        # system properties
        "home" : "C:\\Users\\zheka",
        # system properties
        "timezone" : "Europe/Moscow",
        # system properties
        "dir" : "D:\\projects\\ergodicity",
        # system properties
        "name" : "zheka",
        # system properties
        "language" : "ru",
        # system properties
        "script" : "",
        # system properties
        "variant" : "",
        # system properties
        "country" : "RU"
    },
    # system properties
    "sun" : {
        # system properties
        "os" : {
            # system properties
            "patch" : {
                # system properties
                "level" : "Service Pack 1"
            }
        },
        # system properties
        "boot" : {
            # system properties
            "library" : {
                # system properties
                "path" : "C:\\Program Files (x86)\\Java\\jre7\\bin"
            },
            # system properties
            "class" : {
                # system properties
                "path" : "C:\\Program Files (x86)\\Java\\jre7\\lib\\resources.jar;C:\\Program Files (x86)\\Java\\jre7\\lib\\rt.jar;C:\\Program Files (x86)\\Java\\jre7\\lib\\sunrsasign.jar;C:\\Program Files (x86)\\Java\\jre7\\lib\\jsse.jar;C:\\Program Files (x86)\\Java\\jre7\\lib\\jce.jar;C:\\Program Files (x86)\\Java\\jre7\\lib\\charsets.jar;C:\\Program Files (x86)\\Java\\jre7\\lib\\jfr.jar;C:\\Program Files (x86)\\Java\\jre7\\classes"
            }
        },
        # system properties
        "arch" : {
            # system properties
            "data" : {
                # system properties
                "model" : "32"
            }
        },
        # system properties
        "jnu" : {
            # system properties
            "encoding" : "Cp1251"
        },
        # system properties
        "cpu" : {
            # system properties
            "endian" : "little",
            # system properties
            "isalist" : ""
        },
        # system properties
        "desktop" : "windows",
        # system properties
        "java" : {
            # system properties
            "launcher" : "SUN_STANDARD",
            # system properties
            "command" : "D:\\opt\\sbt\\sbt-launch.jar test\r"
        },
        # system properties
        "management" : {
            # system properties
            "compiler" : "HotSpot Client Compiler"
        },
        # system properties
        "io" : {
            # system properties
            "unicode" : {
                # system properties
                "encoding" : "UnicodeLittle"
            }
        }
    },
    # merge of application.conf: 22,reference.conf: 8
    "akka" : {
        # reference.conf: 13
        #  Home directory of Akka, modules in the deploy directory will be loaded
        "home" : "",
        # application.conf: 23
        "loglevel" : "DEBUG",
        # reference.conf: 42
        #  Toggles whether the threads created by this ActorSystem should be daemons or not
        "daemonic" : "off",
        # application.conf: 25
        "log-config-on-start" : "on",
        # reference.conf: 304
        #  Used to set the behavior of the scheduler.
        #  Changing the default values may change the system behavior drastically so make sure
        #  you know what you're doing! See the Scheduler section of the Akka documentation for more details.
        "scheduler" : {
            # reference.conf: 314
            "ticks-per-wheel" : 512,
            # reference.conf: 313
            #  The HashedWheelTimer (HWT) implementation from Netty is used as the default scheduler
            #  in the system.
            #  HWT does not execute the scheduled tasks on exact time.
            #  It will, on every tick, check if there are any tasks behind the schedule and execute them.
            #  You can increase or decrease the accuracy of the execution timing by specifying smaller
            #  or larger tick duration.
            #  If you are scheduling a lot of tasks you should consider increasing the ticks per wheel.
            #  For more information see: http://www.jboss.org/netty/
            "tick-duration" : "100ms"
        },
        # reference.conf: 9
        "test" : {
            # reference.conf: 19
            #  duration to wait in expectMsg and friends outside of within() block by default
            "single-expect-default" : "3s",
            # reference.conf: 22
            #  The timeout that is added as an implicit by DefaultTimeout trait
            "default-timeout" : "5s",
            # reference.conf: 24
            "calling-thread-dispatcher" : {
                # reference.conf: 25
                "type" : "akka.testkit.CallingThreadDispatcherConfigurator"
            },
            # reference.conf: 16
            #  duration of EventFilter.intercept waits after the block is finished until
            #  all required messages are received
            "filter-leeway" : "3s",
            # reference.conf: 12
            #  factor by which to scale timeouts during tests, e.g. to account for shared
            #  build system load
            "timefactor" : 1
        },
        # reference.conf: 21
        #  Event handlers are created and registered synchronously during ActorSystem
        #  start-up, and since they are actors, this timeout is used to bound the
        #  waiting time
        "event-handler-startup-timeout" : "5s",
        # merge of application.conf: 27,reference.conf: 47
        "actor" : {
            # reference.conf: 296
            #  Class to Serializer binding. You only need to specify the name of an interface
            #  or abstract base class of the messages. In case of ambiguity it is using the
            #  most specific configured class, or giving a warning and choosing the УfirstФ one.
            # 
            #  To disable one of the default serializers, assign its class to "none", like
            #  "java.io.Serializable" = none
            "serialization-bindings" : {
                # reference.conf: 297
                "java.io.Serializable" : "java"
            },
            # reference.conf: 286
            #  Entries for pluggable serializers and their bindings.
            "serializers" : {
                # reference.conf: 287
                "java" : "akka.serialization.JavaSerializer"
            },
            # reference.conf: 52
            #  Timeout for ActorSystem.actorOf
            "creation-timeout" : "20s",
            # reference.conf: 64
            #  Serializes and deserializes creators (in Props) to ensure that they can be sent over the network,
            #  this is only intended for testing.
            "serialize-creators" : "off",
            # reference.conf: 160
            "default-dispatcher" : {
                # reference.conf: 263
                #  For Actor with Stash: The default capacity of the stash.
                #  If negative (or zero) then an unbounded stash is used (default)
                #  If positive then a bounded stash is used and the capacity is set using the
                #  property
                "stash-capacity" : -1,
                # reference.conf: 252
                #  FQCN of the MailboxType, if not specified the default bounded or unbounded
                #  mailbox is used. The Class of the FQCN must have a constructor with
                #  (akka.actor.ActorSystem.Settings, com.typesafe.config.Config) parameters.
                "mailbox-type" : "",
                # reference.conf: 191
                #  This will be used if you have set "executor = "thread-pool-executor""
                "thread-pool-executor" : {
                    # reference.conf: 215
                    #  Specifies the bounded capacity of the task queue (< 1 == unbounded)
                    "task-queue-size" : -1,
                    # reference.conf: 193
                    #  Keep alive time for threads
                    "keep-alive-time" : "60s",
                    # reference.conf: 206
                    #  Hint: max-pool-size is only used for bounded task queues
                    #  minimum number of threads to cap factor-based max number to
                    "max-pool-size-min" : 8,
                    # reference.conf: 212
                    #  Max number of threads to cap factor-based max number to
                    "max-pool-size-max" : 64,
                    # reference.conf: 199
                    #  No of core threads ... ceil(available processors * factor)
                    "core-pool-size-factor" : 3,
                    # reference.conf: 202
                    #  Max number of threads to cap factor-based number to
                    "core-pool-size-max" : 64,
                    # reference.conf: 209
                    #  Max no of threads ... ceil(available processors * factor)
                    "max-pool-size-factor" : 3,
                    # reference.conf: 196
                    #  Min number of threads to cap factor-based core number to
                    "core-pool-size-min" : 8,
                    # reference.conf: 222
                    #  Allow core threads to time out
                    "allow-core-timeout" : "on",
                    # reference.conf: 219
                    #  Specifies which type of task queue will be used, can be "array" or
                    #  "linked" (default)
                    "task-queue-type" : "linked"
                },
                # reference.conf: 257
                #  For BalancingDispatcher: If the balancing dispatcher should attempt to
                #  schedule idle actors using the same dispatcher when a message comes in,
                #  and the dispatchers ExecutorService is not fully busy already.
                "attempt-teamwork" : "on",
                # reference.conf: 179
                #  This will be used if you have set "executor = "fork-join-executor""
                "fork-join-executor" : {
                    # reference.conf: 184
                    #  Parallelism (threads) ... ceil(available processors * factor)
                    "parallelism-factor" : 3,
                    # reference.conf: 181
                    #  Min number of threads to cap factor-based parallelism number to
                    "parallelism-min" : 8,
                    # reference.conf: 187
                    #  Max number of threads to cap factor-based parallelism number to
                    "parallelism-max" : 64
                },
                # reference.conf: 233
                #  Throughput deadline for Dispatcher, set to 0 or negative for no deadline
                "throughput-deadline-time" : "0ms",
                # reference.conf: 247
                #  Specifies the timeout to add a new message to a mailbox that is full -
                #  negative number means infinite timeout. It is only used for type=Dispatcher
                #  and only if mailbox-capacity > 0
                "mailbox-push-timeout-time" : "10s",
                # reference.conf: 242
                #  If negative (or zero) then an unbounded mailbox is used (default)
                #  If positive then a bounded mailbox is used and the capacity is set using the
                #  property
                #  NOTE: setting a mailbox to 'blocking' can be a bit dangerous, could lead to
                #  deadlock, use with care
                #  The following mailbox-push-timeout-time is only used for type=Dispatcher and
                #  only if mailbox-capacity > 0
                "mailbox-capacity" : -1,
                # reference.conf: 176
                #  Which kind of ExecutorService to use for this dispatcher
                #  Valid options:
                #                "fork-join-executor" requires a "fork-join-executor" section
                #                "thread-pool-executor" requires a "thread-pool-executor" section
                #                or
                #                A FQCN of a class extending ExecutorServiceConfigurator
                "executor" : "fork-join-executor",
                # reference.conf: 226
                #  How long time the dispatcher will wait for new actors until it shuts down
                "shutdown-timeout" : "1s",
                # reference.conf: 168
                #  Must be one of the following
                #  Dispatcher, (BalancingDispatcher, only valid when all actors using it are of
                #  the same type), PinnedDispatcher, or a FQCN to a class inheriting
                #  MessageDispatcherConfigurator with a constructor with
                #  com.typesafe.config.Config parameter and akka.dispatch.DispatcherPrerequisites
                #  parameters.
                #  PinnedDispatcher must be used toghether with executor=thread-pool-executor.
                "type" : "Dispatcher",
                # reference.conf: 230
                #  Throughput defines the number of messages that are processed in a batch
                #  before the thread is returned to the pool. Set to 1 for as fair as possible.
                "throughput" : 5
            },
            # reference.conf: 71
            "deployment" : {
                # reference.conf: 74
                #  deployment id pattern - on the format: /parent/child etc.
                "default" : {
                    # reference.conf: 109
                    #  Routers with dynamically resizable number of routees; this feature is enabled
                    #  by including (parts of) this section in the deployment
                    "resizer" : {
                        # reference.conf: 131
                        #  Percentage to increase capacity whenever all routees are busy.
                        #  For example, 0.2 would increase 20% (rounded up), i.e. if current
                        #  capacity is 6 it will request an increase of 2 more routees.
                        "rampup-rate" : 0.2,
                        # reference.conf: 151
                        #  When the resizer reduce the capacity the abandoned routee actors are stopped
                        #  with PoisonPill after this delay. The reason for the delay is to give concurrent
                        #  messages a chance to be placed in mailbox before sending PoisonPill.
                        #  Use 0s to skip delay.
                        "stop-delay" : "1s",
                        # reference.conf: 116
                        #  The most number of routees the router should ever have.
                        #  Must be greater than or equal to lower-bound.
                        "upper-bound" : 10,
                        # reference.conf: 155
                        #  Number of messages between resize operation.
                        #  Use 1 to resize before each message.
                        "messages-per-resize" : 10,
                        # reference.conf: 139
                        #  Minimum fraction of busy routees before backing off.
                        #  For example, if this is 0.3, then we'll remove some routees only when
                        #  less than 30% of routees are busy, i.e. if current capacity is 10 and
                        #  3 are busy then the capacity is unchanged, but if 2 or less are busy
                        #  the capacity is decreased.
                        #  Use 0.0 or negative to avoid removal of routees.
                        "backoff-threshold" : 0.3,
                        # reference.conf: 145
                        #  Fraction of routees to be removed when the resizer reaches the
                        #  backoffThreshold.
                        #  For example, 0.1 would decrease 10% (rounded up), i.e. if current
                        #  capacity is 9 it will request an decrease of 1 routee.
                        "backoff-rate" : 0.1,
                        # reference.conf: 112
                        #  The fewest number of routees the router should ever have.
                        "lower-bound" : 1,
                        # reference.conf: 126
                        #  Threshold to evaluate if routee is considered to be busy (under pressure).
                        #  Implementation depends on this value (default is 1).
                        #  0:   number of routees currently processing a message.
                        #  1:   number of routees currently processing a message has
                        #       some messages in mailbox.
                        #  > 1: number of routees with at least the configured pressure-threshold
                        #       messages in their mailbox. Note that estimating mailbox size of
                        #       default UnboundedMailbox is O(N) operation.
                        "pressure-threshold" : 1
                    },
                    # reference.conf: 95
                    #  number of children to create in case of a non-direct router; this setting
                    #  is ignored if routees.paths is given
                    "nr-of-instances" : 1,
                    # reference.conf: 91
                    #  routing (load-balance) scheme to use
                    #      available: "from-code", "round-robin", "random", "smallest-mailbox", "scatter-gather", "broadcast"
                    #      or:        Fully qualified class name of the router class.
                    #                 The router class must extend akka.routing.CustomRouterConfig and and have constructor
                    #                 with com.typesafe.config.Config parameter.
                    #      default is "from-code";
                    #  Whether or not an actor is transformed to a Router is decided in code only (Props.withRouter).
                    #  The type of router can be overridden in the configuration; specifying "from-code" means
                    #  that the values specified in the code shall be used.
                    #  In case of routing, the actors to be routed to can be specified
                    #  in several ways:
                    #  - nr-of-instances: will create that many children
                    #  - routees.paths: will look the paths up using actorFor and route to
                    #    them, i.e. will not create children
                    #  - resizer: dynamically resizable number of routees as specified in resizer below
                    "router" : "from-code",
                    # reference.conf: 98
                    #  within is the timeout used for routers containing future calls
                    "within" : "5 seconds",
                    # reference.conf: 100
                    "routees" : {
                        # reference.conf: 104
                        #  Alternatively to giving nr-of-instances you can specify the full
                        #  paths of those actors which should be routed to. This setting takes
                        #  precedence over nr-of-instances
                        "paths" : []
                    }
                }
            },
            # reference.conf: 49
            "provider" : "akka.actor.LocalActorRefProvider",
            # merge of application.conf: 28,reference.conf: 266
            "debug" : {
                # reference.conf: 282
                #  enable DEBUG logging of subscription changes on the eventStream
                "event-stream" : "off",
                # reference.conf: 273
                #  enable DEBUG logging of all AutoReceiveMessages (Kill, PoisonPill and the like)
                "autoreceive" : "off",
                # application.conf: 30
                "lifecycle" : "on",
                # reference.conf: 279
                #  enable DEBUG logging of all LoggingFSMs for events, transitions and timers
                "fsm" : "off",
                # application.conf: 29
                "receive" : "on"
            },
            # reference.conf: 66
            "typed" : {
                # reference.conf: 68
                #  Default timeout for typed actor methods with non-void return type
                "timeout" : "5s"
            },
            # reference.conf: 56
            #  frequency with which stopping actors are prodded in case they had to be
            #  removed from their parents
            "reaper-interval" : "5s",
            # reference.conf: 60
            #  Serializes and deserializes (non-primitive) messages to ensure immutability,
            #  this is only intended for testing.
            "serialize-messages" : "off"
        },
        # reference.conf: 45
        #  JVM shutdown, System.exit(-1), in case of a fatal error, such as OutOfMemoryError
        "jvm-exit-on-fatal-error" : "on",
        # reference.conf: 39
        #  List FQCN of extensions which shall be loaded at actor system startup.
        #  Should be on the format: 'extensions = ["foo", "bar"]' etc.
        #  See the Akka Documentation for more info about Extensions
        "extensions" : [],
        # reference.conf: 10
        #  Akka version, checked against the runtime version of Akka.
        "version" : "2.0.4",
        # reference.conf: 30
        #  Log level for the very basic logger activated during AkkaApplication startup
        #  Options: ERROR, WARNING, INFO, DEBUG
        "stdout-loglevel" : "WARNING",
        # reference.conf: 16
        #  Event handlers to register at boot time (Logging$DefaultLogger logs to STDOUT)
        "event-handlers" : [
            # reference.conf: 16
            "akka.event.Logging$DefaultLogger"
        ]
    }
}
[DEBUG] [12/06/2012 00:44:06.319] [RouterSpec-akka.actor.default-dispatcher-2] [akka://RouterSpec/system/testActor2] stopped
[DEBUG] [12/06/2012 00:44:06.320] [RouterSpec-akka.actor.default-dispatcher-2] [akka://RouterSpec/system/testActor3] stopped
[DEBUG] [12/06/2012 00:44:06.323] [RouterSpec-akka.actor.default-dispatcher-2] [akka://RouterSpec/system/testActor4] stopped
[DEBUG] [12/06/2012 00:44:06.323] [RouterSpec-akka.actor.default-dispatcher-2] [akka://RouterSpec/system] stopping
[DEBUG] [12/06/2012 00:44:06.324] [RouterSpec-akka.actor.default-dispatcher-2] [akka://RouterSpec/system] stopped
[DEBUG] [12/06/2012 00:44:06.328] [RouterSpec-akka.actor.default-dispatcher-4] [akka://RouterSpec/] stopped
[INFO] [12/06/2012 00:44:06.367] [pool-4-thread-3] [akka://RepositorySpec/user/Repository] Completed transaction; Repository size = 2
[DEBUG] [12/06/2012 00:44:06.369] [RepositorySpec-akka.actor.default-dispatcher-3] [akka://RepositorySpec/user] now supervising TestActor[akka://RepositorySpec/user/Repository]
[DEBUG] [12/06/2012 00:44:06.369] [pool-4-thread-3] [akka://RepositorySpec/user/Repository] started (com.ergodicity.capture.Repository@2222f2)
[INFO] [12/06/2012 00:44:06.369] [pool-4-thread-3] [akka://RepositorySpec/user/Repository] Begin updating repository
[INFO] [12/06/2012 00:44:06.376] [pool-4-thread-3] [akka://RepositorySpec/user/Repository] Completed transaction; Repository size = 2
[INFO] [12/06/2012 00:44:06.376] [pool-4-thread-3] [akka://RepositorySpec/user/Repository] Begin updating repository
[INFO] [12/06/2012 00:44:06.378] [pool-4-thread-3] [akka://RepositorySpec/user/Repository] Completed transaction; Repository size = 1
[INFO] [12/06/2012 00:44:06.380] [pool-4-thread-3] [akka://RepositorySpec/system/testActor1] Data: Map(3 -> com.ergodicity.cgate.scheme.FutInfo$session@12f6005)
[info] RepositorySpec:
[info] Repository 
[info] - must be initialized in Consistent state
[info] - must receive snapshot immediately in Consistent state
[info] - must clean on LifeNumChanged
[info] - must return snapshot immediatly in consistend state on GetSnapshot
[info] - must return snapshot after returned to consistend state on GetSnapshot
[info] - must handle new data
[DEBUG] [12/06/2012 00:44:06.382] [RepositorySpec-akka.actor.default-dispatcher-2] [akka://RepositorySpec/user/Repository] stopped
[DEBUG] [12/06/2012 00:44:06.388] [RepositorySpec-akka.actor.default-dispatcher-2] [akka://RepositorySpec/user] stopping
[DEBUG] [12/06/2012 00:44:06.389] [RepositorySpec-akka.actor.default-dispatcher-2] [akka://RepositorySpec/user] stopped
[DEBUG] [12/06/2012 00:44:06.389] [RepositorySpec-akka.actor.default-dispatcher-3] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:06.389] [RepositorySpec-akka.actor.default-dispatcher-3] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:06.389] [RepositorySpec-akka.actor.default-dispatcher-3] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:44:06.389] [RepositorySpec-akka.actor.default-dispatcher-4] [akka://RepositorySpec/system/log1-Logging$DefaultLogger] stopped
[DEBUG] [12/06/2012 00:44:06.390] [RepositorySpec-akka.actor.default-dispatcher-3] [akka://RepositorySpec/system/testActor1] stopped
[DEBUG] [12/06/2012 00:44:06.390] [RepositorySpec-akka.actor.default-dispatcher-3] [akka://RepositorySpec/system] stopping
[DEBUG] [12/06/2012 00:44:06.390] [RepositorySpec-akka.actor.default-dispatcher-3] [akka://RepositorySpec/system] stopped
[DEBUG] [12/06/2012 00:44:06.390] [RepositorySpec-akka.actor.default-dispatcher-5] [akka://RepositorySpec/] stopped
[DEBUG] [12/06/2012 00:44:06.394] [pool-4-thread-3] [EventStream(akka://MarketDbCaptureSpec)] logger log1-Logging$DefaultLogger started
[DEBUG] [12/06/2012 00:44:06.395] [pool-4-thread-3] [EventStream(akka://MarketDbCaptureSpec)] Default Loggers started
[INFO] [12/06/2012 00:44:06.396] [pool-4-thread-3] [ActorSystem(MarketDbCaptureSpec)] {
    # system properties
    "os" : {
        # system properties
        "arch" : "x86",
        # system properties
        "name" : "Windows 7",
        # system properties
        "version" : "6.1"
    },
    # system properties
    "awt" : {
        # system properties
        "toolkit" : "sun.awt.windows.WToolkit"
    },
    # system properties
    "file" : {
        # system properties
        "encoding" : {
            # system properties
            "pkg" : "sun.io"
        },
        # system properties
        "separator" : "\\"
    },
    # system properties
    "path" : {
        # system properties
        "separator" : ";"
    },
    # application.conf: 1
    "capture" : {
        # application.conf: 2
        "dispatchers" : {
            # application.conf: 3
            "replicationDispatcher" : {
                # application.conf: 9
                #  Single Threaded Executor
                "thread-pool-executor" : {
                    # application.conf: 12
                    "max-pool-size-min" : 1,
                    # application.conf: 13
                    "max-pool-size-max" : 1,
                    # application.conf: 11
                    "core-pool-size-max" : 1,
                    # application.conf: 10
                    "core-pool-size-min" : 1
                },
                # application.conf: 6
                "executor" : "thread-pool-executor",
                # application.conf: 4
                "type" : "Dispatcher",
                # application.conf: 16
                "throughput" : 1
            }
        }
    },
    # system properties
    "line" : {
        # system properties
        "separator" : "\r\n"
    },
    # system properties
    "java" : {
        # system properties
        "vm" : {
            # system properties
            "vendor" : "Oracle Corporation",
            # system properties
            "name" : "Java HotSpot(TM) Client VM",
            # system properties
            "specification" : {
                # system properties
                "vendor" : "Oracle Corporation",
                # system properties
                "name" : "Java Virtual Machine Specification",
                # system properties
                "version" : "1.7"
            },
            # system properties
            "version" : "23.1-b03",
            # system properties
            "info" : "mixed mode"
        },
        # system properties
        "home" : "C:\\Program Files (x86)\\Java\\jre7",
        # system properties
        "awt" : {
            # system properties
            "graphicsenv" : "sun.awt.Win32GraphicsEnvironment",
            # system properties
            "printerjob" : "sun.awt.windows.WPrinterJob"
        },
        # system properties
        "vendor" : {
            # system properties
            "url" : {
                # system properties
                "bug" : "http://bugreport.sun.com/bugreport/"
            }
        },
        # system properties
        "endorsed" : {
            # system properties
            "dirs" : "C:\\Program Files (x86)\\Java\\jre7\\lib\\endorsed"
        },
        # system properties
        "library" : {
            # system properties
            "path" : "C:\\Windows\\SysWOW64;C:\\Windows\\Sun\\Java\\bin;C:\\Windows\\system32;C:\\Windows;C:\\cygwin\\usr\\local\\bin;C:\\cygwin\\bin;C:\\Program Files (x86)\\AMD APP\\bin\\x86_64;C:\\Program Files (x86)\\AMD APP\\bin\\x86;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0;C:\\Program Files (x86)\\ATI Technologies\\ATI.ACE\\Core-Static;C:\\Program Files\\Java\\jdk1.7.0_05\\bin;C:\\zmq;C:\\jacob;C:\\P2CGate64\\p2bin;D:\\opt\\apache-ant-1.8.4\\bin;C:\\cygwin\\lib\\lapack;."
        },
        # system properties
        "specification" : {
            # system properties
            "vendor" : "Oracle Corporation",
            # system properties
            "name" : "Java Platform API Specification",
            # system properties
            "version" : "1.7"
        },
        # system properties
        "class" : {
            # system properties
            "path" : "D:\\opt\\sbt\\sbt-launch.jar",
            # system properties
            "version" : "51.0"
        },
        # system properties
        "runtime" : {
            # system properties
            "name" : "Java(TM) SE Runtime Environment",
            # system properties
            "version" : "1.7.0_05-b05"
        },
        # system properties
        "ext" : {
            # system properties
            "dirs" : "C:\\Program Files (x86)\\Java\\jre7\\lib\\ext;C:\\Windows\\Sun\\Java\\lib\\ext"
        },
        # system properties
        "io" : {
            # system properties
            "tmpdir" : "C:\\cygwin\\tmp\\"
        },
        # system properties
        "version" : "1.7.0_05"
    },
    # system properties
    "user" : {
        # system properties
        "home" : "C:\\Users\\zheka",
        # system properties
        "timezone" : "Europe/Moscow",
        # system properties
        "dir" : "D:\\projects\\ergodicity",
        # system properties
        "name" : "zheka",
        # system properties
        "language" : "ru",
        # system properties
        "script" : "",
        # system properties
        "variant" : "",
        # system properties
        "country" : "RU"
    },
    # system properties
    "sun" : {
        # system properties
        "os" : {
            # system properties
            "patch" : {
                # system properties
                "level" : "Service Pack 1"
            }
        },
        # system properties
        "boot" : {
            # system properties
            "library" : {
                # system properties
                "path" : "C:\\Program Files (x86)\\Java\\jre7\\bin"
            },
            # system properties
            "class" : {
                # system properties
                "path" : "C:\\Program Files (x86)\\Java\\jre7\\lib\\resources.jar;C:\\Program Files (x86)\\Java\\jre7\\lib\\rt.jar;C:\\Program Files (x86)\\Java\\jre7\\lib\\sunrsasign.jar;C:\\Program Files (x86)\\Java\\jre7\\lib\\jsse.jar;C:\\Program Files (x86)\\Java\\jre7\\lib\\jce.jar;C:\\Program Files (x86)\\Java\\jre7\\lib\\charsets.jar;C:\\Program Files (x86)\\Java\\jre7\\lib\\jfr.jar;C:\\Program Files (x86)\\Java\\jre7\\classes"
            }
        },
        # system properties
        "arch" : {
            # system properties
            "data" : {
                # system properties
                "model" : "32"
            }
        },
        # system properties
        "jnu" : {
            # system properties
            "encoding" : "Cp1251"
        },
        # system properties
        "cpu" : {
            # system properties
            "endian" : "little",
            # system properties
            "isalist" : ""
        },
        # system properties
        "desktop" : "windows",
        # system properties
        "java" : {
            # system properties
            "launcher" : "SUN_STANDARD",
            # system properties
            "command" : "D:\\opt\\sbt\\sbt-launch.jar test\r"
        },
        # system properties
        "management" : {
            # system properties
            "compiler" : "HotSpot Client Compiler"
        },
        # system properties
        "io" : {
            # system properties
            "unicode" : {
                # system properties
                "encoding" : "UnicodeLittle"
            }
        }
    },
    # merge of application.conf: 22,reference.conf: 8
    "akka" : {
        # reference.conf: 13
        #  Home directory of Akka, modules in the deploy directory will be loaded
        "home" : "",
        # application.conf: 23
        "loglevel" : "DEBUG",
        # reference.conf: 42
        #  Toggles whether the threads created by this ActorSystem should be daemons or not
        "daemonic" : "off",
        # application.conf: 25
        "log-config-on-start" : "on",
        # reference.conf: 304
        #  Used to set the behavior of the scheduler.
        #  Changing the default values may change the system behavior drastically so make sure
        #  you know what you're doing! See the Scheduler section of the Akka documentation for more details.
        "scheduler" : {
            # reference.conf: 314
            "ticks-per-wheel" : 512,
            # reference.conf: 313
            #  The HashedWheelTimer (HWT) implementation from Netty is used as the default scheduler
            #  in the system.
            #  HWT does not execute the scheduled tasks on exact time.
            #  It will, on every tick, check if there are any tasks behind the schedule and execute them.
            #  You can increase or decrease the accuracy of the execution timing by specifying smaller
            #  or larger tick duration.
            #  If you are scheduling a lot of tasks you should consider increasing the ticks per wheel.
            #  For more information see: http://www.jboss.org/netty/
            "tick-duration" : "100ms"
        },
        # reference.conf: 9
        "test" : {
            # reference.conf: 19
            #  duration to wait in expectMsg and friends outside of within() block by default
            "single-expect-default" : "3s",
            # reference.conf: 22
            #  The timeout that is added as an implicit by DefaultTimeout trait
            "default-timeout" : "5s",
            # reference.conf: 24
            "calling-thread-dispatcher" : {
                # reference.conf: 25
                "type" : "akka.testkit.CallingThreadDispatcherConfigurator"
            },
            # reference.conf: 16
            #  duration of EventFilter.intercept waits after the block is finished until
            #  all required messages are received
            "filter-leeway" : "3s",
            # reference.conf: 12
            #  factor by which to scale timeouts during tests, e.g. to account for shared
            #  build system load
            "timefactor" : 1
        },
        # reference.conf: 21
        #  Event handlers are created and registered synchronously during ActorSystem
        #  start-up, and since they are actors, this timeout is used to bound the
        #  waiting time
        "event-handler-startup-timeout" : "5s",
        # merge of application.conf: 27,reference.conf: 47
        "actor" : {
            # reference.conf: 296
            #  Class to Serializer binding. You only need to specify the name of an interface
            #  or abstract base class of the messages. In case of ambiguity it is using the
            #  most specific configured class, or giving a warning and choosing the УfirstФ one.
            # 
            #  To disable one of the default serializers, assign its class to "none", like
            #  "java.io.Serializable" = none
            "serialization-bindings" : {
                # reference.conf: 297
                "java.io.Serializable" : "java"
            },
            # reference.conf: 286
            #  Entries for pluggable serializers and their bindings.
            "serializers" : {
                # reference.conf: 287
                "java" : "akka.serialization.JavaSerializer"
            },
            # reference.conf: 52
            #  Timeout for ActorSystem.actorOf
            "creation-timeout" : "20s",
            # reference.conf: 64
            #  Serializes and deserializes creators (in Props) to ensure that they can be sent over the network,
            #  this is only intended for testing.
            "serialize-creators" : "off",
            # reference.conf: 160
            "default-dispatcher" : {
                # reference.conf: 263
                #  For Actor with Stash: The default capacity of the stash.
                #  If negative (or zero) then an unbounded stash is used (default)
                #  If positive then a bounded stash is used and the capacity is set using the
                #  property
                "stash-capacity" : -1,
                # reference.conf: 252
                #  FQCN of the MailboxType, if not specified the default bounded or unbounded
                #  mailbox is used. The Class of the FQCN must have a constructor with
                #  (akka.actor.ActorSystem.Settings, com.typesafe.config.Config) parameters.
                "mailbox-type" : "",
                # reference.conf: 191
                #  This will be used if you have set "executor = "thread-pool-executor""
                "thread-pool-executor" : {
                    # reference.conf: 215
                    #  Specifies the bounded capacity of the task queue (< 1 == unbounded)
                    "task-queue-size" : -1,
                    # reference.conf: 193
                    #  Keep alive time for threads
                    "keep-alive-time" : "60s",
                    # reference.conf: 206
                    #  Hint: max-pool-size is only used for bounded task queues
                    #  minimum number of threads to cap factor-based max number to
                    "max-pool-size-min" : 8,
                    # reference.conf: 212
                    #  Max number of threads to cap factor-based max number to
                    "max-pool-size-max" : 64,
                    # reference.conf: 199
                    #  No of core threads ... ceil(available processors * factor)
                    "core-pool-size-factor" : 3,
                    # reference.conf: 202
                    #  Max number of threads to cap factor-based number to
                    "core-pool-size-max" : 64,
                    # reference.conf: 209
                    #  Max no of threads ... ceil(available processors * factor)
                    "max-pool-size-factor" : 3,
                    # reference.conf: 196
                    #  Min number of threads to cap factor-based core number to
                    "core-pool-size-min" : 8,
                    # reference.conf: 222
                    #  Allow core threads to time out
                    "allow-core-timeout" : "on",
                    # reference.conf: 219
                    #  Specifies which type of task queue will be used, can be "array" or
                    #  "linked" (default)
                    "task-queue-type" : "linked"
                },
                # reference.conf: 257
                #  For BalancingDispatcher: If the balancing dispatcher should attempt to
                #  schedule idle actors using the same dispatcher when a message comes in,
                #  and the dispatchers ExecutorService is not fully busy already.
                "attempt-teamwork" : "on",
                # reference.conf: 179
                #  This will be used if you have set "executor = "fork-join-executor""
                "fork-join-executor" : {
                    # reference.conf: 184
                    #  Parallelism (threads) ... ceil(available processors * factor)
                    "parallelism-factor" : 3,
                    # reference.conf: 181
                    #  Min number of threads to cap factor-based parallelism number to
                    "parallelism-min" : 8,
                    # reference.conf: 187
                    #  Max number of threads to cap factor-based parallelism number to
                    "parallelism-max" : 64
                },
                # reference.conf: 233
                #  Throughput deadline for Dispatcher, set to 0 or negative for no deadline
                "throughput-deadline-time" : "0ms",
                # reference.conf: 247
                #  Specifies the timeout to add a new message to a mailbox that is full -
                #  negative number means infinite timeout. It is only used for type=Dispatcher
                #  and only if mailbox-capacity > 0
                "mailbox-push-timeout-time" : "10s",
                # reference.conf: 242
                #  If negative (or zero) then an unbounded mailbox is used (default)
                #  If positive then a bounded mailbox is used and the capacity is set using the
                #  property
                #  NOTE: setting a mailbox to 'blocking' can be a bit dangerous, could lead to
                #  deadlock, use with care
                #  The following mailbox-push-timeout-time is only used for type=Dispatcher and
                #  only if mailbox-capacity > 0
                "mailbox-capacity" : -1,
                # reference.conf: 176
                #  Which kind of ExecutorService to use for this dispatcher
                #  Valid options:
                #                "fork-join-executor" requires a "fork-join-executor" section
                #                "thread-pool-executor" requires a "thread-pool-executor" section
                #                or
                #                A FQCN of a class extending ExecutorServiceConfigurator
                "executor" : "fork-join-executor",
                # reference.conf: 226
                #  How long time the dispatcher will wait for new actors until it shuts down
                "shutdown-timeout" : "1s",
                # reference.conf: 168
                #  Must be one of the following
                #  Dispatcher, (BalancingDispatcher, only valid when all actors using it are of
                #  the same type), PinnedDispatcher, or a FQCN to a class inheriting
                #  MessageDispatcherConfigurator with a constructor with
                #  com.typesafe.config.Config parameter and akka.dispatch.DispatcherPrerequisites
                #  parameters.
                #  PinnedDispatcher must be used toghether with executor=thread-pool-executor.
                "type" : "Dispatcher",
                # reference.conf: 230
                #  Throughput defines the number of messages that are processed in a batch
                #  before the thread is returned to the pool. Set to 1 for as fair as possible.
                "throughput" : 5
            },
            # reference.conf: 71
            "deployment" : {
                # reference.conf: 74
                #  deployment id pattern - on the format: /parent/child etc.
                "default" : {
                    # reference.conf: 109
                    #  Routers with dynamically resizable number of routees; this feature is enabled
                    #  by including (parts of) this section in the deployment
                    "resizer" : {
                        # reference.conf: 131
                        #  Percentage to increase capacity whenever all routees are busy.
                        #  For example, 0.2 would increase 20% (rounded up), i.e. if current
                        #  capacity is 6 it will request an increase of 2 more routees.
                        "rampup-rate" : 0.2,
                        # reference.conf: 151
                        #  When the resizer reduce the capacity the abandoned routee actors are stopped
                        #  with PoisonPill after this delay. The reason for the delay is to give concurrent
                        #  messages a chance to be placed in mailbox before sending PoisonPill.
                        #  Use 0s to skip delay.
                        "stop-delay" : "1s",
                        # reference.conf: 116
                        #  The most number of routees the router should ever have.
                        #  Must be greater than or equal to lower-bound.
                        "upper-bound" : 10,
                        # reference.conf: 155
                        #  Number of messages between resize operation.
                        #  Use 1 to resize before each message.
                        "messages-per-resize" : 10,
                        # reference.conf: 139
                        #  Minimum fraction of busy routees before backing off.
                        #  For example, if this is 0.3, then we'll remove some routees only when
                        #  less than 30% of routees are busy, i.e. if current capacity is 10 and
                        #  3 are busy then the capacity is unchanged, but if 2 or less are busy
                        #  the capacity is decreased.
                        #  Use 0.0 or negative to avoid removal of routees.
                        "backoff-threshold" : 0.3,
                        # reference.conf: 145
                        #  Fraction of routees to be removed when the resizer reaches the
                        #  backoffThreshold.
                        #  For example, 0.1 would decrease 10% (rounded up), i.e. if current
                        #  capacity is 9 it will request an decrease of 1 routee.
                        "backoff-rate" : 0.1,
                        # reference.conf: 112
                        #  The fewest number of routees the router should ever have.
                        "lower-bound" : 1,
                        # reference.conf: 126
                        #  Threshold to evaluate if routee is considered to be busy (under pressure).
                        #  Implementation depends on this value (default is 1).
                        #  0:   number of routees currently processing a message.
                        #  1:   number of routees currently processing a message has
                        #       some messages in mailbox.
                        #  > 1: number of routees with at least the configured pressure-threshold
                        #       messages in their mailbox. Note that estimating mailbox size of
                        #       default UnboundedMailbox is O(N) operation.
                        "pressure-threshold" : 1
                    },
                    # reference.conf: 95
                    #  number of children to create in case of a non-direct router; this setting
                    #  is ignored if routees.paths is given
                    "nr-of-instances" : 1,
                    # reference.conf: 91
                    #  routing (load-balance) scheme to use
                    #      available: "from-code", "round-robin", "random", "smallest-mailbox", "scatter-gather", "broadcast"
                    #      or:        Fully qualified class name of the router class.
                    #                 The router class must extend akka.routing.CustomRouterConfig and and have constructor
                    #                 with com.typesafe.config.Config parameter.
                    #      default is "from-code";
                    #  Whether or not an actor is transformed to a Router is decided in code only (Props.withRouter).
                    #  The type of router can be overridden in the configuration; specifying "from-code" means
                    #  that the values specified in the code shall be used.
                    #  In case of routing, the actors to be routed to can be specified
                    #  in several ways:
                    #  - nr-of-instances: will create that many children
                    #  - routees.paths: will look the paths up using actorFor and route to
                    #    them, i.e. will not create children
                    #  - resizer: dynamically resizable number of routees as specified in resizer below
                    "router" : "from-code",
                    # reference.conf: 98
                    #  within is the timeout used for routers containing future calls
                    "within" : "5 seconds",
                    # reference.conf: 100
                    "routees" : {
                        # reference.conf: 104
                        #  Alternatively to giving nr-of-instances you can specify the full
                        #  paths of those actors which should be routed to. This setting takes
                        #  precedence over nr-of-instances
                        "paths" : []
                    }
                }
            },
            # reference.conf: 49
            "provider" : "akka.actor.LocalActorRefProvider",
            # merge of application.conf: 28,reference.conf: 266
            "debug" : {
                # reference.conf: 282
                #  enable DEBUG logging of subscription changes on the eventStream
                "event-stream" : "off",
                # reference.conf: 273
                #  enable DEBUG logging of all AutoReceiveMessages (Kill, PoisonPill and the like)
                "autoreceive" : "off",
                # application.conf: 30
                "lifecycle" : "on",
                # reference.conf: 279
                #  enable DEBUG logging of all LoggingFSMs for events, transitions and timers
                "fsm" : "off",
                # application.conf: 29
                "receive" : "on"
            },
            # reference.conf: 66
            "typed" : {
                # reference.conf: 68
                #  Default timeout for typed actor methods with non-void return type
                "timeout" : "5s"
            },
            # reference.conf: 56
            #  frequency with which stopping actors are prodded in case they had to be
            #  removed from their parents
            "reaper-interval" : "5s",
            # reference.conf: 60
            #  Serializes and deserializes (non-primitive) messages to ensure immutability,
            #  this is only intended for testing.
            "serialize-messages" : "off"
        },
        # reference.conf: 45
        #  JVM shutdown, System.exit(-1), in case of a fatal error, such as OutOfMemoryError
        "jvm-exit-on-fatal-error" : "on",
        # reference.conf: 39
        #  List FQCN of extensions which shall be loaded at actor system startup.
        #  Should be on the format: 'extensions = ["foo", "bar"]' etc.
        #  See the Akka Documentation for more info about Extensions
        "extensions" : [],
        # reference.conf: 10
        #  Akka version, checked against the runtime version of Akka.
        "version" : "2.0.4",
        # reference.conf: 30
        #  Log level for the very basic logger activated during AkkaApplication startup
        #  Options: ERROR, WARNING, INFO, DEBUG
        "stdout-loglevel" : "WARNING",
        # reference.conf: 16
        #  Event handlers to register at boot time (Logging$DefaultLogger logs to STDOUT)
        "event-handlers" : [
            # reference.conf: 16
            "akka.event.Logging$DefaultLogger"
        ]
    }
}
[DEBUG] [12/06/2012 00:44:06.423] [MarketDbBuncherSpec-akka.actor.default-dispatcher-2] [akka://MarketDbBuncherSpec/user] now supervising TestActor[akka://MarketDbBuncherSpec/user/$$a]
[DEBUG] [12/06/2012 00:44:06.778] [pool-4-thread-1] [akka://MarketDbBuncherSpec/user/$$a] started (com.ergodicity.capture.TradesBuncher@7b473)
[DEBUG] [12/06/2012 00:44:06.780] [MarketDbBuncherSpec-akka.actor.default-dispatcher-1] [akka://MarketDbBuncherSpec/user] now supervising TestActor[akka://MarketDbBuncherSpec/user/$$b]
[DEBUG] [12/06/2012 00:44:06.780] [pool-4-thread-1] [akka://MarketDbBuncherSpec/user/$$b] started (com.ergodicity.capture.TradesBuncher@1757fee)
[DEBUG] [12/06/2012 00:44:06.785] [MarketDbBuncherSpec-akka.actor.default-dispatcher-2] [akka://MarketDbBuncherSpec/system/testActor5] started (akka.testkit.TestActor@8a6d0b)
[DEBUG] [12/06/2012 00:44:06.785] [MarketDbBuncherSpec-akka.actor.default-dispatcher-2] [akka://MarketDbBuncherSpec/system] now supervising Actor[akka://MarketDbBuncherSpec/system/testActor5]
[DEBUG] [12/06/2012 00:44:06.791] [pool-4-thread-1] [akka://MarketDbBuncherSpec/user/$$c] started (com.ergodicity.capture.TradesBuncher@f7c930)
[DEBUG] [12/06/2012 00:44:06.791] [MarketDbBuncherSpec-akka.actor.default-dispatcher-3] [akka://MarketDbBuncherSpec/user] now supervising TestActor[akka://MarketDbBuncherSpec/user/$$c]
[INFO] [12/06/2012 00:44:06.792] [pool-4-thread-1] [akka://MarketDbBuncherSpec/user/$$c] Flush market payloads: 1
[DEBUG] [12/06/2012 00:44:06.793] [MarketDbCaptureSpec-akka.actor.default-dispatcher-2] [akka://MarketDbCaptureSpec/user] now supervising TestActor[akka://MarketDbCaptureSpec/user/MarketDbCapture]
[DEBUG] [12/06/2012 00:44:06.805] [MarketDbCaptureSpec-akka.actor.default-dispatcher-1] [akka://MarketDbCaptureSpec/user/MarketDbCapture/KestrelBuncher] started (com.ergodicity.capture.OrdersBuncher@a83fa)
[DEBUG] [12/06/2012 00:44:06.809] [pool-4-thread-3] [akka://MarketDbCaptureSpec/user/MarketDbCapture] started (com.ergodicity.capture.MarketDbCapture@4411ef)
[DEBUG] [12/06/2012 00:44:06.809] [pool-4-thread-3] [akka://MarketDbCaptureSpec/user/MarketDbCapture] now supervising Actor[akka://MarketDbCaptureSpec/user/MarketDbCapture/KestrelBuncher]
[DEBUG] [12/06/2012 00:44:06.809] [pool-4-thread-3] [akka://MarketDbCaptureSpec/user/MarketDbCapture] now monitoring Actor[akka://MarketDbCaptureSpec/user/MarketDbCapture/KestrelBuncher]
[DEBUG] [12/06/2012 00:44:06.811] [MarketDbCaptureSpec-akka.actor.default-dispatcher-2] [akka://MarketDbCaptureSpec/system/testActor6] started (akka.testkit.TestActor@393ea3)
[DEBUG] [12/06/2012 00:44:06.811] [MarketDbCaptureSpec-akka.actor.default-dispatcher-2] [akka://MarketDbCaptureSpec/system] now supervising Actor[akka://MarketDbCaptureSpec/system/testActor6]
[DEBUG] [12/06/2012 00:44:06.811] [pool-4-thread-3] [akka://MarketDbCaptureSpec/user/MarketDbCapture] Begin data
[DEBUG] [12/06/2012 00:44:07.28] [pool-4-thread-3] [akka://MarketDbCaptureSpec/user/MarketDbCapture] End data
[INFO] [12/06/2012 00:44:07.29] [MarketDbCaptureSpec-akka.actor.default-dispatcher-1] [akka://MarketDbCaptureSpec/user/MarketDbCapture/KestrelBuncher] Flush market payloads: 1
[info] MarketDbBuncherSpec:
[info] TradesBuncher 
[info] - must be initialized in Idle state
[info] - must accumulate trades revisions
[info] - must flush table revisions on request
[DEBUG] [12/06/2012 00:44:07.233] [MarketDbBuncherSpec-akka.actor.default-dispatcher-3] [akka://MarketDbBuncherSpec/user/$$a] stopped
[DEBUG] [12/06/2012 00:44:07.234] [MarketDbBuncherSpec-akka.actor.default-dispatcher-3] [akka://MarketDbBuncherSpec/user/$$b] stopped
[DEBUG] [12/06/2012 00:44:07.235] [MarketDbBuncherSpec-akka.actor.default-dispatcher-3] [akka://MarketDbBuncherSpec/user/$$c] stopped
[DEBUG] [12/06/2012 00:44:07.235] [MarketDbBuncherSpec-akka.actor.default-dispatcher-3] [akka://MarketDbBuncherSpec/user] stopping
[DEBUG] [12/06/2012 00:44:07.236] [MarketDbBuncherSpec-akka.actor.default-dispatcher-3] [akka://MarketDbBuncherSpec/user] stopped
[DEBUG] [12/06/2012 00:44:07.237] [MarketDbBuncherSpec-akka.actor.default-dispatcher-1] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:07.237] [MarketDbBuncherSpec-akka.actor.default-dispatcher-1] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:07.237] [MarketDbBuncherSpec-akka.actor.default-dispatcher-1] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:44:07.238] [MarketDbBuncherSpec-akka.actor.default-dispatcher-2] [akka://MarketDbBuncherSpec/system/log1-Logging$DefaultLogger] stopped
[DEBUG] [12/06/2012 00:44:07.239] [MarketDbBuncherSpec-akka.actor.default-dispatcher-1] [akka://MarketDbBuncherSpec/system/testActor5] stopped
[DEBUG] [12/06/2012 00:44:07.240] [MarketDbBuncherSpec-akka.actor.default-dispatcher-1] [akka://MarketDbBuncherSpec/system] stopping
[DEBUG] [12/06/2012 00:44:07.240] [MarketDbBuncherSpec-akka.actor.default-dispatcher-1] [akka://MarketDbBuncherSpec/system] stopped
[DEBUG] [12/06/2012 00:44:07.241] [MarketDbBuncherSpec-akka.actor.default-dispatcher-4] [akka://MarketDbBuncherSpec/] stopped
[info] MarketDbCaptureSpec:
[info] MarketDbCapture 
[info] - must flush market events on TnCommit
[DEBUG] [12/06/2012 00:44:07.330] [MarketDbCaptureSpec-akka.actor.default-dispatcher-1] [akka://MarketDbCaptureSpec/user/MarketDbCapture] stopping
[DEBUG] [12/06/2012 00:44:07.330] [MarketDbCaptureSpec-akka.actor.default-dispatcher-1] [akka://MarketDbCaptureSpec/user] stopping
[DEBUG] [12/06/2012 00:44:07.331] [MarketDbCaptureSpec-akka.actor.default-dispatcher-2] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:07.331] [MarketDbCaptureSpec-akka.actor.default-dispatcher-2] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:44:07.331] [MarketDbCaptureSpec-akka.actor.default-dispatcher-3] [akka://MarketDbCaptureSpec/user/MarketDbCapture] stopped
[DEBUG] [12/06/2012 00:44:07.331] [MarketDbCaptureSpec-akka.actor.default-dispatcher-1] [akka://MarketDbCaptureSpec/user] stopped
[DEBUG] [12/06/2012 00:44:07.332] [MarketDbCaptureSpec-akka.actor.default-dispatcher-3] [akka://MarketDbCaptureSpec/user/MarketDbCapture/KestrelBuncher] stopped
[DEBUG] [12/06/2012 00:44:07.332] [MarketDbCaptureSpec-akka.actor.default-dispatcher-2] [akka://MarketDbCaptureSpec/system/testActor6] stopped
[DEBUG] [12/06/2012 00:44:07.332] [MarketDbCaptureSpec-akka.actor.default-dispatcher-2] [akka://MarketDbCaptureSpec/system] stopping
[DEBUG] [12/06/2012 00:44:07.332] [MarketDbCaptureSpec-akka.actor.default-dispatcher-4] [akka://MarketDbCaptureSpec/system/log1-Logging$DefaultLogger] stopped
[DEBUG] [12/06/2012 00:44:07.332] [MarketDbCaptureSpec-akka.actor.default-dispatcher-2] [akka://MarketDbCaptureSpec/system] stopped
[DEBUG] [12/06/2012 00:44:07.333] [MarketDbCaptureSpec-akka.actor.default-dispatcher-3] [akka://MarketDbCaptureSpec/] stopped
[DEBUG] [12/06/2012 00:44:07.374] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-1] [akka://MarketContentsCaptureSpec/user] now supervising TestActor[akka://MarketContentsCaptureSpec/user/FutInfoStream]
[DEBUG] [12/06/2012 00:44:07.390] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/FutInfoStream] started (com.ergodicity.cgate.DataStream@aefc7)
[DEBUG] [12/06/2012 00:44:07.390] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-3] [akka://MarketContentsCaptureSpec/user] now supervising TestActor[akka://MarketContentsCaptureSpec/user/OptInfoStream]
[DEBUG] [12/06/2012 00:44:07.391] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/OptInfoStream] started (com.ergodicity.cgate.DataStream@8ca9bc)
[DEBUG] [12/06/2012 00:44:07.391] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-1] [akka://MarketContentsCaptureSpec/user] now supervising TestActor[akka://MarketContentsCaptureSpec/user/MarketContentsCapture]
[DEBUG] [12/06/2012 00:44:07.395] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-1] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture/SessionsRepository] started (com.ergodicity.capture.Repository@1758a21)
[DEBUG] [12/06/2012 00:44:07.395] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-3] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture/FutSessContentsRepository] started (com.ergodicity.capture.Repository@7d0c3f)
[DEBUG] [12/06/2012 00:44:07.396] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-2] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture/OptSessContentsRepository] started (com.ergodicity.capture.Repository@131f247)
[DEBUG] [12/06/2012 00:44:07.403] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-4] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture/$c] started (com.ergodicity.capture.Router@1fe4d61)
[DEBUG] [12/06/2012 00:44:07.403] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-6] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture/$b] started (com.ergodicity.capture.Router@8a496f)
[DEBUG] [12/06/2012 00:44:07.403] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-5] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture/$a] started (com.ergodicity.capture.Router@db3a97)
[DEBUG] [12/06/2012 00:44:07.409] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture] started (com.ergodicity.capture.MarketContentsCapture@6cec97)
[DEBUG] [12/06/2012 00:44:07.409] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture] now supervising Actor[akka://MarketContentsCaptureSpec/user/MarketContentsCapture/SessionsRepository]
[DEBUG] [12/06/2012 00:44:07.409] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture] now supervising Actor[akka://MarketContentsCaptureSpec/user/MarketContentsCapture/FutSessContentsRepository]
[DEBUG] [12/06/2012 00:44:07.409] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture] now supervising Actor[akka://MarketContentsCaptureSpec/user/MarketContentsCapture/OptSessContentsRepository]
[DEBUG] [12/06/2012 00:44:07.409] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture] now supervising Actor[akka://MarketContentsCaptureSpec/user/MarketContentsCapture/$a]
[DEBUG] [12/06/2012 00:44:07.409] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture] now supervising Actor[akka://MarketContentsCaptureSpec/user/MarketContentsCapture/$b]
[DEBUG] [12/06/2012 00:44:07.409] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture] now supervising Actor[akka://MarketContentsCaptureSpec/user/MarketContentsCapture/$c]
[DEBUG] [12/06/2012 00:44:07.438] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-6] [akka://MarketContentsCaptureSpec/system/testActor7] started (akka.testkit.TestActor@1d091d4)
[DEBUG] [12/06/2012 00:44:07.438] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-6] [akka://MarketContentsCaptureSpec/system] now supervising Actor[akka://MarketContentsCaptureSpec/system/testActor7]
[DEBUG] [12/06/2012 00:44:07.975] [pool-4-thread-3] [EventStream(akka://PositionManagerSpec)] logger log1-TestEventListener started
[DEBUG] [12/06/2012 00:44:07.975] [pool-4-thread-3] [EventStream(akka://PositionManagerSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:44:07.975] [pool-4-thread-1] [EventStream(akka://StrategyEngineActorSpec)] logger log1-TestEventListener started
[DEBUG] [12/06/2012 00:44:07.976] [pool-4-thread-1] [EventStream(akka://StrategyEngineActorSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:44:07.989] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-2] [akka://MarketContentsCaptureSpec/user] now supervising TestActor[akka://MarketContentsCaptureSpec/user/FutInfoStream]
[DEBUG] [12/06/2012 00:44:07.989] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/FutInfoStream] started (com.ergodicity.cgate.DataStream@1955471)
[DEBUG] [12/06/2012 00:44:07.990] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-2] [akka://MarketContentsCaptureSpec/user] now supervising TestActor[akka://MarketContentsCaptureSpec/user/OptInfoStream]
[DEBUG] [12/06/2012 00:44:07.990] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/OptInfoStream] started (com.ergodicity.cgate.DataStream@38dc8e)
[DEBUG] [12/06/2012 00:44:07.991] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-2] [akka://MarketContentsCaptureSpec/user] now supervising TestActor[akka://MarketContentsCaptureSpec/user/MarketContentsCapture]
[DEBUG] [12/06/2012 00:44:07.992] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-4] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture/SessionsRepository] started (com.ergodicity.capture.Repository@1b1934d)
[DEBUG] [12/06/2012 00:44:07.992] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-5] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture/FutSessContentsRepository] started (com.ergodicity.capture.Repository@13da82d)
[DEBUG] [12/06/2012 00:44:07.993] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture] started (com.ergodicity.capture.MarketContentsCapture@1021f36)
[DEBUG] [12/06/2012 00:44:07.993] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture] now supervising Actor[akka://MarketContentsCaptureSpec/user/MarketContentsCapture/SessionsRepository]
[DEBUG] [12/06/2012 00:44:07.994] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture] now supervising Actor[akka://MarketContentsCaptureSpec/user/MarketContentsCapture/FutSessContentsRepository]
[DEBUG] [12/06/2012 00:44:07.994] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture] now supervising Actor[akka://MarketContentsCaptureSpec/user/MarketContentsCapture/OptSessContentsRepository]
[DEBUG] [12/06/2012 00:44:07.994] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture] now supervising Actor[akka://MarketContentsCaptureSpec/user/MarketContentsCapture/$a]
[DEBUG] [12/06/2012 00:44:07.994] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-2] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture/OptSessContentsRepository] started (com.ergodicity.capture.Repository@4f2b5d)
[DEBUG] [12/06/2012 00:44:07.994] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture] now supervising Actor[akka://MarketContentsCaptureSpec/user/MarketContentsCapture/$b]
[DEBUG] [12/06/2012 00:44:07.994] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture] now supervising Actor[akka://MarketContentsCaptureSpec/user/MarketContentsCapture/$c]
[DEBUG] [12/06/2012 00:44:07.994] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-6] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture/$b] started (com.ergodicity.capture.Router@177eea9)
[DEBUG] [12/06/2012 00:44:07.994] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-7] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture/$a] started (com.ergodicity.capture.Router@13a0ecc)
[DEBUG] [12/06/2012 00:44:07.994] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-1] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture/$c] started (com.ergodicity.capture.Router@a1ae2d)
00:44:08.039 [pool-4-thread-4] INFO  c.e.capture.MarketDbRepositorySpec - Session = Some(Session(sess_id=100, opt_sess_id=100))
[DEBUG] [12/06/2012 00:44:08.358] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/FutInfoStream] started (com.ergodicity.cgate.DataStream@1ff4ab2)
[DEBUG] [12/06/2012 00:44:08.358] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-4] [akka://MarketContentsCaptureSpec/user] now supervising TestActor[akka://MarketContentsCaptureSpec/user/FutInfoStream]
[DEBUG] [12/06/2012 00:44:08.360] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/OptInfoStream] started (com.ergodicity.cgate.DataStream@1bbed9c)
[DEBUG] [12/06/2012 00:44:08.361] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture] started (com.ergodicity.capture.MarketContentsCapture@8f34d5)
[DEBUG] [12/06/2012 00:44:08.362] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture] now supervising Actor[akka://MarketContentsCaptureSpec/user/MarketContentsCapture/SessionsRepository]
[DEBUG] [12/06/2012 00:44:08.362] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture] now supervising Actor[akka://MarketContentsCaptureSpec/user/MarketContentsCapture/FutSessContentsRepository]
[DEBUG] [12/06/2012 00:44:08.362] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture] now supervising Actor[akka://MarketContentsCaptureSpec/user/MarketContentsCapture/OptSessContentsRepository]
[DEBUG] [12/06/2012 00:44:08.362] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture] now supervising Actor[akka://MarketContentsCaptureSpec/user/MarketContentsCapture/$a]
[DEBUG] [12/06/2012 00:44:08.362] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-4] [akka://MarketContentsCaptureSpec/user] now supervising TestActor[akka://MarketContentsCaptureSpec/user/OptInfoStream]
[DEBUG] [12/06/2012 00:44:08.362] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-4] [akka://MarketContentsCaptureSpec/user] now supervising TestActor[akka://MarketContentsCaptureSpec/user/MarketContentsCapture]
[DEBUG] [12/06/2012 00:44:08.362] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture] now supervising Actor[akka://MarketContentsCaptureSpec/user/MarketContentsCapture/$b]
[DEBUG] [12/06/2012 00:44:08.362] [pool-4-thread-2] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture] now supervising Actor[akka://MarketContentsCaptureSpec/user/MarketContentsCapture/$c]
[DEBUG] [12/06/2012 00:44:08.362] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-9] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture/SessionsRepository] started (com.ergodicity.capture.Repository@155e818)
[DEBUG] [12/06/2012 00:44:08.362] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-3] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture/FutSessContentsRepository] started (com.ergodicity.capture.Repository@1f4da43)
[DEBUG] [12/06/2012 00:44:08.362] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-6] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture/OptSessContentsRepository] started (com.ergodicity.capture.Repository@259b0d)
[DEBUG] [12/06/2012 00:44:08.363] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-7] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture/$c] started (com.ergodicity.capture.Router@1f46692)
[DEBUG] [12/06/2012 00:44:08.363] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-8] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture/$b] started (com.ergodicity.capture.Router@7a0473)
[DEBUG] [12/06/2012 00:44:08.363] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-1] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture/$a] started (com.ergodicity.capture.Router@1041a59)
[INFO] [12/06/2012 00:44:08.387] [pool-4-thread-3] [akka://PositionManagerSpec/user/Sessions] Start session tracking
[WARN] [12/06/2012 00:44:08.389] [PositionManagerSpec-akka.actor.default-dispatcher-3] [akka://PositionManagerSpec/deadLetters] received dead letter from Actor[akka://PositionManagerSpec/user/Sessions/OptInfoDispatcher]: SubscribeStreamEvents(Actor[akka://PositionManagerSpec/user/Sessions/OptInfoDispatcher])
[WARN] [12/06/2012 00:44:08.389] [PositionManagerSpec-akka.actor.default-dispatcher-3] [akka://PositionManagerSpec/deadLetters] received dead letter from Actor[akka://PositionManagerSpec/user/Sessions/FutInfoDispatcher]: SubscribeStreamEvents(Actor[akka://PositionManagerSpec/user/Sessions/FutInfoDispatcher])
[INFO] [12/06/2012 00:44:08.410] [pool-4-thread-3] [akka://PositionManagerSpec/user/Sessions] Synchonized event = SynchronizedEvent(SessionDataReady(1,100),SessionDataReady(1,100))
[INFO] [12/06/2012 00:44:08.432] [PositionManagerSpec-akka.actor.default-dispatcher-4] [akka://PositionManagerSpec/user/Sessions/100/Options] Start SessionContents
[INFO] [12/06/2012 00:44:08.435] [PositionManagerSpec-akka.actor.default-dispatcher-1] [akka://PositionManagerSpec/user/Sessions/100/Futures] Start SessionContents
[INFO] [12/06/2012 00:44:08.467] [PositionManagerSpec-akka.actor.default-dispatcher-2] [akka://PositionManagerSpec/user/Sessions/100/Futures/RTS-9.12] Started instrument for security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1)
[INFO] [12/06/2012 00:44:08.467] [PositionManagerSpec-akka.actor.default-dispatcher-3] [akka://PositionManagerSpec/user/Sessions/100/Futures/RTS-12.12] Started instrument for security = FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2)
[INFO] [12/06/2012 00:44:08.473] [pool-4-thread-3] [akka://PositionManagerSpec/user/PositionManager] Start position manager for isin = Isin(RTS-9.12), initial position = Position(0)
[INFO] [12/06/2012 00:44:08.803] [pool-4-thread-1] [akka://StrategyEngineActorSpec/user/StrategyEngine] Prepare strategies
[INFO] [12/06/2012 00:44:08.807] [pool-4-thread-1] [akka://StrategyEngineActorSpec/user/StrategyEngine] Start strategy, Id = TestStrategy
[INFO] [12/06/2012 00:44:08.816] [PositionManagerSpec-akka.actor.default-dispatcher-3] [akka://PositionManagerSpec/user/Strategy/WatchDog-RTS-9.12] Catched ongoing session, session id = SessionId(100,100)
[INFO] [12/06/2012 00:44:08.829] [pool-4-thread-1] [akka://StrategyEngineActorSpec/user/StrategyEngine] Prepare strategies
[INFO] [12/06/2012 00:44:08.829] [pool-4-thread-1] [akka://StrategyEngineActorSpec/user/StrategyEngine] Start strategy, Id = TestStrategy
[INFO] [12/06/2012 00:44:08.829] [pool-4-thread-1] [akka://StrategyEngineActorSpec/user/StrategyEngine] Start strategy, Id = TestStrategy
[WARN] [12/06/2012 00:44:08.830] [StrategyEngineActorSpec-akka.actor.default-dispatcher-2] [akka://StrategyEngineActorSpec/deadLetters] received dead letter from Actor[akka://StrategyEngineActorSpec/user/StrategyEngine/TestStrategy]: Started
[DEBUG] [12/06/2012 00:44:08.834] [PositionManagerSpec-akka.actor.default-dispatcher-2] [akka://PositionManagerSpec/user/Sessions/100/Futures] Get session instrument: FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1); Result = Some((FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1),Actor[akka://PositionManagerSpec/user/Sessions/100/Futures/RTS-9.12]))
[DEBUG] [12/06/2012 00:44:08.835] [PositionManagerSpec-akka.actor.default-dispatcher-3] [akka://PositionManagerSpec/user/Sessions/100/Options] Get session instrument: FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1); Result = None
[INFO] [12/06/2012 00:44:08.841] [PositionManagerSpec-akka.actor.default-dispatcher-4] [akka://PositionManagerSpec/user/Strategy/WatchDog-RTS-9.12] Catched instrument for isin = Isin(RTS-9.12); ref = InstrumentRef(null,FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1),Actor[akka://PositionManagerSpec/user/Sessions/100/Futures/RTS-9.12])
[INFO] [12/06/2012 00:44:08.846] [PositionManagerSpec-akka.actor.default-dispatcher-4] [akka://PositionManagerSpec/user/PositionManager] Catched assigned instrument; Isin = Isin(RTS-9.12), session = null, security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1)
[DEBUG] [12/06/2012 00:44:08.853] [PositionManagerSpec-akka.actor.default-dispatcher-4] [akka://PositionManagerSpec/user/PositionManager] Ready to trade; Underlying instrument = UnderlyingInstrument(FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1),FutureParameters(100,Limits(10,20)),Online)
[INFO] [12/06/2012 00:44:08.855] [PositionManagerSpec-akka.actor.default-dispatcher-4] [akka://PositionManagerSpec/user/PositionManager] Position balanced
[DEBUG] [12/06/2012 00:44:08.864] [pool-4-thread-1] [akka://StrategyEngineActorSpec/user/Portfolio] Assigned contents; Size = 2
[DEBUG] [12/06/2012 00:44:08.867] [pool-4-thread-1] [akka://StrategyEngineActorSpec/user/Portfolio] Position updated; Security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1)
[DEBUG] [12/06/2012 00:44:08.869] [pool-4-thread-1] [akka://StrategyEngineActorSpec/user/Portfolio] Position updated; Security = FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2)
[INFO] [12/06/2012 00:44:08.875] [StrategyEngineActorSpec-akka.actor.default-dispatcher-2] [akka://StrategyEngineActorSpec/user/Portfolio/RTS-9.12] Opened position; Security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1)
[INFO] [12/06/2012 00:44:08.875] [StrategyEngineActorSpec-akka.actor.default-dispatcher-1] [akka://StrategyEngineActorSpec/user/Portfolio/RTS-12.12] Opened position; Security = FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2)
[DEBUG] [12/06/2012 00:44:08.875] [StrategyEngineActorSpec-akka.actor.default-dispatcher-2] [akka://StrategyEngineActorSpec/user/Portfolio/RTS-9.12] Position updated to Position(1), dynamics = PositionDynamics(0,1,0,0,None)
[DEBUG] [12/06/2012 00:44:08.876] [StrategyEngineActorSpec-akka.actor.default-dispatcher-1] [akka://StrategyEngineActorSpec/user/Portfolio/RTS-12.12] Position updated to Position(3), dynamics = PositionDynamics(0,5,2,0,None)
[INFO] [12/06/2012 00:44:08.878] [pool-4-thread-1] [akka://StrategyEngineActorSpec/user/StrategyEngine] Prepare strategies
[INFO] [12/06/2012 00:44:08.878] [pool-4-thread-1] [akka://StrategyEngineActorSpec/user/StrategyEngine] Start strategy, Id = CoverAllPositions
[INFO] [12/06/2012 00:44:08.901] [StrategyEngineActorSpec-akka.actor.default-dispatcher-2] [akka://StrategyEngineActorSpec/user/StrategyEngine/CoverAllPositions] Started CoverPositions
[DEBUG] [12/06/2012 00:44:08.902] [StrategyEngineActorSpec-akka.actor.default-dispatcher-2] [akka://StrategyEngineActorSpec/user/StrategyEngine/CoverAllPositions] Going to cover positions = Map(FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1) -> Position(1), FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2) -> Position(3))
[INFO] [12/06/2012 00:44:08.903] [StrategyEngineActorSpec-akka.actor.default-dispatcher-2] [akka://StrategyEngineActorSpec/user/StrategyEngine] Strategy ready, Id = CoverAllPositions, positions = Map(FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1) -> Position(1), FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2) -> Position(3))
[INFO] [12/06/2012 00:44:08.919] [pool-4-thread-1] [akka://StrategyEngineActorSpec/system/testActor2] Engine state = StrategiesReady
[DEBUG] [12/06/2012 00:44:08.922] [pool-4-thread-1] [akka://StrategyEngineActorSpec/user/Portfolio] Assigned contents; Size = 2
[DEBUG] [12/06/2012 00:44:08.922] [pool-4-thread-1] [akka://StrategyEngineActorSpec/user/Portfolio] Position updated; Security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1)
[DEBUG] [12/06/2012 00:44:08.922] [pool-4-thread-1] [akka://StrategyEngineActorSpec/user/Portfolio] Position updated; Security = FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2)
[INFO] [12/06/2012 00:44:08.922] [StrategyEngineActorSpec-akka.actor.default-dispatcher-5] [akka://StrategyEngineActorSpec/user/Portfolio/RTS-9.12] Opened position; Security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1)
[DEBUG] [12/06/2012 00:44:08.922] [StrategyEngineActorSpec-akka.actor.default-dispatcher-5] [akka://StrategyEngineActorSpec/user/Portfolio/RTS-9.12] Position updated to Position(1), dynamics = PositionDynamics(0,1,0,0,None)
[INFO] [12/06/2012 00:44:08.922] [StrategyEngineActorSpec-akka.actor.default-dispatcher-2] [akka://StrategyEngineActorSpec/user/Portfolio/RTS-12.12] Opened position; Security = FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2)
[DEBUG] [12/06/2012 00:44:08.922] [StrategyEngineActorSpec-akka.actor.default-dispatcher-2] [akka://StrategyEngineActorSpec/user/Portfolio/RTS-12.12] Position updated to Position(3), dynamics = PositionDynamics(0,5,2,0,None)
[WARN] [12/06/2012 00:44:08.923] [PositionManagerSpec-akka.actor.default-dispatcher-4] [akka://PositionManagerSpec/deadLetters] received dead letter from Actor[akka://PositionManagerSpec/user/Sessions/FutInfoDispatcher]: SubscribeStreamEvents(Actor[akka://PositionManagerSpec/user/Sessions/FutInfoDispatcher])
[INFO] [12/06/2012 00:44:08.923] [pool-4-thread-3] [akka://PositionManagerSpec/user/Sessions] Start session tracking
[WARN] [12/06/2012 00:44:08.923] [PositionManagerSpec-akka.actor.default-dispatcher-4] [akka://PositionManagerSpec/deadLetters] received dead letter from Actor[akka://PositionManagerSpec/user/Sessions/OptInfoDispatcher]: SubscribeStreamEvents(Actor[akka://PositionManagerSpec/user/Sessions/OptInfoDispatcher])
[INFO] [12/06/2012 00:44:08.924] [pool-4-thread-3] [akka://PositionManagerSpec/user/Sessions] Synchonized event = SynchronizedEvent(SessionDataReady(1,100),SessionDataReady(1,100))
[INFO] [12/06/2012 00:44:08.924] [pool-4-thread-3] [akka://PositionManagerSpec/user/PositionManager] Start position manager for isin = Isin(RTS-9.12), initial position = Position(0)
[INFO] [12/06/2012 00:44:08.924] [PositionManagerSpec-akka.actor.default-dispatcher-4] [akka://PositionManagerSpec/user/Sessions/100/Futures] Start SessionContents
[INFO] [12/06/2012 00:44:08.924] [PositionManagerSpec-akka.actor.default-dispatcher-3] [akka://PositionManagerSpec/user/Sessions/100/Options] Start SessionContents
[INFO] [12/06/2012 00:44:08.925] [PositionManagerSpec-akka.actor.default-dispatcher-3] [akka://PositionManagerSpec/user/Sessions/100/Futures/RTS-9.12] Started instrument for security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1)
[INFO] [12/06/2012 00:44:08.926] [PositionManagerSpec-akka.actor.default-dispatcher-6] [akka://PositionManagerSpec/user/Strategy/WatchDog-RTS-9.12] Catched ongoing session, session id = SessionId(100,100)
[INFO] [12/06/2012 00:44:08.926] [PositionManagerSpec-akka.actor.default-dispatcher-4] [akka://PositionManagerSpec/user/Sessions/100/Futures/RTS-12.12] Started instrument for security = FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2)
[DEBUG] [12/06/2012 00:44:08.927] [PositionManagerSpec-akka.actor.default-dispatcher-1] [akka://PositionManagerSpec/user/Sessions/100/Options] Get session instrument: FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1); Result = None
[DEBUG] [12/06/2012 00:44:08.927] [PositionManagerSpec-akka.actor.default-dispatcher-9] [akka://PositionManagerSpec/user/Sessions/100/Futures] Get session instrument: FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1); Result = Some((FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1),Actor[akka://PositionManagerSpec/user/Sessions/100/Futures/RTS-9.12]))
[INFO] [12/06/2012 00:44:08.927] [StrategyEngineActorSpec-akka.actor.default-dispatcher-6] [akka://StrategyEngineActorSpec/user/$$a/StrategyEngine] Prepare strategies
[INFO] [12/06/2012 00:44:08.927] [StrategyEngineActorSpec-akka.actor.default-dispatcher-6] [akka://StrategyEngineActorSpec/user/$$a/StrategyEngine] Start strategy, Id = CoverAllPositions
[INFO] [12/06/2012 00:44:08.927] [StrategyEngineActorSpec-akka.actor.default-dispatcher-6] [akka://StrategyEngineActorSpec/user/$$a/StrategyEngine] Start strategy, Id = TestStrategy
[WARN] [12/06/2012 00:44:08.928] [StrategyEngineActorSpec-akka.actor.default-dispatcher-3] [akka://StrategyEngineActorSpec/deadLetters] received dead letter from Actor[akka://StrategyEngineActorSpec/user/$$a/StrategyEngine/TestStrategy]: Started
[INFO] [12/06/2012 00:44:08.928] [PositionManagerSpec-akka.actor.default-dispatcher-9] [akka://PositionManagerSpec/user/Strategy/WatchDog-RTS-9.12] Catched instrument for isin = Isin(RTS-9.12); ref = InstrumentRef(null,FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1),Actor[akka://PositionManagerSpec/user/Sessions/100/Futures/RTS-9.12])
[INFO] [12/06/2012 00:44:08.928] [PositionManagerSpec-akka.actor.default-dispatcher-9] [akka://PositionManagerSpec/user/PositionManager] Catched assigned instrument; Isin = Isin(RTS-9.12), session = null, security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1)
[DEBUG] [12/06/2012 00:44:08.928] [PositionManagerSpec-akka.actor.default-dispatcher-5] [akka://PositionManagerSpec/user/PositionManager] Ready to trade; Underlying instrument = UnderlyingInstrument(FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1),FutureParameters(100,Limits(10,20)),Online)
[INFO] [12/06/2012 00:44:08.929] [PositionManagerSpec-akka.actor.default-dispatcher-5] [akka://PositionManagerSpec/user/PositionManager] Position balanced
[INFO] [12/06/2012 00:44:08.929] [StrategyEngineActorSpec-akka.actor.default-dispatcher-4] [akka://StrategyEngineActorSpec/user/$$a/StrategyEngine] Strategy ready, Id = TestStrategy, positions = Map(FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1) -> Position(1), FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2) -> Position(1))
[INFO] [12/06/2012 00:44:08.930] [StrategyEngineActorSpec-akka.actor.default-dispatcher-6] [akka://StrategyEngineActorSpec/user/$$a/StrategyEngine/CoverAllPositions] Started CoverPositions
[DEBUG] [12/06/2012 00:44:08.930] [StrategyEngineActorSpec-akka.actor.default-dispatcher-6] [akka://StrategyEngineActorSpec/user/$$a/StrategyEngine/CoverAllPositions] Going to cover positions = Map(FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1) -> Position(1), FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2) -> Position(3))
[INFO] [12/06/2012 00:44:08.930] [StrategyEngineActorSpec-akka.actor.default-dispatcher-5] [akka://StrategyEngineActorSpec/user/$$a/StrategyEngine] Strategy ready, Id = CoverAllPositions, positions = Map(FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1) -> Position(1), FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2) -> Position(3))
[ERROR] [12/06/2012 00:44:08.935] [StrategyEngineActorSpec-akka.actor.default-dispatcher-1] [akka://StrategyEngineActorSpec/user/$$a/StrategyEngine] Reconciliation failed, mismatches = Set(Mismatch(FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1),Position(1),Position(2),Map(CoverAllPositions -> Position(1), TestStrategy -> Position(1))), Mismatch(FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2),Position(3),Position(4),Map(CoverAllPositions -> Position(3), TestStrategy -> Position(1))))
[ERROR] [12/06/2012 00:44:08.936] [StrategyEngineActorSpec-akka.actor.default-dispatcher-1] [akka://StrategyEngineActorSpec/user/$$a/StrategyEngine] Reconciliation failed; Mismatches size = 2
com.ergodicity.engine.StrategyEngine$ReconciliationFailed: Reconciliation failed; Mismatches size = 2
	at com.ergodicity.engine.StrategyEngineActor$$anonfun$13.apply(StrategyEngine.scala:166)
	at com.ergodicity.engine.StrategyEngineActor$$anonfun$13.apply(StrategyEngine.scala:160)
	at akka.actor.FSM$class.processEvent(FSM.scala:486)
	at com.ergodicity.engine.StrategyEngineActor.akka$actor$LoggingFSM$$super$processEvent(StrategyEngine.scala:125)
	at akka.actor.LoggingFSM$class.processEvent(FSM.scala:605)
	at com.ergodicity.engine.StrategyEngineActor.processEvent(StrategyEngine.scala:125)
	at akka.actor.FSM$class.akka$actor$FSM$$processMsg(FSM.scala:480)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:474)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:437)
	at akka.actor.Actor$class.apply(Actor.scala:318)
	at com.ergodicity.engine.StrategyEngineActor.apply(StrategyEngine.scala:125)
	at akka.actor.ActorCell.invoke(ActorCell.scala:626)
	at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:197)
	at akka.dispatch.Mailbox.run(Mailbox.scala:179)
	at akka.dispatch.ForkJoinExecutorConfigurator$MailboxExecutionTask.exec(AbstractDispatcher.scala:516)
	at akka.jsr166y.ForkJoinTask.doExec(ForkJoinTask.java:259)
	at akka.jsr166y.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:975)
	at akka.jsr166y.ForkJoinPool.runWorker(ForkJoinPool.java:1479)
	at akka.jsr166y.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:104)

[info] StrategyEngineActorSpec:
[info] Strategy Engine 
[info] - must prepare all strategies
[info]   + Given Engine with one Strategy 
[info]   + When engine receives StartStrategies message 
[info]   + Then it should start all strategies from factroy 
[info]   + And go to Preparing$ state 
[info] - must fail to start strategies with same name
[info]   + Given Engine with one Strategy 
[info]   + When engine receives StartStrategies message 
[info] - must succesfully prepare strategies when positions reconciled
[info] - must fail on reconciling duplicated positions
[DEBUG] [12/06/2012 00:44:08.960] [pool-4-thread-1] [EventStream(akka://TradesDataServiceSpec)] logger log1-TestEventListener started
[DEBUG] [12/06/2012 00:44:08.960] [pool-4-thread-1] [EventStream(akka://TradesDataServiceSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:44:08.962] [StrategyEngineActorSpec-akka.actor.default-dispatcher-2] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:08.962] [StrategyEngineActorSpec-akka.actor.default-dispatcher-2] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:08.963] [StrategyEngineActorSpec-akka.actor.default-dispatcher-2] [EventStream] all default loggers stopped
[info] MarketContentsCaptureSpec:
[info] MarketContentsCapture 
[info] - must save session data
[info] - must initialize with Future session content
[info] - must initialize with Option session content
[DEBUG] [12/06/2012 00:44:08.996] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-9] [akka://MarketContentsCaptureSpec/user/FutInfoStream] stopped
[DEBUG] [12/06/2012 00:44:08.996] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-9] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture] stopping
[DEBUG] [12/06/2012 00:44:08.996] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-9] [akka://MarketContentsCaptureSpec/user/OptInfoStream] stopped
[DEBUG] [12/06/2012 00:44:08.997] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-9] [akka://MarketContentsCaptureSpec/user] stopping
[DEBUG] [12/06/2012 00:44:08.998] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-7] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture] stopped
[DEBUG] [12/06/2012 00:44:08.998] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-7] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture/$a] stopped
[DEBUG] [12/06/2012 00:44:08.998] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-9] [akka://MarketContentsCaptureSpec/user] stopped
[DEBUG] [12/06/2012 00:44:08.998] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-7] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:08.998] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-7] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:44:08.998] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-7] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:08.999] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-9] [akka://MarketContentsCaptureSpec/system/log1-Logging$DefaultLogger] stopped
[DEBUG] [12/06/2012 00:44:08.999] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-7] [akka://MarketContentsCaptureSpec/system/testActor7] stopped
[DEBUG] [12/06/2012 00:44:08.999] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-7] [akka://MarketContentsCaptureSpec/system] stopping
[DEBUG] [12/06/2012 00:44:08.999] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-7] [akka://MarketContentsCaptureSpec/system] stopped
[DEBUG] [12/06/2012 00:44:09.0] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-7] [akka://MarketContentsCaptureSpec/] stopped
[DEBUG] [12/06/2012 00:44:09.2] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-1] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture/$b] stopped
[DEBUG] [12/06/2012 00:44:09.2] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-6] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture/$c] stopped
[DEBUG] [12/06/2012 00:44:09.2] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-8] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture/FutSessContentsRepository] stopped
[DEBUG] [12/06/2012 00:44:09.3] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-4] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture/OptSessContentsRepository] stopped
[DEBUG] [12/06/2012 00:44:09.3] [MarketContentsCaptureSpec-akka.actor.default-dispatcher-2] [akka://MarketContentsCaptureSpec/user/MarketContentsCapture/SessionsRepository] stopped
[DEBUG] [12/06/2012 00:44:09.18] [pool-4-thread-2] [EventStream(akka://StrategyEngineSpec)] logger log1-TestEventListener started
[DEBUG] [12/06/2012 00:44:09.18] [pool-4-thread-2] [EventStream(akka://StrategyEngineSpec)] Default Loggers started
[INFO] [12/06/2012 00:44:09.29] [pool-4-thread-3] [akka://PositionManagerSpec/user/PositionManager] Balancing position
[WARN] [12/06/2012 00:44:09.33] [TradesDataServiceSpec-akka.actor.default-dispatcher-5] [akka://TradesDataServiceSpec/user/TradesDataService] unhandled event CurrentState(Actor[akka://TradesDataServiceSpec/user/TradesDataService/FutTradeStream],Closed) in state Idle
[WARN] [12/06/2012 00:44:09.33] [TradesDataServiceSpec-akka.actor.default-dispatcher-4] [akka://TradesDataServiceSpec/user/TradesDataService] unhandled event CurrentState(Actor[akka://TradesDataServiceSpec/user/TradesDataService/FutTradeStream],Closed) in state Idle
[WARN] [12/06/2012 00:44:09.33] [TradesDataServiceSpec-akka.actor.default-dispatcher-3] [akka://TradesDataServiceSpec/user/TradesDataService] unhandled event CurrentState(Actor[akka://TradesDataServiceSpec/user/TradesDataService/OptTradeStream],Closed) in state Idle
[INFO] [12/06/2012 00:44:09.33] [pool-4-thread-1] [akka://TradesDataServiceSpec/user/TradesDataService] Start TradesData service
[WARN] [12/06/2012 00:44:09.34] [TradesDataServiceSpec-akka.actor.default-dispatcher-2] [akka://TradesDataServiceSpec/deadLetters] received dead letter from TestActor[akka://TradesDataServiceSpec/user/TradesDataService]: SubscribeOngoingSessions(TestActor[akka://TradesDataServiceSpec/user/TradesDataService])
[WARN] [12/06/2012 00:44:09.34] [TradesDataServiceSpec-akka.actor.default-dispatcher-1] [akka://TradesDataServiceSpec/user/TradesDataService] unhandled event CurrentState(Actor[akka://TradesDataServiceSpec/user/TradesDataService/OptTradeStream],Closed) in state Idle
[DEBUG] [12/06/2012 00:44:09.38] [TradesDataServiceSpec-akka.actor.default-dispatcher-2] [akka://TradesDataServiceSpec/user/TradesDataService/TradesTracking] Assigned contents; Size = 0
[INFO] [12/06/2012 00:44:09.47] [pool-4-thread-2] [akka://StrategyEngineSpec/system/testActor5] Reconciliation = Reconciled
[INFO] [12/06/2012 00:44:09.52] [pool-4-thread-2] [akka://StrategyEngineSpec/system/testActor5] Reconciliation = Mismatched(Set(Mismatch(FutureContract(IsinId(1),Isin(RTS-9.12),ShortIsisn(),Future contract),Position(2),Position(3),Map(Strategy1 -> Position(6), Strategy2 -> Position(-3)))))
[info] StrategyEngineSpec:
[info] Strategy engine 
[info] - must reconcile positions
[info] - must find mismatched position
[info] - must find mismatched position for different isin
[INFO] [12/06/2012 00:44:09.57] [pool-4-thread-2] [akka://StrategyEngineSpec/system/testActor5] Reconciliation = Mismatched(Set(Mismatch(FutureContract(IsinId(1),Isin(RTS-9.12),ShortIsisn(),Future contract #1),Position(1),Position(0),Map()), Mismatch(FutureContract(IsinId(2),Isin(RTS-12.12),ShortIsisn(),Future contract #2),Position(0),Position(1),Map(Strategy1 -> Position(1)))))
[DEBUG] [12/06/2012 00:44:09.59] [StrategyEngineSpec-akka.actor.default-dispatcher-1] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:09.60] [StrategyEngineSpec-akka.actor.default-dispatcher-1] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:09.60] [StrategyEngineSpec-akka.actor.default-dispatcher-1] [EventStream] all default loggers stopped
[INFO] [12/06/2012 00:44:09.61] [TradesDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradesDataServiceSpec/user/TradesDataService/FutTradesListener] Open listener with config = mode=online
[INFO] [12/06/2012 00:44:09.62] [TradesDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradesDataServiceSpec/user/TradesDataService/OptTradesListener] Open listener with config = mode=online
[WARN] [12/06/2012 00:44:09.63] [PositionManagerSpec-akka.actor.default-dispatcher-5] [akka://PositionManagerSpec/deadLetters] received dead letter from Actor[akka://PositionManagerSpec/deadLetters]: SubscribeOrderEvents(TestActor[akka://PositionManagerSpec/user/PositionManager])
[INFO] [12/06/2012 00:44:09.64] [pool-4-thread-3] [akka://PositionManagerSpec/user/PositionManager] Order filled; Deal = None
[INFO] [12/06/2012 00:44:09.64] [pool-4-thread-3] [akka://PositionManagerSpec/user/PositionManager] Position balanced
[DEBUG] [12/06/2012 00:44:09.67] [pool-4-thread-2] [EventStream(akka://InstrumentDataServiceSpec)] logger log1-TestEventListener started
[DEBUG] [12/06/2012 00:44:09.67] [pool-4-thread-2] [EventStream(akka://InstrumentDataServiceSpec)] Default Loggers started
[WARN] [12/06/2012 00:44:09.73] [PositionManagerSpec-akka.actor.default-dispatcher-5] [akka://PositionManagerSpec/deadLetters] received dead letter from Actor[akka://PositionManagerSpec/user/Sessions/FutInfoDispatcher]: SubscribeStreamEvents(Actor[akka://PositionManagerSpec/user/Sessions/FutInfoDispatcher])
[INFO] [12/06/2012 00:44:09.73] [pool-4-thread-3] [akka://PositionManagerSpec/user/Sessions] Start session tracking
[WARN] [12/06/2012 00:44:09.73] [PositionManagerSpec-akka.actor.default-dispatcher-5] [akka://PositionManagerSpec/deadLetters] received dead letter from Actor[akka://PositionManagerSpec/user/Sessions/OptInfoDispatcher]: SubscribeStreamEvents(Actor[akka://PositionManagerSpec/user/Sessions/OptInfoDispatcher])
[INFO] [12/06/2012 00:44:09.73] [pool-4-thread-3] [akka://PositionManagerSpec/user/Sessions] Synchonized event = SynchronizedEvent(SessionDataReady(1,100),SessionDataReady(1,100))
[INFO] [12/06/2012 00:44:09.73] [pool-4-thread-3] [akka://PositionManagerSpec/user/PositionManager] Start position manager for isin = Isin(RTS-9.12), initial position = Position(0)
[INFO] [12/06/2012 00:44:09.73] [PositionManagerSpec-akka.actor.default-dispatcher-5] [akka://PositionManagerSpec/user/Sessions/100/Futures] Start SessionContents
[INFO] [12/06/2012 00:44:09.74] [PositionManagerSpec-akka.actor.default-dispatcher-6] [akka://PositionManagerSpec/user/Sessions/100/Options] Start SessionContents
[INFO] [12/06/2012 00:44:09.74] [PositionManagerSpec-akka.actor.default-dispatcher-6] [akka://PositionManagerSpec/user/Strategy/WatchDog-RTS-9.12] Catched ongoing session, session id = SessionId(100,100)
[INFO] [12/06/2012 00:44:09.74] [PositionManagerSpec-akka.actor.default-dispatcher-11] [akka://PositionManagerSpec/user/Sessions/100/Futures/RTS-9.12] Started instrument for security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1)
[INFO] [12/06/2012 00:44:09.74] [PositionManagerSpec-akka.actor.default-dispatcher-8] [akka://PositionManagerSpec/user/Sessions/100/Futures/RTS-12.12] Started instrument for security = FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2)
[DEBUG] [12/06/2012 00:44:09.75] [PositionManagerSpec-akka.actor.default-dispatcher-8] [akka://PositionManagerSpec/user/Sessions/100/Futures] Get session instrument: FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1); Result = Some((FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1),Actor[akka://PositionManagerSpec/user/Sessions/100/Futures/RTS-9.12]))
[DEBUG] [12/06/2012 00:44:09.75] [PositionManagerSpec-akka.actor.default-dispatcher-4] [akka://PositionManagerSpec/user/Sessions/100/Options] Get session instrument: FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1); Result = None
[INFO] [12/06/2012 00:44:09.76] [PositionManagerSpec-akka.actor.default-dispatcher-8] [akka://PositionManagerSpec/user/Strategy/WatchDog-RTS-9.12] Catched instrument for isin = Isin(RTS-9.12); ref = InstrumentRef(null,FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1),Actor[akka://PositionManagerSpec/user/Sessions/100/Futures/RTS-9.12])
[INFO] [12/06/2012 00:44:09.76] [PositionManagerSpec-akka.actor.default-dispatcher-8] [akka://PositionManagerSpec/user/PositionManager] Catched assigned instrument; Isin = Isin(RTS-9.12), session = null, security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1)
[DEBUG] [12/06/2012 00:44:09.76] [PositionManagerSpec-akka.actor.default-dispatcher-8] [akka://PositionManagerSpec/user/PositionManager] Ready to trade; Underlying instrument = UnderlyingInstrument(FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1),FutureParameters(100,Limits(10,20)),Online)
[INFO] [12/06/2012 00:44:09.76] [PositionManagerSpec-akka.actor.default-dispatcher-8] [akka://PositionManagerSpec/user/PositionManager] Position balanced
[INFO] [12/06/2012 00:44:09.83] [InstrumentDataServiceSpec-akka.actor.default-dispatcher-2] [akka://InstrumentDataServiceSpec/user/InstrumentDataService/SessionsTracking] Start session tracking
[INFO] [12/06/2012 00:44:09.99] [InstrumentDataServiceSpec-akka.actor.default-dispatcher-5] [akka://InstrumentDataServiceSpec/user/InstrumentDataService/SessionsTracking] Start session tracking
[INFO] [12/06/2012 00:44:09.100] [pool-4-thread-2] [akka://InstrumentDataServiceSpec/user/InstrumentDataService] Start InstrumentData service
[INFO] [12/06/2012 00:44:09.101] [InstrumentDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://InstrumentDataServiceSpec/user/InstrumentDataService/FutInfoListener] Open listener with config = mode=snapshot+online
[INFO] [12/06/2012 00:44:09.101] [InstrumentDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://InstrumentDataServiceSpec/user/InstrumentDataService/OptInfoListener] Open listener with config = mode=snapshot+online
[INFO] [12/06/2012 00:44:09.175] [pool-4-thread-3] [akka://PositionManagerSpec/user/PositionManager] Balancing position
[WARN] [12/06/2012 00:44:09.179] [PositionManagerSpec-akka.actor.default-dispatcher-8] [akka://PositionManagerSpec/deadLetters] received dead letter from Actor[akka://PositionManagerSpec/deadLetters]: SubscribeOrderEvents(TestActor[akka://PositionManagerSpec/user/PositionManager])
[INFO] [12/06/2012 00:44:09.179] [pool-4-thread-3] [akka://PositionManagerSpec/user/PositionManager] Order filled; Deal = None
[info] PositionManagerSpec:
[info] PositionManager 
[info] - must wait for position manager catch instrument and goes to balanced state
[info] - must balance acquired position from Balanced state
[info]   + When acquire position 
[info]   + Then should but required contracts 
[info]   + And go to Balancing state 
[info]   + When order filled 
[info]   + Then should go to Balanced state 
[info]   + When order cancelled 
[info]   + Then should remove it from internal storage 
[info] - must balance acquired position from Balancing state
[info]   + Given PositionManager in Balancing state 
[info]   + When acquire position 
[info]   + Then should but required contracts 
[info]   + And go to Balancing state 
[info]   + When order filled 
[info]   + Then stay in balancing state 
[WARN] [12/06/2012 00:44:09.182] [TradesDataServiceSpec-akka.actor.default-dispatcher-2] [akka://TradesDataServiceSpec/user/TradesDataService] unhandled event CurrentState(Actor[akka://TradesDataServiceSpec/user/TradesDataService/OptTradeStream],Closed) in state Started
[INFO] [12/06/2012 00:44:09.189] [pool-4-thread-1] [akka://TradesDataServiceSpec/user/TradesDataService] Stop TradesData service
[DEBUG] [12/06/2012 00:44:09.192] [PositionManagerSpec-akka.actor.default-dispatcher-7] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:09.192] [PositionManagerSpec-akka.actor.default-dispatcher-7] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:09.193] [PositionManagerSpec-akka.actor.default-dispatcher-7] [EventStream] all default loggers stopped
[WARN] [12/06/2012 00:44:09.195] [TradesDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradesDataServiceSpec/user/TradesDataService/FutTradesListener] unhandled event Close in state Closed
[WARN] [12/06/2012 00:44:09.195] [TradesDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradesDataServiceSpec/user/TradesDataService/OptTradesListener] unhandled event Close in state Closed
[INFO] [12/06/2012 00:44:09.195] [TradesDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradesDataServiceSpec/user/TradesDataService/FutTradesListener] Dispose listener
[ERROR] [12/06/2012 00:44:09.196] [TradesDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradesDataServiceSpec/user/TradesDataService/FutTradesListener] Disposed
[ERROR] [12/06/2012 00:44:09.196] [TradesDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradesDataServiceSpec/user/TradesDataService/FutTradesListener] Listener failed, reason = Failure(Disposed)
[WARN] [12/06/2012 00:44:09.198] [TradesDataServiceSpec-akka.actor.default-dispatcher-1] [akka://TradesDataServiceSpec/user/TradesDataService/FutTradeStream] received dead letter from Actor[akka://TradesDataServiceSpec/user/TradesDataService/TradesTracking/FuturesDispatcher]: SubscribeStreamEvents(Actor[akka://TradesDataServiceSpec/user/TradesDataService/TradesTracking/FuturesDispatcher])
[ERROR] [12/06/2012 00:44:09.198] [TradesDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradesDataServiceSpec/user/TradesDataService/OptTradesListener] Listener failed, reason = Shutdown
[WARN] [12/06/2012 00:44:09.198] [TradesDataServiceSpec-akka.actor.default-dispatcher-1] [akka://TradesDataServiceSpec/user/TradesDataService/OptTradesListener] received dead letter from TestActor[akka://TradesDataServiceSpec/user/TradesDataService]: Dispose
[WARN] [12/06/2012 00:44:09.198] [TradesDataServiceSpec-akka.actor.default-dispatcher-1] [akka://TradesDataServiceSpec/user/TradesDataService] received dead letter from Actor[akka://TradesDataServiceSpec/user/TradesDataService/FutTradeStream]: CurrentState(Actor[akka://TradesDataServiceSpec/user/TradesDataService/FutTradeStream],Closed)
[DEBUG] [12/06/2012 00:44:09.204] [pool-4-thread-3] [EventStream(akka://OrdersDataServiceSpec)] logger log1-TestEventListener started
[DEBUG] [12/06/2012 00:44:09.204] [pool-4-thread-3] [EventStream(akka://OrdersDataServiceSpec)] Default Loggers started
[WARN] [12/06/2012 00:44:09.211] [TradesDataServiceSpec-akka.actor.default-dispatcher-2] [akka://TradesDataServiceSpec/user/TradesDataService] unhandled event CurrentState(Actor[akka://TradesDataServiceSpec/user/TradesDataService/FutTradeStream],Closed) in state Stopping
[WARN] [12/06/2012 00:44:09.211] [TradesDataServiceSpec-akka.actor.default-dispatcher-6] [akka://TradesDataServiceSpec/user/TradesDataService] unhandled event CurrentState(Actor[akka://TradesDataServiceSpec/user/TradesDataService/OptTradeStream],Closed) in state Stopping
[info] TradesDataServiceSpec:
[info] InstrumentData Service 
[info] - must initialized in Idle state
[info] - must start service
[info]   + When receive start message 
[info]   + Then should wait for ongoing session & assigned contents 
[info]   + When got assigned contents 
[info]   + Then go to Starting state 
[info]   + When Fut/OptTrade data stream goes online 
[info]   + Then service shoud be started 
[info]   + And Service Manager should be notified 
[info] - must stop service
[info]   + Given service in Started state 
[info]   + When stop Service 
[info]   + Then should go to Stopping states 
[info]   + When both streams closed 
[info]   + Then service shoud be stopped 
[info]   + And service Manager should be notified 
[info] - must fail starting
[info]   + Given service in Starting state 
[info]   + When starting timed out 
[info]   + Then should fail with exception 
[info] - must fail stopping
[info]   + Given service in Stopping state 
[info]   + When stopping timed out 
[info]   + Then should fail with exception 
[ERROR] [12/06/2012 00:44:09.211] [TradesDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradesDataServiceSpec/user/TradesDataService/FutTradesListener] Listener failed, reason = Shutdown
[ERROR] [12/06/2012 00:44:09.211] [TradesDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradesDataServiceSpec/user/TradesDataService/OptTradesListener] Listener failed, reason = Shutdown
[DEBUG] [12/06/2012 00:44:09.211] [TradesDataServiceSpec-akka.actor.default-dispatcher-6] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:09.211] [TradesDataServiceSpec-akka.actor.default-dispatcher-6] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:09.211] [TradesDataServiceSpec-akka.actor.default-dispatcher-6] [EventStream] all default loggers stopped
[ERROR] [12/06/2012 00:44:09.211] [TradesDataServiceSpec-akka.actor.default-dispatcher-6] [akka://TradesDataServiceSpec/user/TradesDataService] Stopping timed out
com.ergodicity.engine.Services$ServiceFailedException: Stopping timed out
	at com.ergodicity.engine.service.Service$class.failed(Service.scala:20)
	at com.ergodicity.engine.service.TradesDataService.failed(TradesData.scala:61)
	at com.ergodicity.engine.service.TradesDataService$$anonfun$11.apply(TradesData.scala:138)
	at com.ergodicity.engine.service.TradesDataService$$anonfun$11.apply(TradesData.scala:132)
	at akka.actor.FSM$class.processEvent(FSM.scala:486)
	at com.ergodicity.engine.service.TradesDataService.akka$actor$LoggingFSM$$super$processEvent(TradesData.scala:61)
	at akka.actor.LoggingFSM$class.processEvent(FSM.scala:605)
	at com.ergodicity.engine.service.TradesDataService.processEvent(TradesData.scala:61)
	at akka.actor.FSM$class.akka$actor$FSM$$processMsg(FSM.scala:480)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:440)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:437)
	at akka.actor.Actor$class.apply(Actor.scala:318)
	at com.ergodicity.engine.service.TradesDataService.apply(TradesData.scala:61)
	at akka.actor.ActorCell.invoke(ActorCell.scala:626)
	at akka.testkit.CallingThreadDispatcher.runQueue(CallingThreadDispatcher.scala:235)
	at akka.testkit.CallingThreadDispatcher.dispatch(CallingThreadDispatcher.scala:201)
	at akka.actor.ActorCell.tell(ActorCell.scala:475)
	at akka.actor.LocalActorRef.$bang(ActorRef.scala:328)
	at akka.actor.DefaultScheduler$$anon$5.run(Scheduler.scala:174)
	at akka.actor.DefaultScheduler.akka$actor$DefaultScheduler$$execDirectly(Scheduler.scala:200)
	at akka.actor.DefaultScheduler$$anonfun$close$1.apply(Scheduler.scala:208)
	at akka.actor.DefaultScheduler$$anonfun$close$1.apply(Scheduler.scala:208)
	at scala.collection.Iterator$class.foreach(Iterator.scala:772)
	at scala.collection.JavaConversions$JIteratorWrapper.foreach(JavaConversions.scala:573)
	at scala.collection.IterableLike$class.foreach(IterableLike.scala:73)
	at scala.collection.JavaConversions$JSetWrapper.foreach(JavaConversions.scala:661)
	at akka.actor.DefaultScheduler.close(Scheduler.scala:208)
	at akka.actor.ActorSystemImpl.stopScheduler(ActorSystem.scala:642)
	at akka.actor.ActorSystemImpl$$anonfun$_start$1.apply$mcV$sp(ActorSystem.scala:589)
	at akka.actor.ActorSystemImpl$$anonfun$_start$1.apply(ActorSystem.scala:589)
	at akka.actor.ActorSystemImpl$$anonfun$_start$1.apply(ActorSystem.scala:589)
	at akka.actor.ActorSystemImpl$$anon$4.run(ActorSystem.scala:602)
	at akka.actor.ActorSystemImpl$TerminationCallbacks$$anonfun$run$1.runNext$1(ActorSystem.scala:726)
	at akka.actor.ActorSystemImpl$TerminationCallbacks$$anonfun$run$1.apply$mcV$sp(ActorSystem.scala:729)
	at akka.actor.ActorSystemImpl$TerminationCallbacks$$anonfun$run$1.apply(ActorSystem.scala:722)
	at akka.actor.ActorSystemImpl$TerminationCallbacks$$anonfun$run$1.apply(ActorSystem.scala:722)
	at akka.util.ReentrantGuard.withGuard(LockUtil.scala:17)
	at akka.actor.ActorSystemImpl$TerminationCallbacks.run(ActorSystem.scala:722)
	at akka.actor.ActorSystemImpl$$anonfun$terminationCallbacks$1.apply(ActorSystem.scala:599)
	at akka.actor.ActorSystemImpl$$anonfun$terminationCallbacks$1.apply(ActorSystem.scala:599)
	at akka.dispatch.DefaultPromise.akka$dispatch$DefaultPromise$$notifyCompleted(Future.scala:943)
	at akka.dispatch.DefaultPromise$$anonfun$tryComplete$1$$anonfun$apply$mcV$sp$4.apply(Future.scala:920)
	at akka.dispatch.DefaultPromise$$anonfun$tryComplete$1$$anonfun$apply$mcV$sp$4.apply(Future.scala:920)
	at scala.collection.LinearSeqOptimized$class.foreach(LinearSeqOptimized.scala:59)
	at scala.collection.immutable.List.foreach(List.scala:76)
	at akka.dispatch.DefaultPromise$$anonfun$tryComplete$1.apply$mcV$sp(Future.scala:920)
	at akka.dispatch.Future$$anon$4$$anonfun$run$1.apply$mcV$sp(Future.scala:386)
	at akka.dispatch.Future$$anon$4$$anonfun$run$1.apply(Future.scala:378)
	at akka.dispatch.Future$$anon$4$$anonfun$run$1.apply(Future.scala:378)
	at scala.util.DynamicVariable.withValue(DynamicVariable.scala:57)
	at akka.dispatch.Future$$anon$4.run(Future.scala:378)
	at akka.dispatch.TaskInvocation.run(AbstractDispatcher.scala:94)
	at akka.jsr166y.ForkJoinTask$AdaptedRunnableAction.exec(ForkJoinTask.java:1381)
	at akka.jsr166y.ForkJoinTask.doExec(ForkJoinTask.java:259)
	at akka.jsr166y.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:975)
	at akka.jsr166y.ForkJoinPool.runWorker(ForkJoinPool.java:1479)
	at akka.jsr166y.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:104)

[DEBUG] [12/06/2012 00:44:09.230] [pool-4-thread-1] [EventStream(akka://InstrumentWatchDogSpec)] logger log1-TestEventListener started
[DEBUG] [12/06/2012 00:44:09.230] [pool-4-thread-1] [EventStream(akka://InstrumentWatchDogSpec)] Default Loggers started
[WARN] [12/06/2012 00:44:09.256] [OrdersDataServiceSpec-akka.actor.default-dispatcher-3] [akka://OrdersDataServiceSpec/user/OrdersData/FuturesSnapshot] unhandled event CurrentState(Actor[akka://OrdersDataServiceSpec/user/OrdersData/FutOrderBookStream],Closed) in state Loading
[WARN] [12/06/2012 00:44:09.256] [OrdersDataServiceSpec-akka.actor.default-dispatcher-4] [akka://OrdersDataServiceSpec/user/OrdersData/OptionsSnapshot] unhandled event CurrentState(Actor[akka://OrdersDataServiceSpec/user/OrdersData/OptOrderBookStream],Closed) in state Loading
[INFO] [12/06/2012 00:44:09.261] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-1] [akka://InstrumentWatchDogSpec/user/Session/Futures] Start SessionContents
[INFO] [12/06/2012 00:44:09.261] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-2] [akka://InstrumentWatchDogSpec/user/Session/Options] Start SessionContents
[INFO] [12/06/2012 00:44:09.262] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-3] [akka://InstrumentWatchDogSpec/user/Session/Futures/GMKR-6.12] Started instrument for security = FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract)
[INFO] [12/06/2012 00:44:09.264] [pool-4-thread-3] [akka://OrdersDataServiceSpec/user/OrdersData] Start OrdersData service
[INFO] [12/06/2012 00:44:09.267] [pool-4-thread-3] [akka://OrdersDataServiceSpec/user/OrdersData] Start OrdersData service
[WARN] [12/06/2012 00:44:09.267] [OrdersDataServiceSpec-akka.actor.default-dispatcher-3] [akka://OrdersDataServiceSpec/user/OrdersData/FuturesSnapshot] unhandled event CurrentState(Actor[akka://OrdersDataServiceSpec/user/OrdersData/FutOrderBookStream],Closed) in state Loading
[WARN] [12/06/2012 00:44:09.267] [OrdersDataServiceSpec-akka.actor.default-dispatcher-2] [akka://OrdersDataServiceSpec/user/OrdersData/OptionsSnapshot] unhandled event CurrentState(Actor[akka://OrdersDataServiceSpec/user/OrdersData/OptOrderBookStream],Closed) in state Loading
[WARN] [12/06/2012 00:44:09.268] [OrdersDataServiceSpec-akka.actor.default-dispatcher-8] [akka://OrdersDataServiceSpec/deadLetters] received dead letter from TestActor[akka://OrdersDataServiceSpec/user/OrdersData]: SubscribeOngoingSessions(TestActor[akka://OrdersDataServiceSpec/user/OrdersData])
[INFO] [12/06/2012 00:44:09.269] [OrdersDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrdersDataServiceSpec/user/OrdersData/FutOrderBookListener] Open listener with config = mode=snapshot
[INFO] [12/06/2012 00:44:09.269] [OrdersDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrdersDataServiceSpec/user/OrdersData/OptOrderBookListener] Open listener with config = mode=snapshot
[INFO] [12/06/2012 00:44:09.270] [OrdersDataServiceSpec-akka.actor.default-dispatcher-8] [akka://OrdersDataServiceSpec/user/OrdersData/OrderBooks] Assigned contents; Size = 0
[INFO] [12/06/2012 00:44:09.273] [OrdersDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrdersDataServiceSpec/user/OrdersData/OrdLogListener] Open listener with config = mode=snapshot+online;rev.orders_log=100
[WARN] [12/06/2012 00:44:09.273] [OrdersDataServiceSpec-akka.actor.default-dispatcher-7] [akka://OrdersDataServiceSpec/user/OrdersData] unhandled event CurrentState(Actor[akka://OrdersDataServiceSpec/user/OrdersData/OrdLogStream],Closed) in state StartingOrderBooks
[WARN] [12/06/2012 00:44:09.375] [OrdersDataServiceSpec-akka.actor.default-dispatcher-7] [akka://OrdersDataServiceSpec/user/OrdersData/FuturesSnapshot] unhandled event CurrentState(Actor[akka://OrdersDataServiceSpec/user/OrdersData/FutOrderBookStream],Closed) in state Loading
[WARN] [12/06/2012 00:44:09.375] [OrdersDataServiceSpec-akka.actor.default-dispatcher-8] [akka://OrdersDataServiceSpec/user/OrdersData/OptionsSnapshot] unhandled event CurrentState(Actor[akka://OrdersDataServiceSpec/user/OrdersData/OptOrderBookStream],Closed) in state Loading
[INFO] [12/06/2012 00:44:09.375] [pool-4-thread-3] [akka://OrdersDataServiceSpec/user/OrdersData] Start OrdersData service
[INFO] [12/06/2012 00:44:09.375] [pool-4-thread-3] [akka://OrdersDataServiceSpec/user/OrdersData] Stop OrdersData service
[WARN] [12/06/2012 00:44:09.375] [OrdersDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrdersDataServiceSpec/user/OrdersData/OrdLogListener] unhandled event Close in state Closed
[INFO] [12/06/2012 00:44:09.376] [OrdersDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrdersDataServiceSpec/user/OrdersData/OrdLogListener] Dispose listener
[ERROR] [12/06/2012 00:44:09.376] [OrdersDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrdersDataServiceSpec/user/OrdersData/OrdLogListener] Disposed
[ERROR] [12/06/2012 00:44:09.376] [OrdersDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrdersDataServiceSpec/user/OrdersData/OrdLogListener] Listener failed, reason = Failure(Disposed)
[ERROR] [12/06/2012 00:44:09.377] [OrdersDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrdersDataServiceSpec/user/OrdersData/FutOrderBookListener] Listener failed, reason = Shutdown
[WARN] [12/06/2012 00:44:09.377] [OrdersDataServiceSpec-akka.actor.default-dispatcher-5] [akka://OrdersDataServiceSpec/user/OrdersData/FutOrderBookListener] received dead letter from TestActor[akka://OrdersDataServiceSpec/user/OrdersData]: Dispose
[ERROR] [12/06/2012 00:44:09.378] [OrdersDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrdersDataServiceSpec/user/OrdersData/OptOrderBookListener] Listener failed, reason = Shutdown
[WARN] [12/06/2012 00:44:09.378] [OrdersDataServiceSpec-akka.actor.default-dispatcher-6] [akka://OrdersDataServiceSpec/user/OrdersData/OptOrderBookListener] received dead letter from TestActor[akka://OrdersDataServiceSpec/user/OrdersData]: Dispose
[info] OrdersDataServiceSpec:
[info] OrdersData Service 
[info] - must initialized in Idle state
[info] - must start service
[info]   + When receive start message 
[info]   + Then should wait for ongoing session & assigned contents 
[info]   + When got assigned contents 
[info]   + Then go to WaitingSnapshots state 
[info]   + And ask for orders snapshots 
[info]   + When receive snapshots 
[info]   + Then should go to StartingOrderBooks state 
[info]   + Then OrdLog stream goes online 
[info]   + Then service shoud be started 
[info]   + And Service Manager should be notified 
[info] - must stop service
[info]   + When receive Stop message 
[info]   + Then should go to Stopping state 
[info]   + When OrdLog stream closed 
[info]   + Then service shoud be stopped 
[info]   + And service Manager should be notified 
[DEBUG] [12/06/2012 00:44:09.379] [OrdersDataServiceSpec-akka.actor.default-dispatcher-2] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:09.379] [OrdersDataServiceSpec-akka.actor.default-dispatcher-2] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:09.379] [OrdersDataServiceSpec-akka.actor.default-dispatcher-2] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:44:09.387] [pool-4-thread-3] [EventStream(akka://TrendFollowing)] logger log1-TestEventListener started
[DEBUG] [12/06/2012 00:44:09.387] [pool-4-thread-3] [EventStream(akka://TrendFollowing)] Default Loggers started
[WARN] [12/06/2012 00:44:09.395] [TrendFollowing-akka.actor.default-dispatcher-3] [akka://TrendFollowing/deadLetters] received dead letter from Actor[akka://TrendFollowing/user/Sessions/FutInfoDispatcher]: SubscribeStreamEvents(Actor[akka://TrendFollowing/user/Sessions/FutInfoDispatcher])
[INFO] [12/06/2012 00:44:09.395] [TrendFollowing-akka.actor.default-dispatcher-2] [akka://TrendFollowing/user/Sessions] Start session tracking
[WARN] [12/06/2012 00:44:09.395] [TrendFollowing-akka.actor.default-dispatcher-3] [akka://TrendFollowing/deadLetters] received dead letter from Actor[akka://TrendFollowing/user/Sessions/OptInfoDispatcher]: SubscribeStreamEvents(Actor[akka://TrendFollowing/user/Sessions/OptInfoDispatcher])
[INFO] [12/06/2012 00:44:09.395] [TrendFollowing-akka.actor.default-dispatcher-2] [akka://TrendFollowing/user/Sessions] Synchonized event = SynchronizedEvent(SessionDataReady(1,100),SessionDataReady(1,100))
[INFO] [12/06/2012 00:44:09.395] [TrendFollowing-akka.actor.default-dispatcher-2] [akka://TrendFollowing/user/Sessions/100/Futures] Start SessionContents
[INFO] [12/06/2012 00:44:09.395] [TrendFollowing-akka.actor.default-dispatcher-3] [akka://TrendFollowing/user/Sessions/100/Options] Start SessionContents
[INFO] [12/06/2012 00:44:09.396] [TrendFollowing-akka.actor.default-dispatcher-6] [akka://TrendFollowing/user/Sessions/100/Futures/RTS-9.12] Started instrument for security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1)
[INFO] [12/06/2012 00:44:09.396] [TrendFollowing-akka.actor.default-dispatcher-6] [akka://TrendFollowing/user/Sessions/100/Futures/RTS-12.12] Started instrument for security = FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2)
[INFO] [12/06/2012 00:44:09.404] [TrendFollowing-akka.actor.default-dispatcher-6] [akka://TrendFollowing/user/TrendFollowingStrategy/PositionManager-RTS-9.12] Start position manager for isin = Isin(RTS-9.12), initial position = Position(0)
[INFO] [12/06/2012 00:44:09.420] [pool-4-thread-3] [akka://TrendFollowing/user/TrendFollowingStrategy] Start trend following for isin = Isin(RTS-9.12)
[INFO] [12/06/2012 00:44:09.420] [TrendFollowing-akka.actor.default-dispatcher-6] [akka://TrendFollowing/user/TrendFollowingStrategy/WatchDog-RTS-9.12] Catched ongoing session, session id = SessionId(100,100)
[DEBUG] [12/06/2012 00:44:09.421] [TrendFollowing-akka.actor.default-dispatcher-7] [akka://TrendFollowing/user/Sessions/100/Options] Get session instrument: FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1); Result = None
[DEBUG] [12/06/2012 00:44:09.421] [TrendFollowing-akka.actor.default-dispatcher-6] [akka://TrendFollowing/user/Sessions/100/Futures] Get session instrument: FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1); Result = Some((FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1),Actor[akka://TrendFollowing/user/Sessions/100/Futures/RTS-9.12]))
[INFO] [12/06/2012 00:44:09.421] [TrendFollowing-akka.actor.default-dispatcher-4] [akka://TrendFollowing/user/TrendFollowingStrategy/WatchDog-RTS-9.12] Catched instrument for isin = Isin(RTS-9.12); ref = InstrumentRef(null,FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1),Actor[akka://TrendFollowing/user/Sessions/100/Futures/RTS-9.12])
[INFO] [12/06/2012 00:44:09.422] [TrendFollowing-akka.actor.default-dispatcher-3] [akka://TrendFollowing/user/TrendFollowingStrategy/PositionManager-RTS-9.12] Catched assigned instrument; Isin = Isin(RTS-9.12), session = null, security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1)
[DEBUG] [12/06/2012 00:44:09.422] [TrendFollowing-akka.actor.default-dispatcher-3] [akka://TrendFollowing/user/TrendFollowingStrategy/PositionManager-RTS-9.12] Ready to trade; Underlying instrument = UnderlyingInstrument(FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1),FutureParameters(100,Limits(10,20)),Online)
[INFO] [12/06/2012 00:44:09.423] [TrendFollowing-akka.actor.default-dispatcher-3] [akka://TrendFollowing/user/TrendFollowingStrategy] Position balanced! Position = Position(0)
[INFO] [12/06/2012 00:44:09.423] [TrendFollowing-akka.actor.default-dispatcher-3] [akka://TrendFollowing/user/TrendFollowingStrategy/PositionManager-RTS-9.12] Position balanced
[info] MarketDbRepositorySpec:
[info] MarketCaptureRepository with SessionRepository 
[info] - should save session records
[info] MarketCaptureRepository with FutSessionContentsRepository 
[info] - should save fut session contents record
[info] MarketCaptureRepository with OptSessionContentsRepository 
[info] - should save opt session contents record
[info] MarketCaptureRepository with ReplicationStateRepository 
[info] - should set, get and reset replication state
[INFO] [12/06/2012 00:44:09.562] [pool-4-thread-1] [akka://InstrumentWatchDogSpec/user/InstrumentWatchDog] Catched ongoing session, session id = SessionId(100,100)
[DEBUG] [12/06/2012 00:44:09.564] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-3] [akka://InstrumentWatchDogSpec/user/Session/Futures] Get session instrument: FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract); Result = Some((FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract),Actor[akka://InstrumentWatchDogSpec/user/Session/Futures/GMKR-6.12]))
[DEBUG] [12/06/2012 00:44:09.564] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-1] [akka://InstrumentWatchDogSpec/user/Session/Options] Get session instrument: FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract); Result = None
[INFO] [12/06/2012 00:44:09.565] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-3] [akka://InstrumentWatchDogSpec/user/InstrumentWatchDog] Catched instrument for isin = Isin(GMKR-6.12); ref = InstrumentRef(SessionId(100,100),FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract),Actor[akka://InstrumentWatchDogSpec/user/Session/Futures/GMKR-6.12])
[INFO] [12/06/2012 00:44:09.566] [pool-4-thread-1] [akka://InstrumentWatchDogSpec/system/testActor9] Catched = Catched(Isin(GMKR-6.12),InstrumentRef(SessionId(100,100),FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract),Actor[akka://InstrumentWatchDogSpec/user/Session/Futures/GMKR-6.12]))
[DEBUG] [12/06/2012 00:44:09.568] [pool-4-thread-4] [EventStream(akka://ConnectionServiceSpec)] logger log1-TestEventListener started
[DEBUG] [12/06/2012 00:44:09.568] [pool-4-thread-4] [EventStream(akka://ConnectionServiceSpec)] Default Loggers started
[INFO] [12/06/2012 00:44:09.573] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-3] [akka://InstrumentWatchDogSpec/user/Session/Futures] Start SessionContents
[INFO] [12/06/2012 00:44:09.573] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-6] [akka://InstrumentWatchDogSpec/user/Session/Options] Start SessionContents
[INFO] [12/06/2012 00:44:09.573] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-3] [akka://InstrumentWatchDogSpec/user/Session/Futures/GMKR-6.12] Started instrument for security = FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract)
[INFO] [12/06/2012 00:44:09.602] [ConnectionServiceSpec-akka.actor.default-dispatcher-3] [akka://ConnectionServiceSpec/user/$a] Stop Connection service
[WARN] [12/06/2012 00:44:09.611] [ConnectionServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://ConnectionServiceSpec/user/ConnectionService] Unhandled event: CurrentState(Actor[akka://ConnectionServiceSpec/user/ConnectionService/Connection],Closed)
[WARN] [12/06/2012 00:44:09.612] [ConnectionServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://ConnectionServiceSpec/user/ConnectionService] Unhandled event: CurrentState(Actor[akka://ConnectionServiceSpec/user/ConnectionService/Connection],Closed)
[WARN] [12/06/2012 00:44:09.612] [ConnectionServiceSpec-akka.actor.default-dispatcher-3] [akka://ConnectionServiceSpec/user/$a] Unhandled event: CurrentState(Actor[akka://ConnectionServiceSpec/user/$a/Connection],Closed)
[WARN] [12/06/2012 00:44:09.615] [ConnectionServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://ConnectionServiceSpec/user/ConnectionService/Connection] unhandled event StartMessageProcessing(10 milliseconds) in state Closed
[INFO] [12/06/2012 00:44:09.615] [ConnectionServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://ConnectionServiceSpec/user/$a/Connection] Close connection
[INFO] [12/06/2012 00:44:09.616] [ConnectionServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://ConnectionServiceSpec/user/$a/Connection] Dispose connection
[ERROR] [12/06/2012 00:44:09.616] [ConnectionServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://ConnectionServiceSpec/user/$a/Connection] Disposed
[ERROR] [12/06/2012 00:44:09.616] [ConnectionServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://ConnectionServiceSpec/user/$a/Connection] Connection failed, reason = Failure(Disposed)
[WARN] [12/06/2012 00:44:09.621] [ConnectionServiceSpec-akka.actor.default-dispatcher-3] [akka://ConnectionServiceSpec/user/$a] Unhandled event: Terminated(Actor[akka://ConnectionServiceSpec/user/$a/Connection])
[INFO] [12/06/2012 00:44:09.622] [pool-4-thread-3] [akka://TrendFollowing/system/testActor14] regression = PriceSlope(2012-01-01T12:00:00.000+04:00,100,NaN,NaN)
[INFO] [12/06/2012 00:44:09.622] [pool-4-thread-3] [akka://TrendFollowing/system/testActor14] regression = PriceSlope(2012-01-01T12:00:10.000+04:00,110,0.9999999999999998,NaN)
[INFO] [12/06/2012 00:44:09.622] [pool-4-thread-3] [akka://TrendFollowing/system/testActor14] regression = PriceSlope(2012-01-01T12:00:20.000+04:00,500,0.8767770460435937,-1.0)
[INFO] [12/06/2012 00:44:09.622] [pool-4-thread-3] [akka://TrendFollowing/system/testActor14] regression = PriceSlope(2012-01-01T12:00:30.000+04:00,500,0.8999439354634345,-0.7639304439539426)
[INFO] [12/06/2012 00:44:09.622] [pool-4-thread-3] [akka://TrendFollowing/system/testActor14] regression = PriceSlope(2012-01-01T12:00:40.000+04:00,50,0.20152499532221196,-0.8368785736371755)
[INFO] [12/06/2012 00:44:09.809] [InstrumentDataServiceSpec-akka.actor.default-dispatcher-4] [akka://InstrumentDataServiceSpec/user/InstrumentDataService/SessionsTracking] Start session tracking
[INFO] [12/06/2012 00:44:09.811] [pool-4-thread-2] [akka://InstrumentDataServiceSpec/user/InstrumentDataService] Stop InstrumentData service
[WARN] [12/06/2012 00:44:09.811] [InstrumentDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://InstrumentDataServiceSpec/user/InstrumentDataService/FutInfoListener] unhandled event Close in state Closed
[WARN] [12/06/2012 00:44:09.811] [InstrumentDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://InstrumentDataServiceSpec/user/InstrumentDataService/OptInfoListener] unhandled event Close in state Closed
[INFO] [12/06/2012 00:44:09.812] [InstrumentDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://InstrumentDataServiceSpec/user/InstrumentDataService/FutInfoListener] Dispose listener
[ERROR] [12/06/2012 00:44:09.812] [InstrumentDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://InstrumentDataServiceSpec/user/InstrumentDataService/FutInfoListener] Disposed
[ERROR] [12/06/2012 00:44:09.812] [InstrumentDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://InstrumentDataServiceSpec/user/InstrumentDataService/FutInfoListener] Listener failed, reason = Failure(Disposed)
[ERROR] [12/06/2012 00:44:09.814] [InstrumentDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://InstrumentDataServiceSpec/user/InstrumentDataService/OptInfoListener] Listener failed, reason = Shutdown
[WARN] [12/06/2012 00:44:09.814] [InstrumentDataServiceSpec-akka.actor.default-dispatcher-1] [akka://InstrumentDataServiceSpec/user/InstrumentDataService/OptInfoListener] received dead letter from TestActor[akka://InstrumentDataServiceSpec/user/InstrumentDataService]: Dispose
[INFO] [12/06/2012 00:44:09.822] [InstrumentDataServiceSpec-akka.actor.default-dispatcher-4] [akka://InstrumentDataServiceSpec/user/InstrumentDataService/SessionsTracking] Start session tracking
[INFO] [12/06/2012 00:44:09.829] [InstrumentDataServiceSpec-akka.actor.default-dispatcher-3] [akka://InstrumentDataServiceSpec/user/InstrumentDataService/SessionsTracking] Start session tracking
[info] InstrumentDataServiceSpec:
[info] InstrumentData Service 
[info] - must initialized in Idle state
[info] - must start service
[info]   + When got Start message 
[info]   + Then should go to Starting state 
[info]   + When both streams goes online 
[info]   + Then service shoud be started 
[info]   + And Service Manager should be notified 
[info] - must stop service
[info]   + Given service in Started state 
[info]   + When stop Service 
[info]   + Then should go to Stopping states 
[info]   + When both streams closed 
[info]   + Then service shoud be stopped 
[info]   + And service Manager should be notified 
[info] - must fail starting
[info]   + Given service in Starting state 
[info]   + When starting timed out 
[info]   + Then should fail with exception 
[info] - must fail stopping
[info]   + Given service in Stopping state 
[info]   + When stopping timed out 
[info]   + Then should fail with exception 
[ERROR] [12/06/2012 00:44:09.834] [InstrumentDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://InstrumentDataServiceSpec/user/InstrumentDataService/FutInfoListener] Listener failed, reason = Shutdown
[ERROR] [12/06/2012 00:44:09.835] [InstrumentDataServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://InstrumentDataServiceSpec/user/InstrumentDataService/OptInfoListener] Listener failed, reason = Shutdown
[DEBUG] [12/06/2012 00:44:09.839] [InstrumentDataServiceSpec-akka.actor.default-dispatcher-2] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:09.840] [InstrumentDataServiceSpec-akka.actor.default-dispatcher-2] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:09.840] [InstrumentDataServiceSpec-akka.actor.default-dispatcher-2] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:44:09.854] [pool-4-thread-2] [EventStream(akka://ServicesSpec)] logger log1-TestEventListener started
[DEBUG] [12/06/2012 00:44:09.854] [pool-4-thread-2] [EventStream(akka://ServicesSpec)] Default Loggers started
[INFO] [12/06/2012 00:44:09.873] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-8] [akka://InstrumentWatchDogSpec/user/$$e/InstrumentWatchDog] Catched ongoing session, session id = SessionId(100,100)
[DEBUG] [12/06/2012 00:44:09.873] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-7] [Future] Can't find security for isin = Isin(NotAssignedIsin), assigned to session = SessionId(100,100)
[ERROR] [12/06/2012 00:44:09.874] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-4] [akka://InstrumentWatchDogSpec/user/$$e/InstrumentWatchDog] WatchDog failed, cause = com.ergodicity.engine.strategy.InstrumentWatcherException: Can't find security for isin = Isin(NotAssignedIsin), assigned to session = SessionId(100,100)
[ERROR] [12/06/2012 00:44:09.874] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-4] [akka://InstrumentWatchDogSpec/user/$$e/InstrumentWatchDog] WatchDog failed, cause = com.ergodicity.engine.strategy.InstrumentWatcherException: Can't find security for isin = Isin(NotAssignedIsin), assigned to session = SessionId(100,100)
com.ergodicity.engine.strategy.InstrumentWatcherException: WatchDog failed, cause = com.ergodicity.engine.strategy.InstrumentWatcherException: Can't find security for isin = Isin(NotAssignedIsin), assigned to session = SessionId(100,100)
	at com.ergodicity.engine.strategy.InstrumentWatchDog$$anonfun$5.apply(InstrumentWatcher.scala:120)
	at com.ergodicity.engine.strategy.InstrumentWatchDog$$anonfun$5.apply(InstrumentWatcher.scala:117)
	at scala.PartialFunction$$anon$1.apply(PartialFunction.scala:75)
	at akka.actor.FSM$class.processEvent(FSM.scala:489)
	at com.ergodicity.engine.strategy.InstrumentWatchDog.akka$actor$LoggingFSM$$super$processEvent(InstrumentWatcher.scala:63)
	at akka.actor.LoggingFSM$class.processEvent(FSM.scala:605)
	at com.ergodicity.engine.strategy.InstrumentWatchDog.processEvent(InstrumentWatcher.scala:63)
	at akka.actor.FSM$class.akka$actor$FSM$$processMsg(FSM.scala:480)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:474)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:437)
	at akka.actor.Actor$class.apply(Actor.scala:318)
	at com.ergodicity.engine.strategy.InstrumentWatchDog.apply(InstrumentWatcher.scala:63)
	at akka.actor.ActorCell.invoke(ActorCell.scala:626)
	at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:197)
	at akka.dispatch.Mailbox.run(Mailbox.scala:179)
	at akka.dispatch.ForkJoinExecutorConfigurator$MailboxExecutionTask.exec(AbstractDispatcher.scala:516)
	at akka.jsr166y.ForkJoinTask.doExec(ForkJoinTask.java:259)
	at akka.jsr166y.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:975)
	at akka.jsr166y.ForkJoinPool.runWorker(ForkJoinPool.java:1479)
	at akka.jsr166y.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:104)

[INFO] [12/06/2012 00:44:10.235] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-4] [akka://InstrumentWatchDogSpec/user/Session/Futures] Start SessionContents
[INFO] [12/06/2012 00:44:10.236] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-7] [akka://InstrumentWatchDogSpec/user/Session/Options] Start SessionContents
[INFO] [12/06/2012 00:44:10.236] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-7] [akka://InstrumentWatchDogSpec/user/Session/Futures/GMKR-6.12] Started instrument for security = FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract)
[INFO] [12/06/2012 00:44:10.242] [pool-4-thread-2] [akka://ServicesSpec/user/Services] Register service, Id = Service1, depends on = List()
[INFO] [12/06/2012 00:44:10.253] [pool-4-thread-2] [akka://ServicesSpec/user/Services] Register service, Id = Service2, depends on = List()
[INFO] [12/06/2012 00:44:10.253] [pool-4-thread-2] [akka://ServicesSpec/user/Services] Registered services = Set(Service2, Service1)
[INFO] [12/06/2012 00:44:10.255] [pool-4-thread-2] [akka://ServicesSpec/user/Services]  - Service2; startBarrier = List(StartUp), stopBarrier = List(ShutDown)
[INFO] [12/06/2012 00:44:10.255] [pool-4-thread-2] [akka://ServicesSpec/user/Services]  - Service1; startBarrier = List(StartUp), stopBarrier = List(ShutDown)
[INFO] [12/06/2012 00:44:10.256] [pool-4-thread-2] [akka://ServicesSpec/system/testActor17] Expected ref = Actor[akka://ServicesSpec/user/Services/Service1]
[INFO] [12/06/2012 00:44:10.259] [pool-4-thread-2] [akka://ServicesSpec/user/Services] Register service, Id = Service1, depends on = List()
[INFO] [12/06/2012 00:44:10.259] [pool-4-thread-2] [akka://ServicesSpec/user/Services] Register service, Id = Service2, depends on = List()
[INFO] [12/06/2012 00:44:10.259] [pool-4-thread-2] [akka://ServicesSpec/user/Services] Registered services = Set(Service2, Service1)
[INFO] [12/06/2012 00:44:10.260] [pool-4-thread-2] [akka://ServicesSpec/user/Services]  - Service2; startBarrier = List(StartUp), stopBarrier = List(ShutDown)
[INFO] [12/06/2012 00:44:10.260] [pool-4-thread-2] [akka://ServicesSpec/user/Services]  - Service1; startBarrier = List(StartUp), stopBarrier = List(ShutDown)
[INFO] [12/06/2012 00:44:10.260] [pool-4-thread-2] [akka://ServicesSpec/user/Services] Start all services = Set(Service2, Service1)
[INFO] [12/06/2012 00:44:10.263] [pool-4-thread-2] [akka://ServicesSpec/user/Services] Service started = Service1, remaining = Set(Service2)
[INFO] [12/06/2012 00:44:10.263] [pool-4-thread-2] [akka://ServicesSpec/user/Services] Service started = Service2, remaining = Set()
[INFO] [12/06/2012 00:44:10.263] [pool-4-thread-2] [akka://ServicesSpec/user/Services] All services started
[INFO] [12/06/2012 00:44:10.266] [pool-4-thread-2] [akka://ServicesSpec/user/Services] Register service, Id = Service1, depends on = List()
[INFO] [12/06/2012 00:44:10.266] [pool-4-thread-2] [akka://ServicesSpec/user/Services] Register service, Id = Service2, depends on = List()
[INFO] [12/06/2012 00:44:10.266] [pool-4-thread-2] [akka://ServicesSpec/user/Services] Registered services = Set(Service2, Service1)
[INFO] [12/06/2012 00:44:10.266] [pool-4-thread-2] [akka://ServicesSpec/user/Services]  - Service2; startBarrier = List(StartUp), stopBarrier = List(ShutDown)
[INFO] [12/06/2012 00:44:10.266] [pool-4-thread-2] [akka://ServicesSpec/user/Services]  - Service1; startBarrier = List(StartUp), stopBarrier = List(ShutDown)
[INFO] [12/06/2012 00:44:10.267] [pool-4-thread-2] [akka://ServicesSpec/user/Services] Stop all services = Set(Service2, Service1)
[INFO] [12/06/2012 00:44:10.269] [pool-4-thread-2] [akka://ServicesSpec/user/Services] Service stopped = Service1, remaining = Set(Service2)
[INFO] [12/06/2012 00:44:10.269] [pool-4-thread-2] [akka://ServicesSpec/user/Services] Service stopped = Service2, remaining = Set()
[INFO] [12/06/2012 00:44:10.275] [pool-4-thread-2] [akka://ServicesSpec/user/Services] Register service, Id = Service1, depends on = List()
[INFO] [12/06/2012 00:44:10.275] [pool-4-thread-2] [akka://ServicesSpec/user/Services] Register service, Id = Service2, depends on = List()
[INFO] [12/06/2012 00:44:10.277] [pool-4-thread-2] [akka://ServicesSpec/user/Services] Register service, Id = DependentService, depends on = List(Service1, Service2)
[INFO] [12/06/2012 00:44:10.278] [pool-4-thread-2] [akka://ServicesSpec/user/Services] Registered services = Set(DependentService, Service2, Service1)
[INFO] [12/06/2012 00:44:10.278] [pool-4-thread-2] [akka://ServicesSpec/user/Services]  - DependentService; startBarrier = List(StartUp, Service1, Service2), stopBarrier = List(ShutDown)
[INFO] [12/06/2012 00:44:10.278] [pool-4-thread-2] [akka://ServicesSpec/user/Services]  - Service2; startBarrier = List(StartUp), stopBarrier = List(ShutDown, DependentService)
[INFO] [12/06/2012 00:44:10.278] [pool-4-thread-2] [akka://ServicesSpec/user/Services]  - Service1; startBarrier = List(StartUp), stopBarrier = List(ShutDown, DependentService)
[INFO] [12/06/2012 00:44:10.278] [pool-4-thread-2] [akka://ServicesSpec/system/testActor17] Services = Map(DependentService -> ManagedService(Actor[akka://ServicesSpec/user/Services/DependentService],com.ergodicity.engine.Services$Waiting@127e36b,com.ergodicity.engine.Services$Waiting@1c3bdc9), Service2 -> ManagedService(Actor[akka://ServicesSpec/user/Services/Service2],com.ergodicity.engine.Services$Waiting@1e1031c,com.ergodicity.engine.Services$Waiting@19336b1), Service1 -> ManagedService(Actor[akka://ServicesSpec/user/Services/Service1],com.ergodicity.engine.Services$Waiting@1ebcb62,com.ergodicity.engine.Services$Waiting@1758fea))
[INFO] [12/06/2012 00:44:10.279] [pool-4-thread-2] [akka://ServicesSpec/user/Services] Register service, Id = Service1, depends on = List()
[INFO] [12/06/2012 00:44:10.280] [pool-4-thread-2] [akka://ServicesSpec/user/Services] Register service, Id = Service2, depends on = List()
[INFO] [12/06/2012 00:44:10.280] [pool-4-thread-2] [akka://ServicesSpec/user/Services] Register service, Id = DependentService, depends on = List(Service1, Service2)
[INFO] [12/06/2012 00:44:10.280] [pool-4-thread-2] [akka://ServicesSpec/user/Services] Registered services = Set(DependentService, Service2, Service1)
[INFO] [12/06/2012 00:44:10.280] [pool-4-thread-2] [akka://ServicesSpec/user/Services]  - DependentService; startBarrier = List(StartUp, Service1, Service2), stopBarrier = List(ShutDown)
[INFO] [12/06/2012 00:44:10.280] [pool-4-thread-2] [akka://ServicesSpec/user/Services]  - Service2; startBarrier = List(StartUp), stopBarrier = List(ShutDown, DependentService)
[INFO] [12/06/2012 00:44:10.280] [pool-4-thread-2] [akka://ServicesSpec/user/Services]  - Service1; startBarrier = List(StartUp), stopBarrier = List(ShutDown, DependentService)
[INFO] [12/06/2012 00:44:10.280] [pool-4-thread-2] [akka://ServicesSpec/user/Services] Start all services = Set(DependentService, Service2, Service1)
[ERROR] [12/06/2012 00:44:10.329] [InstrumentWatchDogSpec-scheduler-1] [akka://InstrumentWatchDogSpec/user/InstrumentWatchDog] Catching instrument for isin = Isin(GMKR-6.12) timed out
[ERROR] [12/06/2012 00:44:10.329] [InstrumentWatchDogSpec-scheduler-1] [akka://InstrumentWatchDogSpec/user/InstrumentWatchDog] Catching instrument for isin = Isin(GMKR-6.12) timed out
com.ergodicity.engine.strategy.InstrumentWatcherException: Catching instrument for isin = Isin(GMKR-6.12) timed out
	at com.ergodicity.engine.strategy.InstrumentWatchDog$$anonfun$3.apply(InstrumentWatcher.scala:107)
	at com.ergodicity.engine.strategy.InstrumentWatchDog$$anonfun$3.apply(InstrumentWatcher.scala:82)
	at akka.actor.FSM$class.processEvent(FSM.scala:486)
	at com.ergodicity.engine.strategy.InstrumentWatchDog.akka$actor$LoggingFSM$$super$processEvent(InstrumentWatcher.scala:63)
	at akka.actor.LoggingFSM$class.processEvent(FSM.scala:605)
	at com.ergodicity.engine.strategy.InstrumentWatchDog.processEvent(InstrumentWatcher.scala:63)
	at akka.actor.FSM$class.akka$actor$FSM$$processMsg(FSM.scala:480)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:440)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:437)
	at akka.actor.Actor$class.apply(Actor.scala:318)
	at com.ergodicity.engine.strategy.InstrumentWatchDog.apply(InstrumentWatcher.scala:63)
	at akka.actor.ActorCell.invoke(ActorCell.scala:626)
	at akka.testkit.CallingThreadDispatcher.runQueue(CallingThreadDispatcher.scala:235)
	at akka.testkit.CallingThreadDispatcher.dispatch(CallingThreadDispatcher.scala:201)
	at akka.actor.ActorCell.tell(ActorCell.scala:475)
	at akka.actor.LocalActorRef.$bang(ActorRef.scala:328)
	at akka.actor.DefaultScheduler$$anon$5.run(Scheduler.scala:174)
	at org.jboss.netty.akka.util.HashedWheelTimer$HashedWheelTimeout.expire(HashedWheelTimer.java:476)
	at org.jboss.netty.akka.util.HashedWheelTimer$Worker.notifyExpiredTimeouts(HashedWheelTimer.java:381)
	at org.jboss.netty.akka.util.HashedWheelTimer$Worker.run(HashedWheelTimer.java:321)
	at java.lang.Thread.run(Unknown Source)

[INFO] [12/06/2012 00:44:10.535] [pool-4-thread-1] [akka://InstrumentWatchDogSpec/user/InstrumentWatchDog] Catched ongoing session, session id = SessionId(100,100)
[DEBUG] [12/06/2012 00:44:10.536] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-2] [akka://InstrumentWatchDogSpec/user/Session/Options] Get session instrument: FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract); Result = None
[DEBUG] [12/06/2012 00:44:10.537] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-7] [akka://InstrumentWatchDogSpec/user/Session/Futures] Get session instrument: FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract); Result = Some((FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract),Actor[akka://InstrumentWatchDogSpec/user/Session/Futures/GMKR-6.12]))
[INFO] [12/06/2012 00:44:10.537] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-2] [akka://InstrumentWatchDogSpec/user/InstrumentWatchDog] Catched instrument for isin = Isin(GMKR-6.12); ref = InstrumentRef(SessionId(100,100),FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract),Actor[akka://InstrumentWatchDogSpec/user/Session/Futures/GMKR-6.12])
[INFO] [12/06/2012 00:44:10.542] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-2] [akka://InstrumentWatchDogSpec/user/Session/Futures] Start SessionContents
[INFO] [12/06/2012 00:44:10.542] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-4] [akka://InstrumentWatchDogSpec/user/Session/Options] Start SessionContents
[INFO] [12/06/2012 00:44:10.543] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-4] [akka://InstrumentWatchDogSpec/user/Session/Futures/GMKR-6.12] Started instrument for security = FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract)
[INFO] [12/06/2012 00:44:10.613] [pool-4-thread-3] [akka://TrendFollowing/system/testActor14] Primary data = List(RawData(2012-01-01T12:00:00.000+04:00,100.0), RawData(2012-01-01T12:00:50.000+04:00,150.0))
[INFO] [12/06/2012 00:44:10.615] [pool-4-thread-3] [akka://TrendFollowing/system/testActor14] Primary data = List(RawData(2012-01-01T12:00:50.000+04:00,150.0), RawData(2012-01-01T12:01:10.000+04:00,120.0))
[INFO] [12/06/2012 00:44:10.620] [pool-4-thread-3] [akka://TrendFollowing/system/testActor14] regression = PriceSlope(2012-01-01T12:00:00.000+04:00,100,NaN,NaN)
[INFO] [12/06/2012 00:44:10.620] [pool-4-thread-3] [akka://TrendFollowing/system/testActor14] regression = PriceSlope(2012-01-01T12:00:50.000+04:00,150,1.0,NaN)
[INFO] [12/06/2012 00:44:10.620] [pool-4-thread-3] [akka://TrendFollowing/system/testActor14] regression = PriceSlope(2012-01-01T12:01:10.000+04:00,120,-0.9999999999999998,-0.9999999999999998)
[INFO] [12/06/2012 00:44:10.781] [pool-4-thread-2] [akka://ServicesSpec/user/Services] Service started = Service1, remaining = Set(DependentService, Service2)
[INFO] [12/06/2012 00:44:10.782] [pool-4-thread-2] [akka://ServicesSpec/user/Services] Service started = Service2, remaining = Set(DependentService)
[INFO] [12/06/2012 00:44:10.782] [pool-4-thread-2] [akka://ServicesSpec/user/Services] Service started = DependentService, remaining = Set()
[INFO] [12/06/2012 00:44:10.782] [pool-4-thread-2] [akka://ServicesSpec/user/Services] All services started
[INFO] [12/06/2012 00:44:10.791] [pool-4-thread-2] [akka://ServicesSpec/user/Services] Register service, Id = Service1, depends on = List()
[INFO] [12/06/2012 00:44:10.791] [pool-4-thread-2] [akka://ServicesSpec/user/Services] Register service, Id = Service2, depends on = List()
[INFO] [12/06/2012 00:44:10.791] [pool-4-thread-2] [akka://ServicesSpec/user/Services] Register service, Id = DependentService, depends on = List(Service1, Service2)
[INFO] [12/06/2012 00:44:10.791] [pool-4-thread-2] [akka://ServicesSpec/user/Services] Registered services = Set(DependentService, Service2, Service1)
[INFO] [12/06/2012 00:44:10.792] [pool-4-thread-2] [akka://ServicesSpec/user/Services]  - DependentService; startBarrier = List(StartUp, Service1, Service2), stopBarrier = List(ShutDown)
[INFO] [12/06/2012 00:44:10.792] [pool-4-thread-2] [akka://ServicesSpec/user/Services]  - Service2; startBarrier = List(StartUp), stopBarrier = List(ShutDown, DependentService)
[INFO] [12/06/2012 00:44:10.792] [pool-4-thread-2] [akka://ServicesSpec/user/Services]  - Service1; startBarrier = List(StartUp), stopBarrier = List(ShutDown, DependentService)
[INFO] [12/06/2012 00:44:10.792] [pool-4-thread-2] [akka://ServicesSpec/user/Services] Stop all services = Set(DependentService, Service2, Service1)
[info] ConnectionServiceSpec:
[info] ConnectionService 
[info] - must throw exception on error state
[info] - must notify engine on activated state
[info] - must stop itselt of Service.Stop message
[ERROR] [12/06/2012 00:44:10.804] [ConnectionServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://ConnectionServiceSpec/user/ConnectionService/Connection] Connection failed, reason = Shutdown
[DEBUG] [12/06/2012 00:44:10.805] [ConnectionServiceSpec-akka.actor.default-dispatcher-3] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:10.806] [ConnectionServiceSpec-akka.actor.default-dispatcher-3] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:44:10.806] [ConnectionServiceSpec-akka.actor.default-dispatcher-3] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:10.824] [pool-4-thread-4] [EventStream(akka://PortfolioServiceSpec)] logger log1-TestEventListener started
[DEBUG] [12/06/2012 00:44:10.824] [pool-4-thread-4] [EventStream(akka://PortfolioServiceSpec)] Default Loggers started
[INFO] [12/06/2012 00:44:10.843] [pool-4-thread-1] [akka://InstrumentWatchDogSpec/user/InstrumentWatchDog] Catched ongoing session transition, new session id = SessionId(101,101)
[DEBUG] [12/06/2012 00:44:10.843] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-8] [akka://InstrumentWatchDogSpec/user/Session/Options] Get session instrument: FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract); Result = None
[DEBUG] [12/06/2012 00:44:10.843] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-1] [akka://InstrumentWatchDogSpec/user/Session/Futures] Get session instrument: FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract); Result = Some((FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract),Actor[akka://InstrumentWatchDogSpec/user/Session/Futures/GMKR-6.12]))
[INFO] [12/06/2012 00:44:10.843] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-1] [akka://InstrumentWatchDogSpec/user/InstrumentWatchDog] Catched instrument for isin = Isin(GMKR-6.12); ref = InstrumentRef(SessionId(101,101),FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract),Actor[akka://InstrumentWatchDogSpec/user/Session/Futures/GMKR-6.12])
[WARN] [12/06/2012 00:44:10.845] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-8] [akka://InstrumentWatchDogSpec/user/InstrumentWatchDog] received dead letter from Actor[akka://InstrumentWatchDogSpec/user/Session/Futures/GMKR-6.12]: CurrentState(Actor[akka://InstrumentWatchDogSpec/user/Session/Futures/GMKR-6.12],Suspended)
[WARN] [12/06/2012 00:44:10.846] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-8] [akka://InstrumentWatchDogSpec/user/InstrumentWatchDog] received dead letter from Actor[akka://InstrumentWatchDogSpec/user/Session/Futures/GMKR-6.12]: InstrumentUpdated(Actor[akka://InstrumentWatchDogSpec/user/Session/Futures/GMKR-6.12],FutureParameters(100,Limits(100,100)))
[INFO] [12/06/2012 00:44:10.850] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-2] [akka://InstrumentWatchDogSpec/user/Session/Futures] Start SessionContents
[INFO] [12/06/2012 00:44:10.850] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-1] [akka://InstrumentWatchDogSpec/user/Session/Options] Start SessionContents
[INFO] [12/06/2012 00:44:10.850] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-2] [akka://InstrumentWatchDogSpec/user/Session/Futures/GMKR-6.12] Started instrument for security = FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract)
[INFO] [12/06/2012 00:44:10.867] [pool-4-thread-4] [akka://PortfolioServiceSpec/user/Portfolio] Start Portfolio service
[WARN] [12/06/2012 00:44:10.868] [PortfolioServiceSpec-akka.actor.default-dispatcher-2] [akka://PortfolioServiceSpec/deadLetters] received dead letter from TestActor[akka://PortfolioServiceSpec/user/Portfolio]: SubscribeOngoingSessions(TestActor[akka://PortfolioServiceSpec/user/Portfolio])
[DEBUG] [12/06/2012 00:44:10.868] [PortfolioServiceSpec-akka.actor.default-dispatcher-4] [akka://PortfolioServiceSpec/user/Portfolio/Positions] Assigned contents; Size = 0
[INFO] [12/06/2012 00:44:10.868] [PortfolioServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://PortfolioServiceSpec/user/Portfolio/PosListener] Open listener with config = mode=snapshot+online
[INFO] [12/06/2012 00:44:10.974] [pool-4-thread-4] [akka://PortfolioServiceSpec/user/Portfolio] Stop Portfolio service
[WARN] [12/06/2012 00:44:10.975] [PortfolioServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://PortfolioServiceSpec/user/Portfolio/PosListener] unhandled event Close in state Closed
[INFO] [12/06/2012 00:44:10.975] [PortfolioServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://PortfolioServiceSpec/user/Portfolio/PosListener] Dispose listener
[ERROR] [12/06/2012 00:44:10.976] [PortfolioServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://PortfolioServiceSpec/user/Portfolio/PosListener] Disposed
[ERROR] [12/06/2012 00:44:10.976] [PortfolioServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://PortfolioServiceSpec/user/Portfolio/PosListener] Listener failed, reason = Failure(Disposed)
[info] PortfolioServiceSpec:
[info] Portfolio Service 
[info] - must initizlied in idle state
[info] - must start service
[info]   + When receive start message 
[info]   + Then should wait for ongoing session & assigned contents 
[info]   + When got assigned contents 
[info]   + Then go to Starting state 
[info]   + When Pos data stream goes online 
[info]   + Then service shoud be started 
[info]   + And Service Manager should be notified 
[info] - must stop service
[info]   + When receive Stop message 
[info]   + Then should go to Stopping state 
[info]   + When Pos stream closed 
[info]   + Then service shoud be stopped 
[info]   + And service Manager should be notified 
[DEBUG] [12/06/2012 00:44:10.981] [PortfolioServiceSpec-akka.actor.default-dispatcher-4] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:10.981] [PortfolioServiceSpec-akka.actor.default-dispatcher-4] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:10.982] [PortfolioServiceSpec-akka.actor.default-dispatcher-4] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:44:10.998] [pool-4-thread-4] [EventStream(akka://CoverAllPositionsSpec)] logger log1-TestEventListener started
[DEBUG] [12/06/2012 00:44:10.998] [pool-4-thread-4] [EventStream(akka://CoverAllPositionsSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:44:11.7] [CoverAllPositionsSpec-akka.actor.default-dispatcher-2] [akka://CoverAllPositionsSpec/user/$a] Assigned contents; Size = 2
[DEBUG] [12/06/2012 00:44:11.7] [CoverAllPositionsSpec-akka.actor.default-dispatcher-2] [akka://CoverAllPositionsSpec/user/$a] Position updated; Security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1)
[DEBUG] [12/06/2012 00:44:11.8] [CoverAllPositionsSpec-akka.actor.default-dispatcher-2] [akka://CoverAllPositionsSpec/user/$a] Position updated; Security = FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2)
[INFO] [12/06/2012 00:44:11.8] [CoverAllPositionsSpec-akka.actor.default-dispatcher-3] [akka://CoverAllPositionsSpec/user/$a/RTS-9.12] Opened position; Security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1)
[DEBUG] [12/06/2012 00:44:11.8] [CoverAllPositionsSpec-akka.actor.default-dispatcher-3] [akka://CoverAllPositionsSpec/user/$a/RTS-9.12] Position updated to Position(1), dynamics = PositionDynamics(0,1,0,0,None)
[WARN] [12/06/2012 00:44:11.8] [CoverAllPositionsSpec-akka.actor.default-dispatcher-3] [akka://CoverAllPositionsSpec/deadLetters] received dead letter from Actor[akka://CoverAllPositionsSpec/user/$b/FutInfoDispatcher]: SubscribeStreamEvents(Actor[akka://CoverAllPositionsSpec/user/$b/FutInfoDispatcher])
[INFO] [12/06/2012 00:44:11.9] [CoverAllPositionsSpec-akka.actor.default-dispatcher-3] [akka://CoverAllPositionsSpec/user/$a/RTS-12.12] Opened position; Security = FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2)
[DEBUG] [12/06/2012 00:44:11.9] [CoverAllPositionsSpec-akka.actor.default-dispatcher-3] [akka://CoverAllPositionsSpec/user/$a/RTS-12.12] Position updated to Position(-3), dynamics = PositionDynamics(0,5,8,0,None)
[WARN] [12/06/2012 00:44:11.9] [CoverAllPositionsSpec-akka.actor.default-dispatcher-3] [akka://CoverAllPositionsSpec/deadLetters] received dead letter from Actor[akka://CoverAllPositionsSpec/user/$b/OptInfoDispatcher]: SubscribeStreamEvents(Actor[akka://CoverAllPositionsSpec/user/$b/OptInfoDispatcher])
[INFO] [12/06/2012 00:44:11.9] [CoverAllPositionsSpec-akka.actor.default-dispatcher-4] [akka://CoverAllPositionsSpec/user/$b] Start session tracking
[INFO] [12/06/2012 00:44:11.9] [CoverAllPositionsSpec-akka.actor.default-dispatcher-4] [akka://CoverAllPositionsSpec/user/$b] Synchonized event = SynchronizedEvent(SessionDataReady(1,100),SessionDataReady(1,100))
[INFO] [12/06/2012 00:44:11.10] [CoverAllPositionsSpec-akka.actor.default-dispatcher-8] [akka://CoverAllPositionsSpec/user/$b/100/Futures] Start SessionContents
[INFO] [12/06/2012 00:44:11.10] [CoverAllPositionsSpec-akka.actor.default-dispatcher-4] [akka://CoverAllPositionsSpec/user/$b/100/Options] Start SessionContents
[INFO] [12/06/2012 00:44:11.11] [CoverAllPositionsSpec-akka.actor.default-dispatcher-5] [akka://CoverAllPositionsSpec/user/$b/100/Futures/RTS-9.12] Started instrument for security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1)
[INFO] [12/06/2012 00:44:11.11] [CoverAllPositionsSpec-akka.actor.default-dispatcher-4] [akka://CoverAllPositionsSpec/user/$b/100/Futures/RTS-12.12] Started instrument for security = FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2)
[INFO] [12/06/2012 00:44:11.12] [pool-4-thread-4] [akka://CoverAllPositionsSpec/user/CoverPositions] Started CoverPositions
[DEBUG] [12/06/2012 00:44:11.12] [pool-4-thread-4] [akka://CoverAllPositionsSpec/user/CoverPositions] Going to cover positions = Map(FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1) -> Position(1), FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2) -> Position(-3))
[DEBUG] [12/06/2012 00:44:11.16] [CoverAllPositionsSpec-akka.actor.default-dispatcher-6] [akka://CoverAllPositionsSpec/user/$c] Assigned contents; Size = 2
[DEBUG] [12/06/2012 00:44:11.16] [CoverAllPositionsSpec-akka.actor.default-dispatcher-6] [akka://CoverAllPositionsSpec/user/$c] Position updated; Security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1)
[INFO] [12/06/2012 00:44:11.16] [CoverAllPositionsSpec-akka.actor.default-dispatcher-3] [akka://CoverAllPositionsSpec/user/$d] Start session tracking
[INFO] [12/06/2012 00:44:11.16] [CoverAllPositionsSpec-akka.actor.default-dispatcher-3] [akka://CoverAllPositionsSpec/user/$d] Synchonized event = SynchronizedEvent(SessionDataReady(1,100),SessionDataReady(1,100))
[WARN] [12/06/2012 00:44:11.16] [CoverAllPositionsSpec-akka.actor.default-dispatcher-7] [akka://CoverAllPositionsSpec/deadLetters] received dead letter from Actor[akka://CoverAllPositionsSpec/user/$d/FutInfoDispatcher]: SubscribeStreamEvents(Actor[akka://CoverAllPositionsSpec/user/$d/FutInfoDispatcher])
[INFO] [12/06/2012 00:44:11.16] [CoverAllPositionsSpec-akka.actor.default-dispatcher-7] [akka://CoverAllPositionsSpec/user/$c/RTS-9.12] Opened position; Security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1)
[WARN] [12/06/2012 00:44:11.17] [CoverAllPositionsSpec-akka.actor.default-dispatcher-7] [akka://CoverAllPositionsSpec/deadLetters] received dead letter from Actor[akka://CoverAllPositionsSpec/user/$d/OptInfoDispatcher]: SubscribeStreamEvents(Actor[akka://CoverAllPositionsSpec/user/$d/OptInfoDispatcher])
[DEBUG] [12/06/2012 00:44:11.17] [CoverAllPositionsSpec-akka.actor.default-dispatcher-2] [akka://CoverAllPositionsSpec/user/$c/RTS-9.12] Position updated to Position(1), dynamics = PositionDynamics(0,1,0,0,None)
[DEBUG] [12/06/2012 00:44:11.17] [CoverAllPositionsSpec-akka.actor.default-dispatcher-6] [akka://CoverAllPositionsSpec/user/$c] Position updated; Security = FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2)
[INFO] [12/06/2012 00:44:11.17] [CoverAllPositionsSpec-akka.actor.default-dispatcher-6] [akka://CoverAllPositionsSpec/user/$c/RTS-12.12] Opened position; Security = FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2)
[DEBUG] [12/06/2012 00:44:11.17] [CoverAllPositionsSpec-akka.actor.default-dispatcher-6] [akka://CoverAllPositionsSpec/user/$c/RTS-12.12] Position updated to Position(-3), dynamics = PositionDynamics(0,5,8,0,None)
[INFO] [12/06/2012 00:44:11.17] [CoverAllPositionsSpec-akka.actor.default-dispatcher-10] [akka://CoverAllPositionsSpec/user/$d/100/Futures] Start SessionContents
[INFO] [12/06/2012 00:44:11.18] [CoverAllPositionsSpec-akka.actor.default-dispatcher-3] [akka://CoverAllPositionsSpec/user/$d/100/Options] Start SessionContents
[INFO] [12/06/2012 00:44:11.18] [CoverAllPositionsSpec-akka.actor.default-dispatcher-3] [akka://CoverAllPositionsSpec/user/$d/100/Futures/RTS-9.12] Started instrument for security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1)
[INFO] [12/06/2012 00:44:11.18] [CoverAllPositionsSpec-akka.actor.default-dispatcher-10] [akka://CoverAllPositionsSpec/user/$d/100/Futures/RTS-12.12] Started instrument for security = FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2)
[INFO] [12/06/2012 00:44:11.19] [pool-4-thread-4] [akka://CoverAllPositionsSpec/user/CoverPositions] Started CoverPositions
[DEBUG] [12/06/2012 00:44:11.19] [pool-4-thread-4] [akka://CoverAllPositionsSpec/user/CoverPositions] Going to cover positions = Map(FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1) -> Position(1), FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2) -> Position(-3))
[INFO] [12/06/2012 00:44:11.20] [pool-4-thread-4] [akka://CoverAllPositionsSpec/user/CoverPositions] Start strategy. Positions to cover = Map(FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1) -> Position(1), FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2) -> Position(-3))
[INFO] [12/06/2012 00:44:11.22] [CoverAllPositionsSpec-akka.actor.default-dispatcher-10] [akka://CoverAllPositionsSpec/user/CoverPositions/WatchDog-RTS-9.12] Catched ongoing session, session id = SessionId(100,100)
[INFO] [12/06/2012 00:44:11.22] [CoverAllPositionsSpec-akka.actor.default-dispatcher-5] [akka://CoverAllPositionsSpec/user/CoverPositions/WatchDog-RTS-12.12] Catched ongoing session, session id = SessionId(100,100)
[DEBUG] [12/06/2012 00:44:11.22] [CoverAllPositionsSpec-akka.actor.default-dispatcher-8] [akka://CoverAllPositionsSpec/user/$d/100/Options] Get session instrument: FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1); Result = None
[DEBUG] [12/06/2012 00:44:11.22] [CoverAllPositionsSpec-akka.actor.default-dispatcher-8] [akka://CoverAllPositionsSpec/user/$d/100/Options] Get session instrument: FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2); Result = None
[DEBUG] [12/06/2012 00:44:11.22] [CoverAllPositionsSpec-akka.actor.default-dispatcher-4] [akka://CoverAllPositionsSpec/user/$d/100/Futures] Get session instrument: FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1); Result = Some((FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1),Actor[akka://CoverAllPositionsSpec/user/$d/100/Futures/RTS-9.12]))
[DEBUG] [12/06/2012 00:44:11.22] [CoverAllPositionsSpec-akka.actor.default-dispatcher-4] [akka://CoverAllPositionsSpec/user/$d/100/Futures] Get session instrument: FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2); Result = Some((FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2),Actor[akka://CoverAllPositionsSpec/user/$d/100/Futures/RTS-12.12]))
[INFO] [12/06/2012 00:44:11.23] [CoverAllPositionsSpec-akka.actor.default-dispatcher-11] [akka://CoverAllPositionsSpec/user/CoverPositions/WatchDog-RTS-12.12] Catched instrument for isin = Isin(RTS-12.12); ref = InstrumentRef(null,FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2),Actor[akka://CoverAllPositionsSpec/user/$d/100/Futures/RTS-12.12])
[INFO] [12/06/2012 00:44:11.23] [CoverAllPositionsSpec-akka.actor.default-dispatcher-11] [akka://CoverAllPositionsSpec/user/CoverPositions] Catched assigned instrument; Isin = Isin(RTS-12.12), session = null, security = FutureContract(IsinId(101),Isin(RTS-12.12),ShortIsisn(),Future Contract #2)
[INFO] [12/06/2012 00:44:11.24] [CoverAllPositionsSpec-akka.actor.default-dispatcher-8] [akka://CoverAllPositionsSpec/user/CoverPositions/WatchDog-RTS-9.12] Catched instrument for isin = Isin(RTS-9.12); ref = InstrumentRef(null,FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1),Actor[akka://CoverAllPositionsSpec/user/$d/100/Futures/RTS-9.12])
[INFO] [12/06/2012 00:44:11.52] [CoverAllPositionsSpec-akka.actor.default-dispatcher-8] [akka://CoverAllPositionsSpec/user/CoverPositions] Catched assigned instrument; Isin = Isin(RTS-9.12), session = null, security = FutureContract(IsinId(100),Isin(RTS-9.12),ShortIsisn(),Future Contract #1)
[INFO] [12/06/2012 00:44:11.62] [pool-4-thread-4] [akka://CoverAllPositionsSpec/user/CoverPositions] Positions covered
[info] CoverAllPositionsSpec:
[info] Close All Positions 
[info] - must load all current positions
[info] - must close positions
[info]   + When get execution reports 
[info]   + Then should subscribe for order events 
[info]   + When orders filled 
[info]   + Then should go to PositionsCovered state 
[DEBUG] [12/06/2012 00:44:11.65] [CoverAllPositionsSpec-akka.actor.default-dispatcher-10] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:11.65] [CoverAllPositionsSpec-akka.actor.default-dispatcher-10] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:11.65] [CoverAllPositionsSpec-akka.actor.default-dispatcher-10] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:44:11.71] [pool-4-thread-4] [EventStream(akka://TradingServiceSpec)] logger log1-TestEventListener started
[DEBUG] [12/06/2012 00:44:11.71] [pool-4-thread-4] [EventStream(akka://TradingServiceSpec)] Default Loggers started
[WARN] [12/06/2012 00:44:11.87] [pool-4-thread-4] [Dispatchers] Dispatcher [engine.dispatchers.publisherDispatcher] not configured, using default-dispatcher
[INFO] [12/06/2012 00:44:11.95] [pool-4-thread-2] [akka://ServicesSpec/user/Services] Service stopped = DependentService, remaining = Set(Service2, Service1)
[INFO] [12/06/2012 00:44:11.95] [pool-4-thread-2] [akka://ServicesSpec/user/Services] Service stopped = Service1, remaining = Set(Service2)
[INFO] [12/06/2012 00:44:11.95] [pool-4-thread-2] [akka://ServicesSpec/user/Services] Service stopped = Service2, remaining = Set()
[INFO] [12/06/2012 00:44:11.101] [pool-4-thread-2] [akka://ServicesSpec/user/Services] Register service, Id = Service1, depends on = List()
[INFO] [12/06/2012 00:44:11.101] [pool-4-thread-2] [akka://ServicesSpec/user/Services] Register service, Id = Service2, depends on = List()
[INFO] [12/06/2012 00:44:11.101] [pool-4-thread-2] [akka://ServicesSpec/user/Services] Register service, Id = DependentService, depends on = List(Service1, Service2)
[INFO] [12/06/2012 00:44:11.101] [pool-4-thread-2] [akka://ServicesSpec/user/Services] Registered services = Set(DependentService, Service2, Service1)
[INFO] [12/06/2012 00:44:11.101] [pool-4-thread-2] [akka://ServicesSpec/user/Services]  - DependentService; startBarrier = List(StartUp, Service1, Service2), stopBarrier = List(ShutDown)
[INFO] [12/06/2012 00:44:11.101] [pool-4-thread-2] [akka://ServicesSpec/user/Services]  - Service2; startBarrier = List(StartUp), stopBarrier = List(ShutDown, DependentService)
[INFO] [12/06/2012 00:44:11.101] [pool-4-thread-2] [akka://ServicesSpec/user/Services]  - Service1; startBarrier = List(StartUp), stopBarrier = List(ShutDown, DependentService)
[INFO] [12/06/2012 00:44:11.106] [pool-4-thread-2] [akka://ServicesSpec/user/Services] Registered services = Set()
[INFO] [12/06/2012 00:44:11.116] [pool-4-thread-2] [akka://ServicesSpec/user/Services] Register service, Id = DependentService, depends on = List(Service1)
[ERROR] [12/06/2012 00:44:11.116] [pool-4-thread-2] [akka://ServicesSpec/user/Services] Missing required service = Service1, for DependentService
[info] ServicesSpec:
[info] Services Manager 
[info] - must get registered service
[info] - must start all registered without additional dependencies services
[info]   + Given Service Manager with two registered services: Service1 and Service2 
[info]   + When service manager starts all services 
[info]   + Then each service get Start message 
[info]   + When Service1 started 
[info]   + And Service2 started 
[info]   + Then Service Manager should go to Active state 
[info] - must stop all registered without additional dependencies services
[info]   + Given Service Manager with two registered services: Service1 and Service2 
[info]   + When Servie Manager stops all services 
[info]   + Then should go to Stopping state 
[info]   + And each service get Stop message 
[info]   + When Service1 stopped 
[info]   + And Service2 stopped 
[info]   + Then Service Manager should be termindated 
[info] - must register service with dependency
[info] - must start all registered services according to their dependencies
[info]   + Given Service Manager with three services 
[info]   + When service manager starts all services 
[info]   + Then Service1 & Service2 get Start message 
[info]   + And Dependent service get no messages 
[info]   + When Service1 started 
[info]   + And Service2 started 
[info]   + Then Dependent service get Start message 
[info]   + When last service started 
[info]   + Then Service Manager goes to Active state 
[info] - must stop all registered services according to their dependencies
[info]   + Given Service Manager with three services 
[info]   + When service manager starts all services 
[info]   + Then Dependent service get Stop message 
[info]   + And Service1 & Service2 get no messages 
[info]   + When Dependent service stopped started 
[info]   + Then Service2 & Service2 get Stop message 
[info]   + When all services Stopped 
[info]   + Then Service Manager should stop itself 
[info] - must stop itself on Timed out in Stopping state
[info] - must fail to register Service if dependency is not provided
[DEBUG] [12/06/2012 00:44:11.117] [ServicesSpec-akka.actor.default-dispatcher-2] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:11.117] [ServicesSpec-akka.actor.default-dispatcher-2] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:11.118] [ServicesSpec-akka.actor.default-dispatcher-2] [EventStream] all default loggers stopped
[INFO] [12/06/2012 00:44:11.126] [pool-4-thread-4] [akka://TradingServiceSpec/user/TradingService] Start Trading service
[WARN] [12/06/2012 00:44:11.126] [TradingServiceSpec-akka.actor.default-dispatcher-2] [akka://TradingServiceSpec/deadLetters] received dead letter from TestActor[akka://TradingServiceSpec/user/TradingService]: SubscribeOngoingSessions(Actor[akka://TradingServiceSpec/user/TradingService/OrdersTracking])
[info] Passed: : Total 97, Failed 0, Errors 0, Passed 97, Skipped 0
[error] Error: Total 19, Failed 0, Errors 0, Passed 19, Skipped 0
[error] Error during tests:
[error] 	com.ergodicity.capture.MarketCaptureSpec
[INFO] [12/06/2012 00:44:11.130] [pool-4-thread-4] [akka://TradingServiceSpec/user/TradingService] Start Trading service
[WARN] [12/06/2012 00:44:11.130] [TradingServiceSpec-akka.actor.default-dispatcher-1] [akka://TradingServiceSpec/deadLetters] received dead letter from TestActor[akka://TradingServiceSpec/user/TradingService]: SubscribeOngoingSessions(Actor[akka://TradingServiceSpec/user/TradingService/OrdersTracking])
[INFO] [12/06/2012 00:44:11.130] [pool-4-thread-4] [akka://TradingServiceSpec/user/TradingService] Start Trading service
[INFO] [12/06/2012 00:44:11.131] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/TradingService/FutOrdersListener] Open listener with config = mode=snapshot+online
[INFO] [12/06/2012 00:44:11.132] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/TradingService/OptOrdersListener] Open listener with config = mode=snapshot+online
[INFO] [12/06/2012 00:44:11.132] [TradingServiceSpec-akka.actor.default-dispatcher-3] [akka://TradingServiceSpec/user/TradingService/Broker] Open publisher
[INFO] [12/06/2012 00:44:11.133] [TradingServiceSpec-akka.actor.default-dispatcher-3] [akka://TradingServiceSpec/user/TradingService/RepliesListener] Open listener with config = 
[WARN] [12/06/2012 00:44:11.133] [TradingServiceSpec-akka.actor.default-dispatcher-7] [akka://TradingServiceSpec/user/TradingService] unhandled event CurrentState(Actor[akka://TradingServiceSpec/user/TradingService/FutOrdersStream],Closed) in state Started
[INFO] [12/06/2012 00:44:11.137] [pool-4-thread-4] [akka://TradingServiceSpec/user/TradingService] Start Trading service
[WARN] [12/06/2012 00:44:11.137] [TradingServiceSpec-akka.actor.default-dispatcher-3] [akka://TradingServiceSpec/deadLetters] received dead letter from TestActor[akka://TradingServiceSpec/user/TradingService]: SubscribeOngoingSessions(Actor[akka://TradingServiceSpec/user/TradingService/OrdersTracking])
[INFO] [12/06/2012 00:44:11.137] [pool-4-thread-4] [akka://TradingServiceSpec/user/TradingService] Stop Trading service
[WARN] [12/06/2012 00:44:11.138] [TradingServiceSpec-akka.actor.default-dispatcher-7] [akka://TradingServiceSpec/user/TradingService/RepliesListener] unhandled event Close in state Closed
[WARN] [12/06/2012 00:44:11.138] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/TradingService/FutOrdersListener] unhandled event Close in state Closed
[WARN] [12/06/2012 00:44:11.139] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/TradingService/OptOrdersListener] unhandled event Close in state Closed
[INFO] [12/06/2012 00:44:11.140] [TradingServiceSpec-akka.actor.default-dispatcher-10] [akka://TradingServiceSpec/user/TradingService/RepliesListener] Dispose listener
[INFO] [12/06/2012 00:44:11.140] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/TradingService/FutOrdersListener] Dispose listener
[ERROR] [12/06/2012 00:44:11.140] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/TradingService/FutOrdersListener] Disposed
[ERROR] [12/06/2012 00:44:11.140] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/TradingService/FutOrdersListener] Listener failed, reason = Failure(Disposed)
[WARN] [12/06/2012 00:44:11.141] [TradingServiceSpec-akka.actor.default-dispatcher-11] [akka://TradingServiceSpec/user/TradingService/Broker] unhandled event Close in state Closed
[ERROR] [12/06/2012 00:44:11.141] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/TradingService/OptOrdersListener] Listener failed, reason = Shutdown
[WARN] [12/06/2012 00:44:11.141] [TradingServiceSpec-akka.actor.default-dispatcher-6] [akka://TradingServiceSpec/user/TradingService/OptOrdersListener] received dead letter from TestActor[akka://TradingServiceSpec/user/TradingService]: Dispose
[ERROR] [12/06/2012 00:44:11.141] [TradingServiceSpec-akka.actor.default-dispatcher-11] [akka://TradingServiceSpec/user/TradingService/Broker] Publisher failed, reason = Shutdown
[WARN] [12/06/2012 00:44:11.141] [TradingServiceSpec-akka.actor.default-dispatcher-6] [akka://TradingServiceSpec/user/TradingService/Broker] received dead letter from TestActor[akka://TradingServiceSpec/user/TradingService]: Dispose
[ERROR] [12/06/2012 00:44:11.142] [TradingServiceSpec-akka.actor.default-dispatcher-10] [akka://TradingServiceSpec/user/TradingService/RepliesListener] Disposed
[ERROR] [12/06/2012 00:44:11.142] [TradingServiceSpec-akka.actor.default-dispatcher-10] [akka://TradingServiceSpec/user/TradingService/RepliesListener] Listener failed, reason = Failure(Disposed)
[INFO] [12/06/2012 00:44:11.150] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-7] [akka://InstrumentWatchDogSpec/user/$$f/InstrumentWatchDog] Catched ongoing session, session id = SessionId(100,100)
[DEBUG] [12/06/2012 00:44:11.150] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-7] [akka://InstrumentWatchDogSpec/user/Session/Futures] Get session instrument: FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract); Result = Some((FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract),Actor[akka://InstrumentWatchDogSpec/user/Session/Futures/GMKR-6.12]))
[DEBUG] [12/06/2012 00:44:11.150] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-7] [akka://InstrumentWatchDogSpec/user/Session/Options] Get session instrument: FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract); Result = None
[INFO] [12/06/2012 00:44:11.151] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-7] [akka://InstrumentWatchDogSpec/user/$$f/InstrumentWatchDog] Catched instrument for isin = Isin(GMKR-6.12); ref = InstrumentRef(SessionId(100,100),FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract),Actor[akka://InstrumentWatchDogSpec/user/Session/Futures/GMKR-6.12])
[INFO] [12/06/2012 00:44:11.153] [pool-4-thread-4] [akka://TradingServiceSpec/user/TradingService] Start Trading service
[WARN] [12/06/2012 00:44:11.153] [TradingServiceSpec-akka.actor.default-dispatcher-10] [akka://TradingServiceSpec/deadLetters] received dead letter from TestActor[akka://TradingServiceSpec/user/TradingService]: SubscribeOngoingSessions(TestActor[akka://TradingServiceSpec/user/OrderTracker])
[ERROR] [12/06/2012 00:44:11.153] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-2] [akka://InstrumentWatchDogSpec/user/$$f/InstrumentWatchDog] Watched instrument unexpectedly terminated
com.ergodicity.engine.strategy.InstrumentWatcherException: Watched instrument unexpectedly terminated
	at com.ergodicity.engine.strategy.InstrumentWatchDog$$anonfun$5.apply(InstrumentWatcher.scala:123)
	at com.ergodicity.engine.strategy.InstrumentWatchDog$$anonfun$5.apply(InstrumentWatcher.scala:117)
	at scala.PartialFunction$$anon$1.apply(PartialFunction.scala:75)
	at akka.actor.FSM$class.processEvent(FSM.scala:489)
	at com.ergodicity.engine.strategy.InstrumentWatchDog.akka$actor$LoggingFSM$$super$processEvent(InstrumentWatcher.scala:63)
	at akka.actor.LoggingFSM$class.processEvent(FSM.scala:605)
	at com.ergodicity.engine.strategy.InstrumentWatchDog.processEvent(InstrumentWatcher.scala:63)
	at akka.actor.FSM$class.akka$actor$FSM$$processMsg(FSM.scala:480)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:474)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:437)
	at akka.actor.Actor$class.apply(Actor.scala:318)
	at com.ergodicity.engine.strategy.InstrumentWatchDog.apply(InstrumentWatcher.scala:63)
	at akka.actor.ActorCell.invoke(ActorCell.scala:626)
	at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:197)
	at akka.dispatch.Mailbox.run(Mailbox.scala:179)
	at akka.dispatch.ForkJoinExecutorConfigurator$MailboxExecutionTask.exec(AbstractDispatcher.scala:516)
	at akka.jsr166y.ForkJoinTask.doExec(ForkJoinTask.java:259)
	at akka.jsr166y.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:975)
	at akka.jsr166y.ForkJoinPool.runWorker(ForkJoinPool.java:1479)
	at akka.jsr166y.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:104)

[INFO] [12/06/2012 00:44:11.157] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-8] [akka://InstrumentWatchDogSpec/user/Session/Futures] Start SessionContents
[INFO] [12/06/2012 00:44:11.157] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-2] [akka://InstrumentWatchDogSpec/user/Session/Options] Start SessionContents
[INFO] [12/06/2012 00:44:11.157] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-4] [akka://InstrumentWatchDogSpec/user/Session/Futures/GMKR-6.12] Started instrument for security = FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract)
[INFO] [12/06/2012 00:44:11.173] [pool-4-thread-4] [akka://TradingServiceSpec/system/testActor38] Buy Report = OrderExecution(security = FutureContract(IsinId(100),Isin(Isin),ShortIsisn(Short),), order = Mock for Order, hashCode: 15801405)
[INFO] [12/06/2012 00:44:11.175] [pool-4-thread-4] [akka://TradingServiceSpec/system/testActor38] Sell Report = OrderExecution(security = FutureContract(IsinId(100),Isin(Isin),ShortIsisn(Short),), order = Mock for Order, hashCode: 26587345)
[ERROR] [12/06/2012 00:44:11.177] [TradingServiceSpec-akka.actor.default-dispatcher-4] [akka://TradingServiceSpec/user/TradingService/Broker] Publisher failed, reason = Shutdown
[ERROR] [12/06/2012 00:44:11.177] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/TradingService/FutOrdersListener] Listener failed, reason = Shutdown
[ERROR] [12/06/2012 00:44:11.177] [TradingServiceSpec-akka.actor.default-dispatcher-2] [akka://TradingServiceSpec/user/TradingService/RepliesListener] Listener failed, reason = Shutdown
[ERROR] [12/06/2012 00:44:11.177] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/TradingService/OptOrdersListener] Listener failed, reason = Shutdown
[DEBUG] [12/06/2012 00:44:11.178] [TradingServiceSpec-akka.actor.default-dispatcher-4] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:11.178] [TradingServiceSpec-akka.actor.default-dispatcher-4] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:11.178] [TradingServiceSpec-akka.actor.default-dispatcher-4] [EventStream] all default loggers stopped
[ERROR] [12/06/2012 00:44:11.179] [TradingServiceSpec-akka.actor.default-dispatcher-1] [akka://TradingServiceSpec/user/TradingService/OrdersTracking] Time out with receiving OngoingSession
com.ergodicity.core.order.OrdersTrackingException: Time out with receiving OngoingSession
	at com.ergodicity.core.order.OrdersTracking$$anonfun$3.apply(OrdersTracking.scala:58)
	at com.ergodicity.core.order.OrdersTracking$$anonfun$3.apply(OrdersTracking.scala:55)
	at akka.actor.FSM$class.processEvent(FSM.scala:486)
	at com.ergodicity.core.order.OrdersTracking.akka$actor$LoggingFSM$$super$processEvent(OrdersTracking.scala:39)
	at akka.actor.LoggingFSM$class.processEvent(FSM.scala:605)
	at com.ergodicity.core.order.OrdersTracking.processEvent(OrdersTracking.scala:39)
	at akka.actor.FSM$class.akka$actor$FSM$$processMsg(FSM.scala:480)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:440)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:437)
	at akka.actor.Actor$class.apply(Actor.scala:318)
	at com.ergodicity.core.order.OrdersTracking.apply(OrdersTracking.scala:39)
	at akka.actor.ActorCell.invoke(ActorCell.scala:626)
	at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:197)
	at akka.dispatch.Mailbox.run(Mailbox.scala:179)
	at akka.dispatch.ForkJoinExecutorConfigurator$MailboxExecutionTask.exec(AbstractDispatcher.scala:516)
	at akka.jsr166y.ForkJoinTask.doExec(ForkJoinTask.java:259)
	at akka.jsr166y.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:975)
	at akka.jsr166y.ForkJoinPool.runWorker(ForkJoinPool.java:1479)
	at akka.jsr166y.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:104)

[info] TradingServiceSpec:
[info] Trading Service 
[info] - must initialized in Idle state
[info] - must start service
[info]   + Given Trading service 
[info]   + When receive Start message 
[info]   + When should go to Starting state 
[info]   + When broker Active and both streams goes Online 
[info]   + Then service shoud be started 
[info]   + And Service Manager should be notified 
[info] - must stop service
[info]   + Given Trading service in started state 
[info]   + When receive Stop message 
[info]   + When should go to Stopping state 
[info]   + When broker Closed and both streams Closed too 
[info]   + Then service shoud be stopped 
[info]   + And Service Manager should be notified 
[info] - must buy & sell future
[info]   + Given Trading service in started state 
[info]   + When receive buy command 
[info]   + Then should return OrderExecution 
[info]   + When receive Sell command 
[info]   + Then should return OrderExecution 
[ERROR] [12/06/2012 00:44:11.179] [TradingServiceSpec-akka.actor.default-dispatcher-6] [akka://TradingServiceSpec/user/TradingService/OrdersTracking] Time out with receiving OngoingSession
com.ergodicity.core.order.OrdersTrackingException: Time out with receiving OngoingSession
	at com.ergodicity.core.order.OrdersTracking$$anonfun$3.apply(OrdersTracking.scala:58)
	at com.ergodicity.core.order.OrdersTracking$$anonfun$3.apply(OrdersTracking.scala:55)
	at akka.actor.FSM$class.processEvent(FSM.scala:486)
	at com.ergodicity.core.order.OrdersTracking.akka$actor$LoggingFSM$$super$processEvent(OrdersTracking.scala:39)
	at akka.actor.LoggingFSM$class.processEvent(FSM.scala:605)
	at com.ergodicity.core.order.OrdersTracking.processEvent(OrdersTracking.scala:39)
	at akka.actor.FSM$class.akka$actor$FSM$$processMsg(FSM.scala:480)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:440)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:437)
	at akka.actor.Actor$class.apply(Actor.scala:318)
	at com.ergodicity.core.order.OrdersTracking.apply(OrdersTracking.scala:39)
	at akka.actor.ActorCell.invoke(ActorCell.scala:626)
	at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:197)
	at akka.dispatch.Mailbox.run(Mailbox.scala:179)
	at akka.dispatch.ForkJoinExecutorConfigurator$MailboxExecutionTask.exec(AbstractDispatcher.scala:516)
	at akka.jsr166y.ForkJoinTask.doExec(ForkJoinTask.java:259)
	at akka.jsr166y.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:975)
	at akka.jsr166y.ForkJoinPool.runWorker(ForkJoinPool.java:1479)
	at akka.jsr166y.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:104)

[ERROR] [12/06/2012 00:44:11.180] [TradingServiceSpec-akka.actor.default-dispatcher-1] [akka://TradingServiceSpec/user/TradingService/OrdersTracking] error while creating actor
java.lang.IllegalStateException: cannot be started once stopped
	at org.jboss.netty.akka.util.HashedWheelTimer.start(HashedWheelTimer.java:192)
	at org.jboss.netty.akka.util.HashedWheelTimer.newTimeout(HashedWheelTimer.java:260)
	at akka.actor.DefaultScheduler.scheduleOnce(Scheduler.scala:177)
	at akka.actor.FSM$class.makeTransition(FSM.scala:519)
	at com.ergodicity.core.order.OrdersTracking.makeTransition(OrdersTracking.scala:39)
	at akka.actor.FSM$class.initialize(FSM.scala:355)
	at com.ergodicity.core.order.OrdersTracking.initialize(OrdersTracking.scala:39)
	at com.ergodicity.core.order.OrdersTracking.<init>(OrdersTracking.scala:85)
	at com.ergodicity.engine.service.TradingService$$anonfun$6.apply(Trading.scala:112)
	at com.ergodicity.engine.service.TradingService$$anonfun$6.apply(Trading.scala:112)
	at akka.actor.ActorCell.newActor(ActorCell.scala:488)
	at akka.actor.ActorCell.doRecreate(ActorCell.scala:716)
	at akka.actor.ActorCell.handleChildTerminated(ActorCell.scala:746)
	at akka.actor.ActorCell.systemInvoke(ActorCell.scala:608)
	at akka.dispatch.Mailbox.processAllSystemMessages(Mailbox.scala:209)
	at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:198)
	at akka.dispatch.Mailbox.run(Mailbox.scala:179)
	at akka.dispatch.ForkJoinExecutorConfigurator$MailboxExecutionTask.exec(AbstractDispatcher.scala:516)
	at akka.jsr166y.ForkJoinTask.doExec(ForkJoinTask.java:259)
	at akka.jsr166y.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:975)
	at akka.jsr166y.ForkJoinPool.runWorker(ForkJoinPool.java:1479)
	at akka.jsr166y.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:104)

[ERROR] [12/06/2012 00:44:11.181] [TradingServiceSpec-akka.actor.default-dispatcher-6] [akka://TradingServiceSpec/user/TradingService/OrdersTracking] error while creating actor
java.lang.IllegalStateException: cannot be started once stopped
	at org.jboss.netty.akka.util.HashedWheelTimer.start(HashedWheelTimer.java:192)
	at org.jboss.netty.akka.util.HashedWheelTimer.newTimeout(HashedWheelTimer.java:260)
	at akka.actor.DefaultScheduler.scheduleOnce(Scheduler.scala:177)
	at akka.actor.FSM$class.makeTransition(FSM.scala:519)
	at com.ergodicity.core.order.OrdersTracking.makeTransition(OrdersTracking.scala:39)
	at akka.actor.FSM$class.initialize(FSM.scala:355)
	at com.ergodicity.core.order.OrdersTracking.initialize(OrdersTracking.scala:39)
	at com.ergodicity.core.order.OrdersTracking.<init>(OrdersTracking.scala:85)
	at com.ergodicity.engine.service.TradingService$$anonfun$6.apply(Trading.scala:112)
	at com.ergodicity.engine.service.TradingService$$anonfun$6.apply(Trading.scala:112)
	at akka.actor.ActorCell.newActor(ActorCell.scala:488)
	at akka.actor.ActorCell.doRecreate(ActorCell.scala:716)
	at akka.actor.ActorCell.handleChildTerminated(ActorCell.scala:746)
	at akka.actor.ActorCell.systemInvoke(ActorCell.scala:608)
	at akka.dispatch.Mailbox.processAllSystemMessages(Mailbox.scala:209)
	at akka.dispatch.Mailbox.run(Mailbox.scala:178)
	at akka.dispatch.ForkJoinExecutorConfigurator$MailboxExecutionTask.exec(AbstractDispatcher.scala:516)
	at akka.jsr166y.ForkJoinTask.doExec(ForkJoinTask.java:259)
	at akka.jsr166y.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:975)
	at akka.jsr166y.ForkJoinPool.runWorker(ForkJoinPool.java:1479)
	at akka.jsr166y.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:104)

[ERROR] [12/06/2012 00:44:11.429] [InstrumentWatchDogSpec-scheduler-1] [akka://InstrumentWatchDogSpec/user/InstrumentWatchDog] Catching instrument for isin = Isin(GMKR-6.12) timed out
[ERROR] [12/06/2012 00:44:11.429] [InstrumentWatchDogSpec-scheduler-1] [akka://InstrumentWatchDogSpec/user/InstrumentWatchDog] Catching instrument for isin = Isin(GMKR-6.12) timed out
com.ergodicity.engine.strategy.InstrumentWatcherException: Catching instrument for isin = Isin(GMKR-6.12) timed out
	at com.ergodicity.engine.strategy.InstrumentWatchDog$$anonfun$3.apply(InstrumentWatcher.scala:107)
	at com.ergodicity.engine.strategy.InstrumentWatchDog$$anonfun$3.apply(InstrumentWatcher.scala:82)
	at akka.actor.FSM$class.processEvent(FSM.scala:486)
	at com.ergodicity.engine.strategy.InstrumentWatchDog.akka$actor$LoggingFSM$$super$processEvent(InstrumentWatcher.scala:63)
	at akka.actor.LoggingFSM$class.processEvent(FSM.scala:605)
	at com.ergodicity.engine.strategy.InstrumentWatchDog.processEvent(InstrumentWatcher.scala:63)
	at akka.actor.FSM$class.akka$actor$FSM$$processMsg(FSM.scala:480)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:440)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:437)
	at akka.actor.Actor$class.apply(Actor.scala:318)
	at com.ergodicity.engine.strategy.InstrumentWatchDog.apply(InstrumentWatcher.scala:63)
	at akka.actor.ActorCell.invoke(ActorCell.scala:626)
	at akka.testkit.CallingThreadDispatcher.runQueue(CallingThreadDispatcher.scala:235)
	at akka.testkit.CallingThreadDispatcher.dispatch(CallingThreadDispatcher.scala:201)
	at akka.actor.ActorCell.tell(ActorCell.scala:475)
	at akka.actor.LocalActorRef.$bang(ActorRef.scala:328)
	at akka.actor.DefaultScheduler$$anon$5.run(Scheduler.scala:174)
	at org.jboss.netty.akka.util.HashedWheelTimer$HashedWheelTimeout.expire(HashedWheelTimer.java:476)
	at org.jboss.netty.akka.util.HashedWheelTimer$Worker.notifyExpiredTimeouts(HashedWheelTimer.java:381)
	at org.jboss.netty.akka.util.HashedWheelTimer$Worker.run(HashedWheelTimer.java:321)
	at java.lang.Thread.run(Unknown Source)

[INFO] [12/06/2012 00:44:11.466] [pool-4-thread-1] [akka://InstrumentWatchDogSpec/user/InstrumentWatchDog] Catched ongoing session, session id = SessionId(100,100)
[DEBUG] [12/06/2012 00:44:11.468] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-4] [akka://InstrumentWatchDogSpec/user/Session/Options] Get session instrument: FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract); Result = None
[DEBUG] [12/06/2012 00:44:11.468] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-2] [akka://InstrumentWatchDogSpec/user/Session/Futures] Get session instrument: FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract); Result = Some((FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract),Actor[akka://InstrumentWatchDogSpec/user/Session/Futures/GMKR-6.12]))
[INFO] [12/06/2012 00:44:11.469] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-4] [akka://InstrumentWatchDogSpec/user/InstrumentWatchDog] Catched instrument for isin = Isin(GMKR-6.12); ref = InstrumentRef(SessionId(100,100),FutureContract(IsinId(166911),Isin(GMKR-6.12),ShortIsisn(GMM2),Future contract),Actor[akka://InstrumentWatchDogSpec/user/Session/Futures/GMKR-6.12])
[info] InstrumentWatchDogSpec:
[info] InstrumentWatchDog 
[info] - must subscribe for ongoing session
[info] - must catch instument
[info] - must fail watching instument that is not assigned
[info] - must catch new instrument on session reassigned
[info] - must fail on catched instrument terminated
[info] - must notify on catched instrument states
[DEBUG] [12/06/2012 00:44:11.471] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-2] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:11.471] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-2] [EventStream] all default loggers stopped
[ERROR] [12/06/2012 00:44:11.472] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-2] [akka://InstrumentWatchDogSpec/user/InstrumentWatchDog] Catching instrument for isin = Isin(GMKR-6.12) timed out
[ERROR] [12/06/2012 00:44:11.472] [InstrumentWatchDogSpec-akka.actor.default-dispatcher-2] [akka://InstrumentWatchDogSpec/user/InstrumentWatchDog] Catching instrument for isin = Isin(GMKR-6.12) timed out
com.ergodicity.engine.strategy.InstrumentWatcherException: Catching instrument for isin = Isin(GMKR-6.12) timed out
	at com.ergodicity.engine.strategy.InstrumentWatchDog$$anonfun$3.apply(InstrumentWatcher.scala:107)
	at com.ergodicity.engine.strategy.InstrumentWatchDog$$anonfun$3.apply(InstrumentWatcher.scala:82)
	at akka.actor.FSM$class.processEvent(FSM.scala:486)
	at com.ergodicity.engine.strategy.InstrumentWatchDog.akka$actor$LoggingFSM$$super$processEvent(InstrumentWatcher.scala:63)
	at akka.actor.LoggingFSM$class.processEvent(FSM.scala:605)
	at com.ergodicity.engine.strategy.InstrumentWatchDog.processEvent(InstrumentWatcher.scala:63)
	at akka.actor.FSM$class.akka$actor$FSM$$processMsg(FSM.scala:480)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:440)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:437)
	at akka.actor.Actor$class.apply(Actor.scala:318)
	at com.ergodicity.engine.strategy.InstrumentWatchDog.apply(InstrumentWatcher.scala:63)
	at akka.actor.ActorCell.invoke(ActorCell.scala:626)
	at akka.testkit.CallingThreadDispatcher.runQueue(CallingThreadDispatcher.scala:235)
	at akka.testkit.CallingThreadDispatcher.dispatch(CallingThreadDispatcher.scala:201)
	at akka.actor.ActorCell.tell(ActorCell.scala:475)
	at akka.actor.LocalActorRef.$bang(ActorRef.scala:328)
	at akka.actor.DefaultScheduler$$anon$5.run(Scheduler.scala:174)
	at akka.actor.DefaultScheduler.akka$actor$DefaultScheduler$$execDirectly(Scheduler.scala:200)
	at akka.actor.DefaultScheduler$$anonfun$close$1.apply(Scheduler.scala:208)
	at akka.actor.DefaultScheduler$$anonfun$close$1.apply(Scheduler.scala:208)
	at scala.collection.Iterator$class.foreach(Iterator.scala:772)
	at scala.collection.JavaConversions$JIteratorWrapper.foreach(JavaConversions.scala:573)
	at scala.collection.IterableLike$class.foreach(IterableLike.scala:73)
	at scala.collection.JavaConversions$JSetWrapper.foreach(JavaConversions.scala:661)
	at akka.actor.DefaultScheduler.close(Scheduler.scala:208)
	at akka.actor.ActorSystemImpl.stopScheduler(ActorSystem.scala:642)
	at akka.actor.ActorSystemImpl$$anonfun$_start$1.apply$mcV$sp(ActorSystem.scala:589)
	at akka.actor.ActorSystemImpl$$anonfun$_start$1.apply(ActorSystem.scala:589)
	at akka.actor.ActorSystemImpl$$anonfun$_start$1.apply(ActorSystem.scala:589)
	at akka.actor.ActorSystemImpl$$anon$4.run(ActorSystem.scala:602)
	at akka.actor.ActorSystemImpl$TerminationCallbacks$$anonfun$run$1.runNext$1(ActorSystem.scala:726)
	at akka.actor.ActorSystemImpl$TerminationCallbacks$$anonfun$run$1.apply$mcV$sp(ActorSystem.scala:729)
	at akka.actor.ActorSystemImpl$TerminationCallbacks$$anonfun$run$1.apply(ActorSystem.scala:722)
	at akka.actor.ActorSystemImpl$TerminationCallbacks$$anonfun$run$1.apply(ActorSystem.scala:722)
	at akka.util.ReentrantGuard.withGuard(LockUtil.scala:17)
	at akka.actor.ActorSystemImpl$TerminationCallbacks.run(ActorSystem.scala:722)
	at akka.actor.ActorSystemImpl$$anonfun$terminationCallbacks$1.apply(ActorSystem.scala:599)
	at akka.actor.ActorSystemImpl$$anonfun$terminationCallbacks$1.apply(ActorSystem.scala:599)
	at akka.dispatch.DefaultPromise.akka$dispatch$DefaultPromise$$notifyCompleted(Future.scala:943)
	at akka.dispatch.DefaultPromise$$anonfun$tryComplete$1$$anonfun$apply$mcV$sp$4.apply(Future.scala:920)
	at akka.dispatch.DefaultPromise$$anonfun$tryComplete$1$$anonfun$apply$mcV$sp$4.apply(Future.scala:920)
	at scala.collection.LinearSeqOptimized$class.foreach(LinearSeqOptimized.scala:59)
	at scala.collection.immutable.List.foreach(List.scala:76)
	at akka.dispatch.DefaultPromise$$anonfun$tryComplete$1.apply$mcV$sp(Future.scala:920)
	at akka.dispatch.Future$$anon$4$$anonfun$run$1.apply$mcV$sp(Future.scala:386)
	at akka.dispatch.Future$$anon$4$$anonfun$run$1.apply(Future.scala:378)
	at akka.dispatch.Future$$anon$4$$anonfun$run$1.apply(Future.scala:378)
	at scala.util.DynamicVariable.withValue(DynamicVariable.scala:57)
	at akka.dispatch.Future$$anon$4.run(Future.scala:378)
	at akka.dispatch.TaskInvocation.run(AbstractDispatcher.scala:94)
	at akka.jsr166y.ForkJoinTask$AdaptedRunnableAction.exec(ForkJoinTask.java:1381)
	at akka.jsr166y.ForkJoinTask.doExec(ForkJoinTask.java:259)
	at akka.jsr166y.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:975)
	at akka.jsr166y.ForkJoinPool.runWorker(ForkJoinPool.java:1479)
	at akka.jsr166y.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:104)

[DEBUG] [12/06/2012 00:44:11.512] [pool-4-thread-2] [EventStream(akka://ReplyStreamListenerStubActorSpec)] logger log1-TestEventListener started
[DEBUG] [12/06/2012 00:44:11.512] [pool-4-thread-1] [EventStream(akka://ReplicationStreamListenerStubActorSpec)] logger log1-TestEventListener started
[DEBUG] [12/06/2012 00:44:11.512] [pool-4-thread-1] [EventStream(akka://ReplicationStreamListenerStubActorSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:44:11.512] [pool-4-thread-2] [EventStream(akka://ReplyStreamListenerStubActorSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:44:11.512] [pool-4-thread-4] [EventStream(akka://SessionsServiceSpec)] logger log1-TestEventListener started
[DEBUG] [12/06/2012 00:44:11.512] [pool-4-thread-4] [EventStream(akka://SessionsServiceSpec)] Default Loggers started
[info] TrendFollowingSpec:
[info] TrendFollowingStrategy 
[info] - must wait for position manager started
[info] PriceRegressionActor 
[info] - must return empty regression if insufficiend data available
[info] - must calculate regression matching in window
[info] - must discard outdated trades
[DEBUG] [12/06/2012 00:44:11.993] [TrendFollowing-akka.actor.default-dispatcher-4] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:11.993] [TrendFollowing-akka.actor.default-dispatcher-4] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:11.993] [TrendFollowing-akka.actor.default-dispatcher-4] [EventStream] all default loggers stopped
Setting up data.
[INFO] [12/06/2012 00:44:12.286] [pool-4-thread-4] [akka://SessionsServiceSpec/user/Services] Register service, Id = Connection, depends on = List()
[INFO] [12/06/2012 00:44:12.325] [pool-4-thread-4] [akka://SessionsServiceSpec/user/Services] Register service, Id = InstrumentData, depends on = List(Connection)
[WARN] [12/06/2012 00:44:13.124] [SessionsServiceSpec-akka.actor.default-dispatcher-1] [akka://SessionsServiceSpec/user/Services/Connection] Unhandled event: CurrentState(Actor[akka://SessionsServiceSpec/user/Services/Connection/Connection],Closed)
[INFO] [12/06/2012 00:44:13.127] [SessionsServiceSpec-akka.actor.default-dispatcher-5] [akka://SessionsServiceSpec/user/Services/InstrumentData/SessionsTracking] Start session tracking
[INFO] [12/06/2012 00:44:13.185] [pool-4-thread-4] [akka://SessionsServiceSpec/user/Services] Registered services = Set(Connection, InstrumentData)
[INFO] [12/06/2012 00:44:13.187] [pool-4-thread-4] [akka://SessionsServiceSpec/user/Services]  - Connection; startBarrier = List(StartUp), stopBarrier = List(ShutDown, InstrumentData)
[INFO] [12/06/2012 00:44:13.188] [pool-4-thread-4] [akka://SessionsServiceSpec/user/Services]  - InstrumentData; startBarrier = List(StartUp, Connection), stopBarrier = List(ShutDown)
[INFO] [12/06/2012 00:44:13.189] [pool-4-thread-4] [akka://SessionsServiceSpec/user/Services] Start all services = Set(Connection, InstrumentData)
[INFO] [12/06/2012 00:44:13.192] [SessionsServiceSpec-akka.actor.default-dispatcher-5] [akka://SessionsServiceSpec/user/Services/Connection] Start Connection service
[INFO] [12/06/2012 00:44:13.193] [SessionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://SessionsServiceSpec/user/Services/Connection/Connection] Open connection
[info] ReplyStreamListenerStubActorSpec:
[info] ReplyStreamListenerStub Actor 
[info] - must open listener with empty data
[info] - must open listener and dispatch data
[info] - must throw exception opening Active listener
[info] - must close Active listener
[info] - must fail close already Closed listener
[info] - must get state
[info] - must dispatch data with opened listener
[info] ReplicationStreamListenerStubActorSpec:
[info] DataStreamListenerStub Actor 
[info] - must open listener with empty data
[info] - must open listener and dispatch data
[info] - must throw exception opening Active listener
[info] - must close Active listener
[info] - must fail close already Closed listener
[info] - must get state
[info] - must dispatch data with opened listener
[DEBUG] [12/06/2012 00:44:13.219] [pool-4-thread-2] [EventStream(akka://PublisherStrategySpec)] logger log1-TestEventListener started
[DEBUG] [12/06/2012 00:44:13.220] [pool-4-thread-2] [EventStream(akka://PublisherStrategySpec)] Default Loggers started
[DEBUG] [12/06/2012 00:44:13.226] [pool-4-thread-1] [EventStream(akka://OrderBooksServiceSpec)] logger log1-TestEventListener started
[DEBUG] [12/06/2012 00:44:13.226] [pool-4-thread-1] [EventStream(akka://OrderBooksServiceSpec)] Default Loggers started
[DEBUG] [12/06/2012 00:44:13.232] [ReplicationStreamListenerStubActorSpec-akka.actor.default-dispatcher-2] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:13.232] [ReplyStreamListenerStubActorSpec-akka.actor.default-dispatcher-2] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:13.232] [ReplyStreamListenerStubActorSpec-akka.actor.default-dispatcher-2] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:13.232] [ReplicationStreamListenerStubActorSpec-akka.actor.default-dispatcher-2] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:13.234] [ReplyStreamListenerStubActorSpec-akka.actor.default-dispatcher-2] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:44:13.234] [ReplicationStreamListenerStubActorSpec-akka.actor.default-dispatcher-2] [EventStream] all default loggers stopped
[INFO] [12/06/2012 00:44:13.260] [pool-4-thread-1] [akka://OrderBooksServiceSpec/user/Services] Register service, Id = Connection, depends on = List()
[INFO] [12/06/2012 00:44:13.260] [pool-4-thread-1] [akka://OrderBooksServiceSpec/user/Services] Register service, Id = InstrumentData, depends on = List(Connection)
[INFO] [12/06/2012 00:44:13.263] [pool-4-thread-1] [akka://OrderBooksServiceSpec/user/Services] Register service, Id = OrdersData, depends on = List(InstrumentData)
[WARN] [12/06/2012 00:44:13.263] [OrderBooksServiceSpec-akka.actor.default-dispatcher-2] [akka://OrderBooksServiceSpec/user/Services/Connection] Unhandled event: CurrentState(Actor[akka://OrderBooksServiceSpec/user/Services/Connection/Connection],Closed)
[INFO] [12/06/2012 00:44:13.263] [pool-4-thread-1] [akka://OrderBooksServiceSpec/user/Services] Registered services = Set(Connection, InstrumentData, OrdersData)
[INFO] [12/06/2012 00:44:13.263] [pool-4-thread-1] [akka://OrderBooksServiceSpec/user/Services]  - Connection; startBarrier = List(StartUp), stopBarrier = List(ShutDown, InstrumentData)
[INFO] [12/06/2012 00:44:13.263] [pool-4-thread-1] [akka://OrderBooksServiceSpec/user/Services]  - InstrumentData; startBarrier = List(StartUp, Connection), stopBarrier = List(ShutDown, OrdersData)
[INFO] [12/06/2012 00:44:13.263] [pool-4-thread-1] [akka://OrderBooksServiceSpec/user/Services]  - OrdersData; startBarrier = List(StartUp, InstrumentData), stopBarrier = List(ShutDown)
[INFO] [12/06/2012 00:44:13.265] [OrderBooksServiceSpec-akka.actor.default-dispatcher-2] [akka://OrderBooksServiceSpec/user/Services/InstrumentData/SessionsTracking] Start session tracking
[WARN] [12/06/2012 00:44:13.303] [OrderBooksServiceSpec-akka.actor.default-dispatcher-5] [akka://OrderBooksServiceSpec/user/Services/OrdersData/OptionsSnapshot] unhandled event CurrentState(Actor[akka://OrderBooksServiceSpec/user/Services/OrdersData/OptOrderBookStream],Closed) in state Loading
[WARN] [12/06/2012 00:44:13.303] [OrderBooksServiceSpec-akka.actor.default-dispatcher-8] [akka://OrderBooksServiceSpec/user/Services/OrdersData/FuturesSnapshot] unhandled event CurrentState(Actor[akka://OrderBooksServiceSpec/user/Services/OrdersData/FutOrderBookStream],Closed) in state Loading
[INFO] [12/06/2012 00:44:13.315] [OrderBooksServiceSpec-akka.actor.default-dispatcher-1] [akka://OrderBooksServiceSpec/user/Services/OrdersData] Start OrdersData service
[info] PublisherStrategySpec:
[info] ExecuteOnDeclaredPrice strategy 
[info] - must execute order on declared price
[info] - must fail if Isin not assigned
[info] - must fail cancel any order
[DEBUG] [12/06/2012 00:44:13.333] [PublisherStrategySpec-akka.actor.default-dispatcher-2] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:13.333] [PublisherStrategySpec-akka.actor.default-dispatcher-2] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:13.333] [PublisherStrategySpec-akka.actor.default-dispatcher-2] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:44:13.342] [pool-4-thread-2] [EventStream(akka://PublisherStubSpec)] logger log1-TestEventListener started
[DEBUG] [12/06/2012 00:44:13.342] [pool-4-thread-2] [EventStream(akka://PublisherStubSpec)] Default Loggers started
[INFO] [12/06/2012 00:44:13.347] [pool-4-thread-1] [akka://OrderBooksServiceSpec/user/Services] Start all services = Set(Connection, InstrumentData, OrdersData)
[INFO] [12/06/2012 00:44:13.347] [OrderBooksServiceSpec-akka.actor.default-dispatcher-3] [akka://OrderBooksServiceSpec/user/Services/Connection] Start Connection service
[INFO] [12/06/2012 00:44:13.348] [OrderBooksServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrderBooksServiceSpec/user/Services/Connection/Connection] Open connection
[info] PublisherStubSpec:
[info] Publisher Stub Actor 
[info] - must open publisher
[info] - must throw exception opening Active publisher
[info] - must close Active publisher
[info] - must fail close already Closed publisher
[info] - must get state
[info] Publisher Stub 
[info] - must support Action serialization
[DEBUG] [12/06/2012 00:44:13.406] [PublisherStubSpec-akka.actor.default-dispatcher-2] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:13.406] [PublisherStubSpec-akka.actor.default-dispatcher-2] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:13.406] [PublisherStubSpec-akka.actor.default-dispatcher-2] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:44:13.413] [pool-4-thread-2] [EventStream(akka://OrdersServiceSpec)] logger log1-TestEventListener started
[DEBUG] [12/06/2012 00:44:13.413] [pool-4-thread-2] [EventStream(akka://OrdersServiceSpec)] Default Loggers started
[INFO] [12/06/2012 00:44:13.433] [pool-4-thread-2] [akka://OrdersServiceSpec/user/Services] Register service, Id = Connection, depends on = List()
[INFO] [12/06/2012 00:44:13.433] [pool-4-thread-2] [akka://OrdersServiceSpec/user/Services] Register service, Id = InstrumentData, depends on = List(Connection)
[WARN] [12/06/2012 00:44:13.436] [OrdersServiceSpec-akka.actor.default-dispatcher-3] [akka://OrdersServiceSpec/user/Services/Connection] Unhandled event: CurrentState(Actor[akka://OrdersServiceSpec/user/Services/Connection/Connection],Closed)
[INFO] [12/06/2012 00:44:13.437] [OrdersServiceSpec-akka.actor.default-dispatcher-2] [akka://OrdersServiceSpec/user/Services/InstrumentData/SessionsTracking] Start session tracking
[INFO] [12/06/2012 00:44:13.438] [pool-4-thread-2] [akka://OrdersServiceSpec/user/Services] Register service, Id = Trading, depends on = List(InstrumentData)
[INFO] [12/06/2012 00:44:13.438] [pool-4-thread-2] [akka://OrdersServiceSpec/user/Services] Registered services = Set(Connection, InstrumentData, Trading)
[INFO] [12/06/2012 00:44:13.438] [pool-4-thread-2] [akka://OrdersServiceSpec/user/Services]  - Connection; startBarrier = List(StartUp), stopBarrier = List(ShutDown, InstrumentData)
[INFO] [12/06/2012 00:44:13.438] [pool-4-thread-2] [akka://OrdersServiceSpec/user/Services]  - InstrumentData; startBarrier = List(StartUp, Connection), stopBarrier = List(ShutDown, Trading)
[INFO] [12/06/2012 00:44:13.438] [pool-4-thread-2] [akka://OrdersServiceSpec/user/Services]  - Trading; startBarrier = List(StartUp, InstrumentData), stopBarrier = List(ShutDown)
[INFO] [12/06/2012 00:44:13.442] [pool-4-thread-2] [akka://OrdersServiceSpec/user/Services] Start all services = Set(Connection, InstrumentData, Trading)
[INFO] [12/06/2012 00:44:13.442] [OrdersServiceSpec-akka.actor.default-dispatcher-1] [akka://OrdersServiceSpec/user/Services/Connection] Start Connection service
[INFO] [12/06/2012 00:44:13.442] [OrdersServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrdersServiceSpec/user/Services/Connection/Connection] Open connection
[WARN] [12/06/2012 00:44:13.445] [OrdersServiceSpec-akka.actor.default-dispatcher-3] [Dispatchers] Dispatcher [engine.dispatchers.publisherDispatcher] not configured, using default-dispatcher
[INFO] [12/06/2012 00:44:13.874] [OrdersServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrdersServiceSpec/user/Services/Connection/Connection] Connection opened
[INFO] [12/06/2012 00:44:13.890] [OrdersServiceSpec-akka.actor.default-dispatcher-8] [akka://OrdersServiceSpec/user/Services] Service started = Connection, remaining = Set(InstrumentData, Trading)
[INFO] [12/06/2012 00:44:13.890] [OrdersServiceSpec-akka.actor.default-dispatcher-8] [akka://OrdersServiceSpec/user/Services/InstrumentData] Start InstrumentData service
[INFO] [12/06/2012 00:44:13.895] [OrdersServiceSpec-akka.actor.default-dispatcher-3] [akka://OrdersServiceSpec/user/Services/Trading] Start Trading service
[INFO] [12/06/2012 00:44:14.193] [SessionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://SessionsServiceSpec/user/Services/Connection/Connection] Connection opened
[INFO] [12/06/2012 00:44:14.194] [SessionsServiceSpec-akka.actor.default-dispatcher-5] [akka://SessionsServiceSpec/user/Services] Service started = Connection, remaining = Set(InstrumentData)
[INFO] [12/06/2012 00:44:14.194] [SessionsServiceSpec-akka.actor.default-dispatcher-5] [akka://SessionsServiceSpec/user/Services/InstrumentData] Start InstrumentData service
[INFO] [12/06/2012 00:44:14.195] [SessionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://SessionsServiceSpec/user/Services/InstrumentData/FutInfoListener] Open listener with config = mode=snapshot+online
[INFO] [12/06/2012 00:44:14.195] [SessionsServiceSpec-akka.actor.default-dispatcher-4] [akka://SessionsServiceSpec/user/Services/InstrumentData/FutInfoDataStream] DataStream goes Online
[INFO] [12/06/2012 00:44:14.195] [SessionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://SessionsServiceSpec/user/Services/InstrumentData/OptInfoListener] Open listener with config = mode=snapshot+online
[INFO] [12/06/2012 00:44:14.196] [SessionsServiceSpec-akka.actor.default-dispatcher-1] [akka://SessionsServiceSpec/user/Services/InstrumentData/OptInfoDataStream] DataStream goes Online
[INFO] [12/06/2012 00:44:14.394] [OrdersServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrdersServiceSpec/user/Services/InstrumentData/FutInfoListener] Open listener with config = mode=snapshot+online
[INFO] [12/06/2012 00:44:14.401] [OrdersServiceSpec-akka.actor.default-dispatcher-2] [akka://OrdersServiceSpec/user/Services/InstrumentData/FutInfoDataStream] DataStream goes Online
[INFO] [12/06/2012 00:44:14.401] [OrdersServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrdersServiceSpec/user/Services/InstrumentData/OptInfoListener] Open listener with config = mode=snapshot+online
[INFO] [12/06/2012 00:44:14.406] [OrdersServiceSpec-akka.actor.default-dispatcher-8] [akka://OrdersServiceSpec/user/Services/InstrumentData/OptInfoDataStream] DataStream goes Online
[INFO] [12/06/2012 00:44:14.425] [OrderBooksServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrderBooksServiceSpec/user/Services/Connection/Connection] Connection opened
[INFO] [12/06/2012 00:44:14.426] [OrderBooksServiceSpec-akka.actor.default-dispatcher-4] [akka://OrderBooksServiceSpec/user/Services] Service started = Connection, remaining = Set(InstrumentData, OrdersData)
[INFO] [12/06/2012 00:44:14.426] [OrderBooksServiceSpec-akka.actor.default-dispatcher-3] [akka://OrderBooksServiceSpec/user/Services/InstrumentData] Start InstrumentData service
[INFO] [12/06/2012 00:44:14.448] [OrdersServiceSpec-akka.actor.default-dispatcher-2] [akka://OrdersServiceSpec/user/Services/InstrumentData/SessionsTracking] Synchonized event = SynchronizedEvent(SessionDataReady(1,100),SessionDataReady(1,100))
[INFO] [12/06/2012 00:44:14.470] [OrdersServiceSpec-akka.actor.default-dispatcher-3] [akka://OrdersServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Options] Start SessionContents
[INFO] [12/06/2012 00:44:14.473] [OrdersServiceSpec-akka.actor.default-dispatcher-8] [akka://OrdersServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Futures] Start SessionContents
[INFO] [12/06/2012 00:44:14.492] [OrdersServiceSpec-akka.actor.default-dispatcher-6] [akka://OrdersServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Futures/FISIN] Started instrument for security = FutureContract(IsinId(100),Isin(FISIN),ShortIsisn(FISINS),Future)
[INFO] [12/06/2012 00:44:14.492] [OrdersServiceSpec-akka.actor.default-dispatcher-2] [akka://OrdersServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Options/OISIN] Started instrument for security = OptionContract(IsinId(101),Isin(OISIN),ShortIsisn(OISINS),Option)
[INFO] [12/06/2012 00:44:14.795] [SessionsServiceSpec-akka.actor.default-dispatcher-1] [akka://SessionsServiceSpec/user/Services] Service started = InstrumentData, remaining = Set()
[INFO] [12/06/2012 00:44:14.795] [SessionsServiceSpec-akka.actor.default-dispatcher-1] [akka://SessionsServiceSpec/user/Services] All services started
[INFO] [12/06/2012 00:44:14.811] [SessionsServiceSpec-akka.actor.default-dispatcher-4] [akka://SessionsServiceSpec/user/Services/InstrumentData/SessionsTracking] Synchonized event = SynchronizedEvent(SessionDataReady(1,100),SessionDataReady(1,100))
[INFO] [12/06/2012 00:44:14.812] [SessionsServiceSpec-akka.actor.default-dispatcher-4] [akka://SessionsServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Futures] Start SessionContents
[INFO] [12/06/2012 00:44:14.813] [SessionsServiceSpec-akka.actor.default-dispatcher-6] [akka://SessionsServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Options] Start SessionContents
[INFO] [12/06/2012 00:44:14.815] [SessionsServiceSpec-akka.actor.default-dispatcher-7] [akka://SessionsServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Futures/FISIN] Started instrument for security = FutureContract(IsinId(100),Isin(FISIN),ShortIsisn(FSISIN),Future)
[INFO] [12/06/2012 00:44:14.815] [SessionsServiceSpec-akka.actor.default-dispatcher-8] [akka://SessionsServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Options/OISIN] Started instrument for security = OptionContract(IsinId(101),Isin(OISIN),ShortIsisn(OSISIN),Option)
[INFO] [12/06/2012 00:44:14.859] [pool-4-thread-4] [akka://SessionsServiceSpec/user/Services] Register service, Id = Connection, depends on = List()
[INFO] [12/06/2012 00:44:14.859] [pool-4-thread-4] [akka://SessionsServiceSpec/user/Services] Register service, Id = InstrumentData, depends on = List(Connection)
[INFO] [12/06/2012 00:44:14.860] [pool-4-thread-4] [akka://SessionsServiceSpec/user/Services] Registered services = Set(Connection, InstrumentData)
[INFO] [12/06/2012 00:44:14.860] [pool-4-thread-4] [akka://SessionsServiceSpec/user/Services]  - Connection; startBarrier = List(StartUp), stopBarrier = List(ShutDown, InstrumentData)
[INFO] [12/06/2012 00:44:14.860] [pool-4-thread-4] [akka://SessionsServiceSpec/user/Services]  - InstrumentData; startBarrier = List(StartUp, Connection), stopBarrier = List(ShutDown)
[INFO] [12/06/2012 00:44:14.860] [pool-4-thread-4] [akka://SessionsServiceSpec/user/Services] Start all services = Set(Connection, InstrumentData)
[INFO] [12/06/2012 00:44:14.860] [SessionsServiceSpec-akka.actor.default-dispatcher-1] [akka://SessionsServiceSpec/user/Services/Connection] Start Connection service
[INFO] [12/06/2012 00:44:14.861] [SessionsServiceSpec-akka.actor.default-dispatcher-5] [akka://SessionsServiceSpec/user/Services/InstrumentData/SessionsTracking] Start session tracking
[INFO] [12/06/2012 00:44:14.913] [OrdersServiceSpec-akka.actor.default-dispatcher-8] [akka://OrdersServiceSpec/user/Services] Service started = InstrumentData, remaining = Set(Trading)
[INFO] [12/06/2012 00:44:14.913] [OrdersServiceSpec-akka.actor.default-dispatcher-2] [akka://OrdersServiceSpec/user/Services/Trading] Start Trading service
[INFO] [12/06/2012 00:44:14.913] [OrdersServiceSpec-akka.actor.default-dispatcher-6] [akka://OrdersServiceSpec/user/Services/Trading/Broker] Open publisher
[INFO] [12/06/2012 00:44:14.926] [OrderBooksServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrderBooksServiceSpec/user/Services/InstrumentData/FutInfoListener] Open listener with config = mode=snapshot+online
[INFO] [12/06/2012 00:44:14.927] [OrderBooksServiceSpec-akka.actor.default-dispatcher-7] [akka://OrderBooksServiceSpec/user/Services/InstrumentData/FutInfoDataStream] DataStream goes Online
[INFO] [12/06/2012 00:44:14.928] [OrderBooksServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrderBooksServiceSpec/user/Services/InstrumentData/OptInfoListener] Open listener with config = mode=snapshot+online
[INFO] [12/06/2012 00:44:14.929] [OrderBooksServiceSpec-akka.actor.default-dispatcher-7] [akka://OrderBooksServiceSpec/user/Services/InstrumentData/SessionsTracking] Synchonized event = SynchronizedEvent(SessionDataReady(1,100),SessionDataReady(1,100))
[INFO] [12/06/2012 00:44:14.929] [OrderBooksServiceSpec-akka.actor.default-dispatcher-6] [akka://OrderBooksServiceSpec/user/Services/InstrumentData/OptInfoDataStream] DataStream goes Online
[INFO] [12/06/2012 00:44:14.930] [OrderBooksServiceSpec-akka.actor.default-dispatcher-10] [akka://OrderBooksServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Futures] Start SessionContents
[INFO] [12/06/2012 00:44:14.930] [OrderBooksServiceSpec-akka.actor.default-dispatcher-12] [akka://OrderBooksServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Options] Start SessionContents
[INFO] [12/06/2012 00:44:14.930] [OrderBooksServiceSpec-akka.actor.default-dispatcher-10] [akka://OrderBooksServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Options/OISIN] Started instrument for security = OptionContract(IsinId(101),Isin(OISIN),ShortIsisn(OISINS),Option)
[INFO] [12/06/2012 00:44:14.930] [OrderBooksServiceSpec-akka.actor.default-dispatcher-6] [akka://OrderBooksServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Futures/FISIN] Started instrument for security = FutureContract(IsinId(100),Isin(FISIN),ShortIsisn(FISINS),Future)
[info] MarketRepositorySpec:
[info] MarketRepository 
[info] - should return empty Sessions
[info] - should scan sessions
[DEBUG] [12/06/2012 00:44:15.142] [pool-4-thread-3] [EventStream(akka://TradesServiceSpec)] logger log1-TestEventListener started
[DEBUG] [12/06/2012 00:44:15.142] [pool-4-thread-3] [EventStream(akka://TradesServiceSpec)] Default Loggers started
[INFO] [12/06/2012 00:44:15.162] [pool-4-thread-3] [akka://TradesServiceSpec/user/Services] Register service, Id = Connection, depends on = List()
[INFO] [12/06/2012 00:44:15.162] [pool-4-thread-3] [akka://TradesServiceSpec/user/Services] Register service, Id = InstrumentData, depends on = List(Connection)
[WARN] [12/06/2012 00:44:15.164] [TradesServiceSpec-akka.actor.default-dispatcher-2] [akka://TradesServiceSpec/user/Services/Connection] Unhandled event: CurrentState(Actor[akka://TradesServiceSpec/user/Services/Connection/Connection],Closed)
[INFO] [12/06/2012 00:44:15.164] [pool-4-thread-3] [akka://TradesServiceSpec/user/Services] Register service, Id = TradesData, depends on = List(InstrumentData)
[INFO] [12/06/2012 00:44:15.165] [pool-4-thread-3] [akka://TradesServiceSpec/user/Services] Registered services = Set(Connection, InstrumentData, TradesData)
[INFO] [12/06/2012 00:44:15.165] [pool-4-thread-3] [akka://TradesServiceSpec/user/Services]  - Connection; startBarrier = List(StartUp), stopBarrier = List(ShutDown, InstrumentData)
[INFO] [12/06/2012 00:44:15.165] [pool-4-thread-3] [akka://TradesServiceSpec/user/Services]  - InstrumentData; startBarrier = List(StartUp, Connection), stopBarrier = List(ShutDown, TradesData)
[INFO] [12/06/2012 00:44:15.165] [pool-4-thread-3] [akka://TradesServiceSpec/user/Services]  - TradesData; startBarrier = List(StartUp, InstrumentData), stopBarrier = List(ShutDown)
[INFO] [12/06/2012 00:44:15.166] [TradesServiceSpec-akka.actor.default-dispatcher-3] [akka://TradesServiceSpec/user/Services/InstrumentData/SessionsTracking] Start session tracking
[INFO] [12/06/2012 00:44:15.167] [pool-4-thread-3] [akka://TradesServiceSpec/user/Services] Start all services = Set(Connection, InstrumentData, TradesData)
[INFO] [12/06/2012 00:44:15.167] [TradesServiceSpec-akka.actor.default-dispatcher-9] [akka://TradesServiceSpec/user/Services/Connection] Start Connection service
[INFO] [12/06/2012 00:44:15.167] [TradesServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradesServiceSpec/user/Services/Connection/Connection] Open connection
[WARN] [12/06/2012 00:44:15.189] [TradesServiceSpec-akka.actor.default-dispatcher-7] [akka://TradesServiceSpec/user/Services/TradesData] unhandled event CurrentState(Actor[akka://TradesServiceSpec/user/Services/TradesData/OptTradeStream],Closed) in state Idle
[WARN] [12/06/2012 00:44:15.189] [TradesServiceSpec-akka.actor.default-dispatcher-7] [akka://TradesServiceSpec/user/Services/TradesData] unhandled event CurrentState(Actor[akka://TradesServiceSpec/user/Services/TradesData/FutTradeStream],Closed) in state Idle
[WARN] [12/06/2012 00:44:15.197] [SessionsServiceSpec-akka.actor.default-dispatcher-3] [akka://SessionsServiceSpec/user/Services/Connection] Unhandled event: CurrentState(Actor[akka://SessionsServiceSpec/user/Services/Connection/Connection],Closed)
[INFO] [12/06/2012 00:44:15.198] [SessionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://SessionsServiceSpec/user/Services/Connection/Connection] Open connection
[INFO] [12/06/2012 00:44:15.198] [SessionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://SessionsServiceSpec/user/Services/InstrumentData/FutInfoListener] Listener opened
[INFO] [12/06/2012 00:44:15.198] [SessionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://SessionsServiceSpec/user/Services/InstrumentData/OptInfoListener] Listener opened
[INFO] [12/06/2012 00:44:15.241] [TradesServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradesServiceSpec/user/Services/Connection/Connection] Connection opened
[INFO] [12/06/2012 00:44:15.241] [TradesServiceSpec-akka.actor.default-dispatcher-7] [akka://TradesServiceSpec/user/Services] Service started = Connection, remaining = Set(InstrumentData, TradesData)
[INFO] [12/06/2012 00:44:15.241] [TradesServiceSpec-akka.actor.default-dispatcher-9] [akka://TradesServiceSpec/user/Services/InstrumentData] Start InstrumentData service
[INFO] [12/06/2012 00:44:15.406] [OrdersServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrdersServiceSpec/user/Services/InstrumentData/OptInfoListener] Listener opened
[INFO] [12/06/2012 00:44:15.406] [OrdersServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrdersServiceSpec/user/Services/InstrumentData/FutInfoListener] Listener opened
[INFO] [12/06/2012 00:44:15.407] [OrdersServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrdersServiceSpec/user/Services/Trading/OptOrdersListener] Open listener with config = mode=snapshot+online
[INFO] [12/06/2012 00:44:15.408] [OrdersServiceSpec-akka.actor.default-dispatcher-1] [akka://OrdersServiceSpec/user/Services/Trading/OptOrdersStream] DataStream goes Online
[INFO] [12/06/2012 00:44:15.409] [OrdersServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrdersServiceSpec/user/Services/Trading/FutOrdersListener] Open listener with config = mode=snapshot+online
[INFO] [12/06/2012 00:44:15.411] [OrdersServiceSpec-akka.actor.default-dispatcher-1] [akka://OrdersServiceSpec/user/Services/Trading/FutOrdersStream] DataStream goes Online
[INFO] [12/06/2012 00:44:15.525] [OrderBooksServiceSpec-akka.actor.default-dispatcher-6] [akka://OrderBooksServiceSpec/user/Services] Service started = InstrumentData, remaining = Set(OrdersData)
[INFO] [12/06/2012 00:44:15.552] [OrderBooksServiceSpec-akka.actor.default-dispatcher-9] [akka://OrderBooksServiceSpec/user/Services/OrdersData/OrderBooks] Assigned contents; Size = 2
[INFO] [12/06/2012 00:44:15.699] [SessionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://SessionsServiceSpec/user/Services/Connection/Connection] Connection opened
[INFO] [12/06/2012 00:44:15.699] [SessionsServiceSpec-akka.actor.default-dispatcher-1] [akka://SessionsServiceSpec/user/Services] Service started = Connection, remaining = Set(InstrumentData)
[INFO] [12/06/2012 00:44:15.699] [SessionsServiceSpec-akka.actor.default-dispatcher-5] [akka://SessionsServiceSpec/user/Services/InstrumentData] Start InstrumentData service
[INFO] [12/06/2012 00:44:15.741] [TradesServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradesServiceSpec/user/Services/InstrumentData/FutInfoListener] Open listener with config = mode=snapshot+online
[INFO] [12/06/2012 00:44:15.747] [TradesServiceSpec-akka.actor.default-dispatcher-9] [akka://TradesServiceSpec/user/Services/InstrumentData/FutInfoDataStream] DataStream goes Online
[INFO] [12/06/2012 00:44:15.748] [TradesServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradesServiceSpec/user/Services/InstrumentData/OptInfoListener] Open listener with config = mode=snapshot+online
[INFO] [12/06/2012 00:44:15.751] [TradesServiceSpec-akka.actor.default-dispatcher-1] [akka://TradesServiceSpec/user/Services/InstrumentData/SessionsTracking] Synchonized event = SynchronizedEvent(SessionDataReady(1,100),SessionDataReady(1,100))
[INFO] [12/06/2012 00:44:15.752] [TradesServiceSpec-akka.actor.default-dispatcher-1] [akka://TradesServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Futures] Start SessionContents
[INFO] [12/06/2012 00:44:15.752] [TradesServiceSpec-akka.actor.default-dispatcher-9] [akka://TradesServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Options] Start SessionContents
[INFO] [12/06/2012 00:44:15.753] [TradesServiceSpec-akka.actor.default-dispatcher-4] [akka://TradesServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Options/OISIN] Started instrument for security = OptionContract(IsinId(101),Isin(OISIN),ShortIsisn(OISINS),Option)
[INFO] [12/06/2012 00:44:15.753] [TradesServiceSpec-akka.actor.default-dispatcher-9] [akka://TradesServiceSpec/user/Services/InstrumentData/OptInfoDataStream] DataStream goes Online
[INFO] [12/06/2012 00:44:15.754] [TradesServiceSpec-akka.actor.default-dispatcher-3] [akka://TradesServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Futures/FISIN] Started instrument for security = FutureContract(IsinId(100),Isin(FISIN),ShortIsisn(FISINS),Future)
[INFO] [12/06/2012 00:44:15.914] [OrdersServiceSpec-akka.actor.default-dispatcher-1] [akka://OrdersServiceSpec/user/Services/Trading/Broker] Publisher opened
[INFO] [12/06/2012 00:44:15.915] [OrdersServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrdersServiceSpec/user/Services/Trading/OptOrdersListener] Listener opened
[INFO] [12/06/2012 00:44:15.915] [OrdersServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrdersServiceSpec/user/Services/Trading/FutOrdersListener] Listener opened
[INFO] [12/06/2012 00:44:15.916] [OrdersServiceSpec-akka.actor.default-dispatcher-7] [akka://OrdersServiceSpec/user/Services/Trading/RepliesListener] Open listener with config = 
[INFO] [12/06/2012 00:44:15.916] [OrdersServiceSpec-akka.actor.default-dispatcher-2] [akka://OrdersServiceSpec/user/Services] Service started = Trading, remaining = Set()
[INFO] [12/06/2012 00:44:15.916] [OrdersServiceSpec-akka.actor.default-dispatcher-2] [akka://OrdersServiceSpec/user/Services] All services started
[INFO] [12/06/2012 00:44:15.932] [OrderBooksServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrderBooksServiceSpec/user/Services/InstrumentData/FutInfoListener] Listener opened
[INFO] [12/06/2012 00:44:15.932] [OrderBooksServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrderBooksServiceSpec/user/Services/InstrumentData/OptInfoListener] Listener opened
[INFO] [12/06/2012 00:44:15.933] [OrderBooksServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrderBooksServiceSpec/user/Services/OrdersData/OptOrderBookListener] Open listener with config = mode=snapshot
[WARN] [12/06/2012 00:44:15.934] [OrderBooksServiceSpec-akka.actor.default-dispatcher-11] [akka://OrderBooksServiceSpec/user/Services/OrdersData/OptionsSnapshot] unhandled event Transition(Actor[akka://OrderBooksServiceSpec/user/Services/OrdersData/OptOrderBookStream],Closed,Opened) in state Loading
[WARN] [12/06/2012 00:44:15.936] [OrderBooksServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrderBooksServiceSpec/user/OptOrderBookListener] unhandled event Left(()) in state Binded(Closed)
[INFO] [12/06/2012 00:44:15.937] [OrderBooksServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrderBooksServiceSpec/user/Services/OrdersData/FutOrderBookListener] Open listener with config = mode=snapshot
[WARN] [12/06/2012 00:44:15.938] [OrderBooksServiceSpec-akka.actor.default-dispatcher-10] [akka://OrderBooksServiceSpec/user/Services/OrdersData/FuturesSnapshot] unhandled event Transition(Actor[akka://OrderBooksServiceSpec/user/Services/OrdersData/FutOrderBookStream],Closed,Opened) in state Loading
[WARN] [12/06/2012 00:44:15.941] [OrderBooksServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrderBooksServiceSpec/user/FutOrderBookListener] unhandled event Left(()) in state Binded(Closed)
[WARN] [12/06/2012 00:44:15.949] [OrderBooksServiceSpec-akka.actor.default-dispatcher-10] [akka://OrderBooksServiceSpec/user/Services/OrdersData] unhandled event CurrentState(Actor[akka://OrderBooksServiceSpec/user/Services/OrdersData/OrdLogStream],Closed) in state StartingOrderBooks
[DEBUG] [12/06/2012 00:44:16.7] [OrdersServiceSpec-akka.actor.default-dispatcher-7] [akka://OrdersServiceSpec/user/Services/Trading/OrdersTracking] Create new order, id = 123
[INFO] [12/06/2012 00:44:16.199] [SessionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://SessionsServiceSpec/user/Services/InstrumentData/FutInfoListener] Open listener with config = mode=snapshot+online
[INFO] [12/06/2012 00:44:16.201] [SessionsServiceSpec-akka.actor.default-dispatcher-5] [akka://SessionsServiceSpec/user/Services/InstrumentData/FutInfoDataStream] DataStream goes Online
[INFO] [12/06/2012 00:44:16.201] [SessionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://SessionsServiceSpec/user/Services/InstrumentData/OptInfoListener] Open listener with config = mode=snapshot+online
[INFO] [12/06/2012 00:44:16.202] [SessionsServiceSpec-akka.actor.default-dispatcher-1] [akka://SessionsServiceSpec/user/Services/InstrumentData/OptInfoDataStream] DataStream goes Online
[INFO] [12/06/2012 00:44:16.340] [TradesServiceSpec-akka.actor.default-dispatcher-11] [akka://TradesServiceSpec/user/Services] Service started = InstrumentData, remaining = Set(TradesData)
[INFO] [12/06/2012 00:44:16.340] [TradesServiceSpec-akka.actor.default-dispatcher-3] [akka://TradesServiceSpec/user/Services/TradesData] Start TradesData service
[DEBUG] [12/06/2012 00:44:16.341] [TradesServiceSpec-akka.actor.default-dispatcher-3] [akka://TradesServiceSpec/user/Services/TradesData] Got ongoing session = OngoingSession(SessionId(100,100),Actor[akka://TradesServiceSpec/user/Services/InstrumentData/SessionsTracking/100])
[DEBUG] [12/06/2012 00:44:16.345] [TradesServiceSpec-akka.actor.default-dispatcher-11] [akka://TradesServiceSpec/user/Services/TradesData/TradesTracking] Assigned contents; Size = 2
[INFO] [12/06/2012 00:44:16.441] [OrderBooksServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrderBooksServiceSpec/user/Services/OrdersData/OrdLogListener] Open listener with config = mode=snapshot+online;rev.orders_log=0
[WARN] [12/06/2012 00:44:16.442] [OrderBooksServiceSpec-akka.actor.default-dispatcher-10] [akka://OrderBooksServiceSpec/user/Services/OrdersData] unhandled event Transition(Actor[akka://OrderBooksServiceSpec/user/Services/OrdersData/OrdLogStream],Closed,Opened) in state StartingOrderBooks
[INFO] [12/06/2012 00:44:16.442] [OrderBooksServiceSpec-akka.actor.default-dispatcher-6] [akka://OrderBooksServiceSpec/user/Services/OrdersData/OrdLogStream] DataStream goes Online
[INFO] [12/06/2012 00:44:16.443] [OrderBooksServiceSpec-akka.actor.default-dispatcher-9] [akka://OrderBooksServiceSpec/user/Services] Service started = OrdersData, remaining = Set()
[INFO] [12/06/2012 00:44:16.444] [OrderBooksServiceSpec-akka.actor.default-dispatcher-9] [akka://OrderBooksServiceSpec/user/Services] All services started
[DEBUG] [12/06/2012 00:44:16.471] [OrdersServiceSpec-akka.actor.default-dispatcher-7] [akka://OrdersServiceSpec/user/Services/Trading/OrdersTracking] Fill order, id = 123, amount = 1, rest = 0, deal = Some((12345,100))
[DEBUG] [12/06/2012 00:44:16.476] [OrdersServiceSpec-akka.actor.default-dispatcher-2] [akka://OrdersServiceSpec/user/Services/Trading/OrdersTracking/123] Order filled
[info] OrdersServiceSpec:
[info] OrderBooks Service 
[info] - must dispatch orders from underlying MarketDb
[info]   + Given engine's trading service 
[info]   + Given assigned session 
[info]   + Given backtest orders service 
[info]   + When start services 
[info]   + Then all services should start 
[info]   + When create order 
[info]   + Then order actor should be created in Active state 
[info]   + When subscribe for order events 
[info]   + Then should receive Create event 
[info]   + When order filled 
[info]   + Then should receive fill notification 
[info]   + When try to fill already filled order 
[info]   + Then should get exception 
[ERROR] [12/06/2012 00:44:16.495] [OrdersServiceSpec-akka.actor.default-dispatcher-9] [akka://OrdersServiceSpec/user/Services/Trading/Broker] Publisher failed, reason = Shutdown
[ERROR] [12/06/2012 00:44:16.495] [OrdersServiceSpec-akka.actor.default-dispatcher-12] [akka://OrdersServiceSpec/user/Services/Trading/RepliesListener] Listener failed, reason = Shutdown
[DEBUG] [12/06/2012 00:44:16.499] [pool-4-thread-2] [EventStream(akka://RepliesServiceSpec)] logger log1-TestEventListener started
[DEBUG] [12/06/2012 00:44:16.499] [pool-4-thread-2] [EventStream(akka://RepliesServiceSpec)] Default Loggers started
[INFO] [12/06/2012 00:44:16.526] [OrderBooksServiceSpec-akka.actor.default-dispatcher-3] [akka://OrderBooksServiceSpec/user/Services/OrdersData/OrderBooks/100/FISIN] Start OrderBook for security = FutureContract(IsinId(100),Isin(FISIN),ShortIsisn(FISINS),Future)
[DEBUG] [12/06/2012 00:44:16.526] [OrderBooksServiceSpec-akka.actor.default-dispatcher-3] [akka://OrderBooksServiceSpec/user/Services/OrdersData/OrderBooks/100/FISIN] Create new order, id = 1111, noSystem = false
[info] RepliesServiceSpec:
[info] Replies Service 
[info] - must decode/encode futures OrderId
[info] - must decode/encode options OrderId
[info] - must decode/encode futures Cancelled
[info] - must decode/encode options Cancelled
[info] - must decode/encode BrokerTimeoutException
[info] - must decode/encode BrokerErrorException
[info] - must decode/encode FloodException
[info] - must decode/encode futures ActionFailedException/AddOrder
[info] - must decode/encode options ActionFailedException/AddOrder
[info] - must decode/encode futures ActionFailedException/Cancel
[info] - must decode/encode options ActionFailedException/Cancel
[DEBUG] [12/06/2012 00:44:16.574] [RepliesServiceSpec-akka.actor.default-dispatcher-2] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:16.574] [RepliesServiceSpec-akka.actor.default-dispatcher-2] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:16.575] [RepliesServiceSpec-akka.actor.default-dispatcher-2] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:44:16.582] [pool-4-thread-2] [EventStream(akka://PositionsServiceSpec)] logger log1-TestEventListener started
[DEBUG] [12/06/2012 00:44:16.582] [pool-4-thread-2] [EventStream(akka://PositionsServiceSpec)] Default Loggers started
[INFO] [12/06/2012 00:44:16.594] [pool-4-thread-2] [akka://PositionsServiceSpec/user/Services] Register service, Id = Connection, depends on = List()
[INFO] [12/06/2012 00:44:16.594] [pool-4-thread-2] [akka://PositionsServiceSpec/user/Services] Register service, Id = InstrumentData, depends on = List(Connection)
[WARN] [12/06/2012 00:44:16.596] [PositionsServiceSpec-akka.actor.default-dispatcher-1] [akka://PositionsServiceSpec/user/Services/Connection] Unhandled event: CurrentState(Actor[akka://PositionsServiceSpec/user/Services/Connection/Connection],Closed)
[INFO] [12/06/2012 00:44:16.596] [pool-4-thread-2] [akka://PositionsServiceSpec/user/Services] Register service, Id = Portfolio, depends on = List(InstrumentData)
[INFO] [12/06/2012 00:44:16.597] [PositionsServiceSpec-akka.actor.default-dispatcher-1] [akka://PositionsServiceSpec/user/Services/InstrumentData/SessionsTracking] Start session tracking
[INFO] [12/06/2012 00:44:16.597] [pool-4-thread-2] [akka://PositionsServiceSpec/user/Services] Registered services = Set(Connection, InstrumentData, Portfolio)
[INFO] [12/06/2012 00:44:16.597] [pool-4-thread-2] [akka://PositionsServiceSpec/user/Services]  - Connection; startBarrier = List(StartUp), stopBarrier = List(ShutDown, InstrumentData)
[INFO] [12/06/2012 00:44:16.597] [pool-4-thread-2] [akka://PositionsServiceSpec/user/Services]  - InstrumentData; startBarrier = List(StartUp, Connection), stopBarrier = List(ShutDown, Portfolio)
[INFO] [12/06/2012 00:44:16.597] [pool-4-thread-2] [akka://PositionsServiceSpec/user/Services]  - Portfolio; startBarrier = List(StartUp, InstrumentData), stopBarrier = List(ShutDown)
[INFO] [12/06/2012 00:44:16.599] [pool-4-thread-2] [akka://PositionsServiceSpec/user/Services] Start all services = Set(Connection, InstrumentData, Portfolio)
[INFO] [12/06/2012 00:44:16.599] [PositionsServiceSpec-akka.actor.default-dispatcher-10] [akka://PositionsServiceSpec/user/Services/Connection] Start Connection service
[INFO] [12/06/2012 00:44:16.599] [PositionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://PositionsServiceSpec/user/Services/Connection/Connection] Open connection
[INFO] [12/06/2012 00:44:17.18] [OrderBooksServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrderBooksServiceSpec/user/Services/OrdersData/OrdLogListener] Listener opened
[INFO] [12/06/2012 00:44:17.19] [TradesServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradesServiceSpec/user/Services/InstrumentData/FutInfoListener] Listener opened
[INFO] [12/06/2012 00:44:17.19] [TradesServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradesServiceSpec/user/Services/InstrumentData/OptInfoListener] Listener opened
[info] OrderBooksServiceSpec:
[info] OrderBooks Service 
[info] - must dispatch orders from underlying MarketDb
[info]   + Given engine's orders data service 
[info]   + Given assigned session 
[info]   + Given backtest orders service 
[info]   + When start services 
[info]   + Then all services should start 
[info]   + When dispatch market db order payload 
[info]   + Then order actor should be created in Active state 
[ERROR] [12/06/2012 00:44:17.20] [OrdersServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrdersServiceSpec/user/Services/Connection/Connection] Connection failed, reason = Shutdown
[INFO] [12/06/2012 00:44:17.20] [TradesServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradesServiceSpec/user/Services/TradesData/FutTradesListener] Open listener with config = mode=online
[INFO] [12/06/2012 00:44:17.21] [TradesServiceSpec-akka.actor.default-dispatcher-1] [akka://TradesServiceSpec/user/Services/TradesData/FutTradeStream] DataStream goes Online
[INFO] [12/06/2012 00:44:17.21] [SessionsServiceSpec-akka.actor.default-dispatcher-3] [akka://SessionsServiceSpec/user/Services] Service started = InstrumentData, remaining = Set()
[WARN] [12/06/2012 00:44:17.21] [OrdersServiceSpec-akka.actor.default-dispatcher-9] [akka://OrdersServiceSpec/user/Services/Connection/Connection] received dead letter from Actor[akka://OrdersServiceSpec/user/Services/Connection/Connection]: ConnectionState(Active)
[INFO] [12/06/2012 00:44:17.21] [SessionsServiceSpec-akka.actor.default-dispatcher-3] [akka://SessionsServiceSpec/user/Services] All services started
[INFO] [12/06/2012 00:44:17.22] [TradesServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradesServiceSpec/user/Services/TradesData/OptTradesListener] Open listener with config = mode=online
[INFO] [12/06/2012 00:44:17.22] [TradesServiceSpec-akka.actor.default-dispatcher-12] [akka://TradesServiceSpec/user/Services/TradesData/OptTradeStream] DataStream goes Online
[INFO] [12/06/2012 00:44:17.22] [TradesServiceSpec-akka.actor.default-dispatcher-12] [akka://TradesServiceSpec/user/Services] Service started = TradesData, remaining = Set()
[INFO] [12/06/2012 00:44:17.22] [TradesServiceSpec-akka.actor.default-dispatcher-12] [akka://TradesServiceSpec/user/Services] All services started
[INFO] [12/06/2012 00:44:17.23] [PositionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://PositionsServiceSpec/user/Services/Connection/Connection] Connection opened
[INFO] [12/06/2012 00:44:17.23] [PositionsServiceSpec-akka.actor.default-dispatcher-8] [akka://PositionsServiceSpec/user/Services] Service started = Connection, remaining = Set(InstrumentData, Portfolio)
[WARN] [12/06/2012 00:44:17.22] [OrdersServiceSpec-akka.actor.default-dispatcher-9] [akka://OrdersServiceSpec/user/Services/Connection/Connection] received dead letter from Actor[akka://OrdersServiceSpec/user/Services/Connection/Connection]: ProcessMessages(10 milliseconds)
[INFO] [12/06/2012 00:44:17.23] [PositionsServiceSpec-akka.actor.default-dispatcher-8] [akka://PositionsServiceSpec/user/Services/InstrumentData] Start InstrumentData service
[ERROR] [12/06/2012 00:44:17.23] [OrdersServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrdersServiceSpec/user/Services/InstrumentData/FutInfoListener] Listener failed, reason = Shutdown
[INFO] [12/06/2012 00:44:17.24] [PositionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://PositionsServiceSpec/user/Services/InstrumentData/FutInfoListener] Open listener with config = mode=snapshot+online
[WARN] [12/06/2012 00:44:17.24] [OrdersServiceSpec-akka.actor.default-dispatcher-9] [akka://OrdersServiceSpec/user/Services/InstrumentData/FutInfoListener] received dead letter from Actor[akka://OrdersServiceSpec/user/Services/InstrumentData/FutInfoListener]: UpdateState
[ERROR] [12/06/2012 00:44:17.24] [OrdersServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrdersServiceSpec/user/Services/InstrumentData/OptInfoListener] Listener failed, reason = Shutdown
[WARN] [12/06/2012 00:44:17.24] [OrdersServiceSpec-akka.actor.default-dispatcher-9] [akka://OrdersServiceSpec/user/Services/InstrumentData/OptInfoListener] received dead letter from Actor[akka://OrdersServiceSpec/user/Services/InstrumentData/OptInfoListener]: UpdateState
[ERROR] [12/06/2012 00:44:17.24] [OrdersServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrdersServiceSpec/user/Services/Trading/FutOrdersListener] Listener failed, reason = Shutdown
[WARN] [12/06/2012 00:44:17.24] [OrdersServiceSpec-akka.actor.default-dispatcher-9] [akka://OrdersServiceSpec/user/Services/Trading/FutOrdersListener] received dead letter from Actor[akka://OrdersServiceSpec/user/Services/Trading/FutOrdersListener]: UpdateState
[ERROR] [12/06/2012 00:44:17.24] [OrdersServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrdersServiceSpec/user/Services/Trading/OptOrdersListener] Listener failed, reason = Shutdown
[WARN] [12/06/2012 00:44:17.24] [OrdersServiceSpec-akka.actor.default-dispatcher-9] [akka://OrdersServiceSpec/user/Services/Trading/OptOrdersListener] received dead letter from Actor[akka://OrdersServiceSpec/user/Services/Trading/OptOrdersListener]: UpdateState
[INFO] [12/06/2012 00:44:17.26] [PositionsServiceSpec-akka.actor.default-dispatcher-6] [akka://PositionsServiceSpec/user/Services/InstrumentData/FutInfoDataStream] DataStream goes Online
[DEBUG] [12/06/2012 00:44:17.26] [OrdersServiceSpec-akka.actor.default-dispatcher-8] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:17.26] [OrdersServiceSpec-akka.actor.default-dispatcher-8] [EventStream] all default loggers stopped
[INFO] [12/06/2012 00:44:17.27] [PositionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://PositionsServiceSpec/user/Services/InstrumentData/OptInfoListener] Open listener with config = mode=snapshot+online
[INFO] [12/06/2012 00:44:17.28] [SessionsServiceSpec-akka.actor.default-dispatcher-9] [akka://SessionsServiceSpec/user/Services/InstrumentData/SessionsTracking] Synchonized event = SynchronizedEvent(SessionDataReady(1,100),SessionDataReady(1,100))
[INFO] [12/06/2012 00:44:17.28] [SessionsServiceSpec-akka.actor.default-dispatcher-9] [akka://SessionsServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Futures] Start SessionContents
[INFO] [12/06/2012 00:44:17.28] [SessionsServiceSpec-akka.actor.default-dispatcher-9] [akka://SessionsServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Options] Start SessionContents
[INFO] [12/06/2012 00:44:17.28] [SessionsServiceSpec-akka.actor.default-dispatcher-9] [akka://SessionsServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Futures/FISIN] Started instrument for security = FutureContract(IsinId(100),Isin(FISIN),ShortIsisn(FSISIN),Future)
[INFO] [12/06/2012 00:44:17.29] [SessionsServiceSpec-akka.actor.default-dispatcher-2] [akka://SessionsServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Options/OISIN] Started instrument for security = OptionContract(IsinId(101),Isin(OISIN),ShortIsisn(OSISIN),Option)
[INFO] [12/06/2012 00:44:17.29] [PositionsServiceSpec-akka.actor.default-dispatcher-11] [akka://PositionsServiceSpec/user/Services/InstrumentData/OptInfoDataStream] DataStream goes Online
[INFO] [12/06/2012 00:44:17.29] [PositionsServiceSpec-akka.actor.default-dispatcher-1] [akka://PositionsServiceSpec/user/Services/InstrumentData/SessionsTracking] Synchonized event = SynchronizedEvent(SessionDataReady(1,100),SessionDataReady(1,100))
[INFO] [12/06/2012 00:44:17.30] [PositionsServiceSpec-akka.actor.default-dispatcher-12] [akka://PositionsServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Futures] Start SessionContents
[INFO] [12/06/2012 00:44:17.30] [PositionsServiceSpec-akka.actor.default-dispatcher-6] [akka://PositionsServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Options] Start SessionContents
[INFO] [12/06/2012 00:44:17.30] [PositionsServiceSpec-akka.actor.default-dispatcher-12] [akka://PositionsServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Options/OISIN] Started instrument for security = OptionContract(IsinId(101),Isin(OISIN),ShortIsisn(OSISIN),Option)
[INFO] [12/06/2012 00:44:17.30] [PositionsServiceSpec-akka.actor.default-dispatcher-6] [akka://PositionsServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Futures/FISIN] Started instrument for security = FutureContract(IsinId(100),Isin(FISIN),ShortIsisn(FISINS),Future)
[DEBUG] [12/06/2012 00:44:17.41] [pool-4-thread-1] [EventStream(akka://ConnectionStubSpec)] logger log1-TestEventListener started
[DEBUG] [12/06/2012 00:44:17.41] [pool-4-thread-1] [EventStream(akka://ConnectionStubSpec)] Default Loggers started
[info] SessionsServiceSpec:
[info] Sessions Service 
[info] - must support normal session lifecycle
[info]   + When session assigned 
[info]   + Then should receive ongoing session 
[info]   + And it should be in Assigned state 
[info]   + When session started 
[info]   + Then should receive session transition 
[info]   + When night comes over 
[info]   + Then session should be suspended 
[info]   + When morning comes over 
[info]   + Then session should be resumed 
[info]   + When intraday clearing started 
[info]   + Then session should be suspended 
[info]   + When intraday clearing finished 
[info]   + Then session should be resumed 
[info]   + When clearing started 
[info]   + Then session shoudl be suspended 
[info]   + When clearing completed 
[info]   + Then session should be completed too 
[info] - must cancel session
[info]   + When session assigned 
[info]   + Then should receive ongoing session 
[info]   + And it should be in Assigned state 
[info]   + When session cancelled 
[info]   + Then should update session state 
[DEBUG] [12/06/2012 00:44:17.52] [pool-4-thread-4] [EventStream(akka://TradingServiceSpec)] logger log1-TestEventListener started
[DEBUG] [12/06/2012 00:44:17.52] [pool-4-thread-4] [EventStream(akka://TradingServiceSpec)] Default Loggers started
[info] ConnectionStubSpec:
[info] Connection 
[info] - must open connection
[info] - must throw exception opening Active connection
[info] - must close Active connection
[info] - must fail close already Closed connection
[info] - must get state
[DEBUG] [12/06/2012 00:44:17.64] [ConnectionStubSpec-akka.actor.default-dispatcher-2] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:17.64] [ConnectionStubSpec-akka.actor.default-dispatcher-2] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:17.64] [ConnectionStubSpec-akka.actor.default-dispatcher-2] [EventStream] all default loggers stopped
[DEBUG] [12/06/2012 00:44:17.72] [pool-4-thread-1] [EventStream(akka://ConnectionServiceSpec)] logger log1-TestEventListener started
[DEBUG] [12/06/2012 00:44:17.72] [pool-4-thread-1] [EventStream(akka://ConnectionServiceSpec)] Default Loggers started
[INFO] [12/06/2012 00:44:17.73] [pool-4-thread-4] [akka://TradingServiceSpec/user/Services] Register service, Id = Connection, depends on = List()
[INFO] [12/06/2012 00:44:17.74] [pool-4-thread-4] [akka://TradingServiceSpec/user/Services] Register service, Id = InstrumentData, depends on = List(Connection)
[INFO] [12/06/2012 00:44:17.74] [pool-4-thread-4] [akka://TradingServiceSpec/user/Services] Register service, Id = Trading, depends on = List(InstrumentData)
[INFO] [12/06/2012 00:44:17.74] [pool-4-thread-4] [akka://TradingServiceSpec/user/Services] Registered services = Set(Connection, InstrumentData, Trading)
[INFO] [12/06/2012 00:44:17.74] [pool-4-thread-4] [akka://TradingServiceSpec/user/Services]  - Connection; startBarrier = List(StartUp), stopBarrier = List(ShutDown, InstrumentData)
[INFO] [12/06/2012 00:44:17.74] [pool-4-thread-4] [akka://TradingServiceSpec/user/Services]  - InstrumentData; startBarrier = List(StartUp, Connection), stopBarrier = List(ShutDown, Trading)
[INFO] [12/06/2012 00:44:17.74] [pool-4-thread-4] [akka://TradingServiceSpec/user/Services]  - Trading; startBarrier = List(StartUp, InstrumentData), stopBarrier = List(ShutDown)
[INFO] [12/06/2012 00:44:17.75] [pool-4-thread-4] [akka://TradingServiceSpec/user/Services] Start all services = Set(Connection, InstrumentData, Trading)
[INFO] [12/06/2012 00:44:17.75] [TradingServiceSpec-akka.actor.default-dispatcher-1] [akka://TradingServiceSpec/user/Services/Connection] Start Connection service
[WARN] [12/06/2012 00:44:17.76] [TradingServiceSpec-akka.actor.default-dispatcher-1] [akka://TradingServiceSpec/user/Services/Connection] Unhandled event: CurrentState(Actor[akka://TradingServiceSpec/user/Services/Connection/Connection],Closed)
[INFO] [12/06/2012 00:44:17.76] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/Services/Connection/Connection] Open connection
[WARN] [12/06/2012 00:44:17.76] [TradingServiceSpec-akka.actor.default-dispatcher-2] [Dispatchers] Dispatcher [engine.dispatchers.publisherDispatcher] not configured, using default-dispatcher
[INFO] [12/06/2012 00:44:17.77] [TradingServiceSpec-akka.actor.default-dispatcher-2] [akka://TradingServiceSpec/user/Services/Trading] Start Trading service
[INFO] [12/06/2012 00:44:17.78] [TradingServiceSpec-akka.actor.default-dispatcher-9] [akka://TradingServiceSpec/user/Services/InstrumentData/SessionsTracking] Start session tracking
[INFO] [12/06/2012 00:44:17.84] [pool-4-thread-1] [akka://ConnectionServiceSpec/user/Services] Register service, Id = Connection, depends on = List()
[WARN] [12/06/2012 00:44:17.86] [ConnectionServiceSpec-akka.actor.default-dispatcher-2] [akka://ConnectionServiceSpec/user/Services/Connection] Unhandled event: CurrentState(Actor[akka://ConnectionServiceSpec/user/Services/Connection/Connection],Closed)
[INFO] [12/06/2012 00:44:17.87] [pool-4-thread-1] [akka://ConnectionServiceSpec/user/Services] Register service, Id = TradingConnection, depends on = List()
[INFO] [12/06/2012 00:44:17.87] [pool-4-thread-1] [akka://ConnectionServiceSpec/user/Services] Registered services = Set(Connection, TradingConnection)
[INFO] [12/06/2012 00:44:17.87] [pool-4-thread-1] [akka://ConnectionServiceSpec/user/Services]  - Connection; startBarrier = List(StartUp), stopBarrier = List(ShutDown)
[INFO] [12/06/2012 00:44:17.87] [pool-4-thread-1] [akka://ConnectionServiceSpec/user/Services]  - TradingConnection; startBarrier = List(StartUp), stopBarrier = List(ShutDown)
[INFO] [12/06/2012 00:44:17.87] [pool-4-thread-1] [akka://ConnectionServiceSpec/user/Services] Start all services = Set(Connection, TradingConnection)
[INFO] [12/06/2012 00:44:17.88] [ConnectionServiceSpec-akka.actor.default-dispatcher-3] [akka://ConnectionServiceSpec/user/Services/Connection] Start Connection service
[INFO] [12/06/2012 00:44:17.88] [ConnectionServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://ConnectionServiceSpec/user/Services/Connection/Connection] Open connection
[INFO] [12/06/2012 00:44:17.88] [ConnectionServiceSpec-akka.actor.default-dispatcher-1] [akka://ConnectionServiceSpec/user/Services/TradingConnection] Start TradingConnection service
[INFO] [12/06/2012 00:44:17.88] [ConnectionServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://ConnectionServiceSpec/user/Services/TradingConnection/Connection] Open connection
[WARN] [12/06/2012 00:44:17.88] [ConnectionServiceSpec-akka.actor.default-dispatcher-1] [akka://ConnectionServiceSpec/user/Services/TradingConnection] Unhandled event: CurrentState(Actor[akka://ConnectionServiceSpec/user/Services/TradingConnection/Connection],Closed)
[INFO] [12/06/2012 00:44:17.95] [pool-4-thread-3] [akka://TradesServiceSpec/system/testActor16] Dispatched trades = List(Trade(1111,100,IsinId(100),100,1,2013-01-06T00:44:17.035+04:00,false), Trade(1112,100,IsinId(101),100,1,2013-01-06T00:44:17.035+04:00,false))
[info] TradesServiceSpec:
[info] Trades Service 
[info] - must dispatch trades from underlying MarketDb
[info]   + Given engine's trades data service 
[info]   + Given assigned session 
[info]   + When start services 
[info]   + Then all services should start 
[info]   + Given backtest trades service 
[info]   + When subscribe for trades 
[info]   + And dispatch trades from market db 
[info]   + Then should get these trades back 
[info] Passed: : Total 53, Failed 0, Errors 0, Passed 53, Skipped 0
[INFO] [12/06/2012 00:44:17.152] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/Services/Connection/Connection] Connection opened
[INFO] [12/06/2012 00:44:17.153] [TradingServiceSpec-akka.actor.default-dispatcher-9] [akka://TradingServiceSpec/user/Services] Service started = Connection, remaining = Set(InstrumentData, Trading)
[INFO] [12/06/2012 00:44:17.153] [TradingServiceSpec-akka.actor.default-dispatcher-7] [akka://TradingServiceSpec/user/Services/InstrumentData] Start InstrumentData service
[INFO] [12/06/2012 00:44:17.173] [ConnectionServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://ConnectionServiceSpec/user/Services/TradingConnection/Connection] Connection opened
[INFO] [12/06/2012 00:44:17.173] [ConnectionServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://ConnectionServiceSpec/user/Services/Connection/Connection] Connection opened
[INFO] [12/06/2012 00:44:17.173] [ConnectionServiceSpec-akka.actor.default-dispatcher-2] [akka://ConnectionServiceSpec/user/Services] Service started = TradingConnection, remaining = Set(Connection)
[INFO] [12/06/2012 00:44:17.173] [ConnectionServiceSpec-akka.actor.default-dispatcher-3] [akka://ConnectionServiceSpec/user/Services] Service started = Connection, remaining = Set()
[INFO] [12/06/2012 00:44:17.173] [ConnectionServiceSpec-akka.actor.default-dispatcher-3] [akka://ConnectionServiceSpec/user/Services] All services started
[info] ConnectionServiceSpec:
[info] Test Engine 
[info] - must start both connection services
[ERROR] [12/06/2012 00:44:17.519] [OrderBooksServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrderBooksServiceSpec/user/Services/Connection/Connection] Connection failed, reason = Shutdown
[WARN] [12/06/2012 00:44:17.519] [OrderBooksServiceSpec-akka.actor.default-dispatcher-7] [akka://OrderBooksServiceSpec/user/Services/Connection/Connection] received dead letter from Actor[akka://OrderBooksServiceSpec/user/Services/Connection/Connection]: ConnectionState(Active)
[WARN] [12/06/2012 00:44:17.519] [OrderBooksServiceSpec-akka.actor.default-dispatcher-7] [akka://OrderBooksServiceSpec/user/Services/Connection/Connection] received dead letter from Actor[akka://OrderBooksServiceSpec/user/Services/Connection/Connection]: ProcessMessages(10 milliseconds)
[ERROR] [12/06/2012 00:44:17.520] [OrderBooksServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrderBooksServiceSpec/user/Services/InstrumentData/FutInfoListener] Listener failed, reason = Shutdown
[WARN] [12/06/2012 00:44:17.520] [OrderBooksServiceSpec-akka.actor.default-dispatcher-7] [akka://OrderBooksServiceSpec/user/Services/InstrumentData/FutInfoListener] received dead letter from Actor[akka://OrderBooksServiceSpec/user/Services/InstrumentData/FutInfoListener]: UpdateState
[ERROR] [12/06/2012 00:44:17.520] [OrderBooksServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrderBooksServiceSpec/user/Services/InstrumentData/OptInfoListener] Listener failed, reason = Shutdown
[WARN] [12/06/2012 00:44:17.520] [OrderBooksServiceSpec-akka.actor.default-dispatcher-7] [akka://OrderBooksServiceSpec/user/Services/InstrumentData/OptInfoListener] received dead letter from Actor[akka://OrderBooksServiceSpec/user/Services/InstrumentData/OptInfoListener]: UpdateState
[ERROR] [12/06/2012 00:44:17.520] [OrderBooksServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrderBooksServiceSpec/user/Services/OrdersData/FutOrderBookListener] Listener failed, reason = Shutdown
[WARN] [12/06/2012 00:44:17.520] [OrderBooksServiceSpec-akka.actor.default-dispatcher-7] [akka://OrderBooksServiceSpec/user/Services/OrdersData/FutOrderBookListener] received dead letter from Actor[akka://OrderBooksServiceSpec/user/Services/OrdersData/FutOrderBookListener]: UpdateState
[ERROR] [12/06/2012 00:44:17.520] [OrderBooksServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrderBooksServiceSpec/user/Services/OrdersData/OptOrderBookListener] Listener failed, reason = Shutdown
[WARN] [12/06/2012 00:44:17.521] [OrderBooksServiceSpec-akka.actor.default-dispatcher-7] [akka://OrderBooksServiceSpec/user/Services/OrdersData/OptOrderBookListener] received dead letter from Actor[akka://OrderBooksServiceSpec/user/Services/OrdersData/OptOrderBookListener]: UpdateState
[ERROR] [12/06/2012 00:44:17.521] [OrderBooksServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://OrderBooksServiceSpec/user/Services/OrdersData/OrdLogListener] Listener failed, reason = Shutdown
[WARN] [12/06/2012 00:44:17.521] [OrderBooksServiceSpec-akka.actor.default-dispatcher-7] [akka://OrderBooksServiceSpec/user/Services/OrdersData/OrdLogListener] received dead letter from Actor[akka://OrderBooksServiceSpec/user/Services/OrdersData/OrdLogListener]: UpdateState
[ERROR] [12/06/2012 00:44:17.521] [SessionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://SessionsServiceSpec/user/Services/InstrumentData/FutInfoListener] Listener failed, reason = Shutdown
[WARN] [12/06/2012 00:44:17.521] [SessionsServiceSpec-akka.actor.default-dispatcher-11] [akka://SessionsServiceSpec/user/Services/InstrumentData/FutInfoListener] received dead letter from Actor[akka://SessionsServiceSpec/user/Services/InstrumentData/FutInfoListener]: ListenerState(Active)
[WARN] [12/06/2012 00:44:17.521] [SessionsServiceSpec-akka.actor.default-dispatcher-11] [akka://SessionsServiceSpec/user/Services/InstrumentData/FutInfoListener] received dead letter from Actor[akka://SessionsServiceSpec/user/Services/InstrumentData/FutInfoListener]: UpdateState
[DEBUG] [12/06/2012 00:44:17.522] [OrderBooksServiceSpec-akka.actor.default-dispatcher-5] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:17.522] [OrderBooksServiceSpec-akka.actor.default-dispatcher-5] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:17.523] [OrderBooksServiceSpec-akka.actor.default-dispatcher-5] [EventStream] all default loggers stopped
[ERROR] [12/06/2012 00:44:17.524] [SessionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://SessionsServiceSpec/user/Services/InstrumentData/OptInfoListener] Listener failed, reason = Shutdown
[WARN] [12/06/2012 00:44:17.524] [SessionsServiceSpec-akka.actor.default-dispatcher-12] [akka://SessionsServiceSpec/user/Services/InstrumentData/OptInfoListener] received dead letter from Actor[akka://SessionsServiceSpec/user/Services/InstrumentData/OptInfoListener]: UpdateState
[WARN] [12/06/2012 00:44:17.524] [SessionsServiceSpec-akka.actor.default-dispatcher-12] [akka://SessionsServiceSpec/user/Services/InstrumentData/OptInfoListener] received dead letter from Actor[akka://SessionsServiceSpec/user/Services/InstrumentData/OptInfoListener]: UpdateState
[ERROR] [12/06/2012 00:44:17.524] [SessionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://SessionsServiceSpec/user/Services/Connection/Connection] Connection failed, reason = Shutdown
[WARN] [12/06/2012 00:44:17.524] [SessionsServiceSpec-akka.actor.default-dispatcher-12] [akka://SessionsServiceSpec/user/Services/Connection/Connection] received dead letter from Actor[akka://SessionsServiceSpec/user/Services/Connection/Connection]: UpdateState
[ERROR] [12/06/2012 00:44:17.524] [TradesServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradesServiceSpec/user/Services/Connection/Connection] Connection failed, reason = Shutdown
[WARN] [12/06/2012 00:44:17.525] [SessionsServiceSpec-akka.actor.default-dispatcher-12] [akka://SessionsServiceSpec/user/Services/Connection/Connection] received dead letter from Actor[akka://SessionsServiceSpec/user/Services/Connection/Connection]: ProcessMessages(10 milliseconds)
[WARN] [12/06/2012 00:44:17.525] [TradesServiceSpec-akka.actor.default-dispatcher-11] [akka://TradesServiceSpec/user/Services/Connection/Connection] received dead letter from Actor[akka://TradesServiceSpec/user/Services/Connection/Connection]: ConnectionState(Active)
[WARN] [12/06/2012 00:44:17.525] [SessionsServiceSpec-akka.actor.default-dispatcher-12] [akka://SessionsServiceSpec/user/Services/Connection/Connection] received dead letter from Actor[akka://SessionsServiceSpec/user/Services/Connection/Connection]: UpdateState
[WARN] [12/06/2012 00:44:17.525] [TradesServiceSpec-akka.actor.default-dispatcher-11] [akka://TradesServiceSpec/user/Services/Connection/Connection] received dead letter from Actor[akka://TradesServiceSpec/user/Services/Connection/Connection]: UpdateState
[WARN] [12/06/2012 00:44:17.525] [TradesServiceSpec-akka.actor.default-dispatcher-11] [akka://TradesServiceSpec/user/Services/Connection/Connection] received dead letter from Actor[akka://TradesServiceSpec/user/Services/Connection/Connection]: ProcessMessages(10 milliseconds)
[ERROR] [12/06/2012 00:44:17.525] [TradesServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradesServiceSpec/user/Services/TradesData/FutTradesListener] Listener failed, reason = Shutdown
[WARN] [12/06/2012 00:44:17.526] [TradesServiceSpec-akka.actor.default-dispatcher-11] [akka://TradesServiceSpec/user/Services/TradesData/FutTradesListener] received dead letter from Actor[akka://TradesServiceSpec/user/Services/TradesData/FutTradesListener]: UpdateState
[ERROR] [12/06/2012 00:44:17.526] [TradesServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradesServiceSpec/user/Services/InstrumentData/FutInfoListener] Listener failed, reason = Shutdown
[WARN] [12/06/2012 00:44:17.526] [TradesServiceSpec-akka.actor.default-dispatcher-11] [akka://TradesServiceSpec/user/Services/InstrumentData/FutInfoListener] received dead letter from Actor[akka://TradesServiceSpec/user/Services/InstrumentData/FutInfoListener]: UpdateState
[ERROR] [12/06/2012 00:44:17.526] [TradesServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradesServiceSpec/user/Services/TradesData/OptTradesListener] Listener failed, reason = Shutdown
[WARN] [12/06/2012 00:44:17.526] [TradesServiceSpec-akka.actor.default-dispatcher-11] [akka://TradesServiceSpec/user/Services/TradesData/OptTradesListener] received dead letter from Actor[akka://TradesServiceSpec/user/Services/TradesData/OptTradesListener]: UpdateState
[DEBUG] [12/06/2012 00:44:17.527] [SessionsServiceSpec-akka.actor.default-dispatcher-12] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:17.527] [SessionsServiceSpec-akka.actor.default-dispatcher-12] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:17.527] [SessionsServiceSpec-akka.actor.default-dispatcher-12] [EventStream] all default loggers stopped
[INFO] [12/06/2012 00:44:17.529] [SessionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://SessionsServiceSpec/user/Services/InstrumentData/FutInfoListener] Listener opened
[INFO] [12/06/2012 00:44:17.529] [SessionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://SessionsServiceSpec/user/Services/InstrumentData/OptInfoListener] Listener opened
[ERROR] [12/06/2012 00:44:17.530] [TradesServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradesServiceSpec/user/Services/InstrumentData/OptInfoListener] Listener failed, reason = Shutdown
[WARN] [12/06/2012 00:44:17.530] [TradesServiceSpec-akka.actor.default-dispatcher-8] [akka://TradesServiceSpec/user/Services/InstrumentData/OptInfoListener] received dead letter from Actor[akka://TradesServiceSpec/user/Services/InstrumentData/OptInfoListener]: UpdateState
[DEBUG] [12/06/2012 00:44:17.531] [TradesServiceSpec-akka.actor.default-dispatcher-8] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:17.531] [TradesServiceSpec-akka.actor.default-dispatcher-8] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:17.532] [TradesServiceSpec-akka.actor.default-dispatcher-8] [EventStream] all default loggers stopped
[INFO] [12/06/2012 00:44:17.582] [PositionsServiceSpec-akka.actor.default-dispatcher-3] [akka://PositionsServiceSpec/user/Services] Service started = InstrumentData, remaining = Set(Portfolio)
[INFO] [12/06/2012 00:44:17.582] [PositionsServiceSpec-akka.actor.default-dispatcher-10] [akka://PositionsServiceSpec/user/Services/Portfolio] Start Portfolio service
[DEBUG] [12/06/2012 00:44:17.583] [PositionsServiceSpec-akka.actor.default-dispatcher-10] [akka://PositionsServiceSpec/user/Services/Portfolio] Got ongoing session = OngoingSession(SessionId(100,100),Actor[akka://PositionsServiceSpec/user/Services/InstrumentData/SessionsTracking/100])
[DEBUG] [12/06/2012 00:44:17.590] [PositionsServiceSpec-akka.actor.default-dispatcher-7] [akka://PositionsServiceSpec/user/Services/Portfolio/Positions] Assigned contents; Size = 2
[INFO] [12/06/2012 00:44:17.653] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/Services/InstrumentData/FutInfoListener] Open listener with config = mode=snapshot+online
[INFO] [12/06/2012 00:44:17.658] [TradingServiceSpec-akka.actor.default-dispatcher-9] [akka://TradingServiceSpec/user/Services/InstrumentData/FutInfoDataStream] DataStream goes Online
[INFO] [12/06/2012 00:44:17.658] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/Services/InstrumentData/OptInfoListener] Open listener with config = mode=snapshot+online
[INFO] [12/06/2012 00:44:17.661] [TradingServiceSpec-akka.actor.default-dispatcher-9] [akka://TradingServiceSpec/user/Services/InstrumentData/SessionsTracking] Synchonized event = SynchronizedEvent(SessionDataReady(1,100),SessionDataReady(1,100))
[INFO] [12/06/2012 00:44:17.662] [TradingServiceSpec-akka.actor.default-dispatcher-8] [akka://TradingServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Futures] Start SessionContents
[INFO] [12/06/2012 00:44:17.662] [TradingServiceSpec-akka.actor.default-dispatcher-1] [akka://TradingServiceSpec/user/Services/InstrumentData/OptInfoDataStream] DataStream goes Online
[INFO] [12/06/2012 00:44:17.662] [TradingServiceSpec-akka.actor.default-dispatcher-8] [akka://TradingServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Options] Start SessionContents
[INFO] [12/06/2012 00:44:17.663] [TradingServiceSpec-akka.actor.default-dispatcher-6] [akka://TradingServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Options/OISIN] Started instrument for security = OptionContract(IsinId(101),Isin(OISIN),ShortIsisn(OISINS),Option)
[INFO] [12/06/2012 00:44:17.663] [TradingServiceSpec-akka.actor.default-dispatcher-2] [akka://TradingServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Futures/FISIN] Started instrument for security = FutureContract(IsinId(100),Isin(FISIN),ShortIsisn(FISINS),Future)
[ERROR] [12/06/2012 00:44:17.673] [ConnectionServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://ConnectionServiceSpec/user/Services/TradingConnection/Connection] Connection failed, reason = Shutdown
[WARN] [12/06/2012 00:44:17.673] [ConnectionServiceSpec-akka.actor.default-dispatcher-3] [akka://ConnectionServiceSpec/user/Services/TradingConnection/Connection] received dead letter from Actor[akka://ConnectionServiceSpec/user/Services/TradingConnection/Connection]: ProcessMessages(10 milliseconds)
[ERROR] [12/06/2012 00:44:17.673] [ConnectionServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://ConnectionServiceSpec/user/Services/Connection/Connection] Connection failed, reason = Shutdown
[WARN] [12/06/2012 00:44:17.673] [ConnectionServiceSpec-akka.actor.default-dispatcher-3] [akka://ConnectionServiceSpec/user/Services/Connection/Connection] received dead letter from Actor[akka://ConnectionServiceSpec/user/Services/Connection]: StartMessageProcessing(10 milliseconds)
[DEBUG] [12/06/2012 00:44:17.675] [ConnectionServiceSpec-akka.actor.default-dispatcher-2] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:17.675] [ConnectionServiceSpec-akka.actor.default-dispatcher-2] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:17.675] [ConnectionServiceSpec-akka.actor.default-dispatcher-2] [EventStream] all default loggers stopped
[INFO] [12/06/2012 00:44:18.29] [PositionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://PositionsServiceSpec/user/Services/Portfolio/PosListener] Open listener with config = mode=snapshot+online
[INFO] [12/06/2012 00:44:18.31] [PositionsServiceSpec-akka.actor.default-dispatcher-6] [akka://PositionsServiceSpec/user/Services/Portfolio/PosDataStream] DataStream goes Online
[INFO] [12/06/2012 00:44:18.32] [PositionsServiceSpec-akka.actor.default-dispatcher-1] [akka://PositionsServiceSpec/user/Services] Service started = Portfolio, remaining = Set()
[INFO] [12/06/2012 00:44:18.32] [PositionsServiceSpec-akka.actor.default-dispatcher-1] [akka://PositionsServiceSpec/user/Services] All services started
[ERROR] [12/06/2012 00:44:18.33] [SessionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://SessionsServiceSpec/user/Services/InstrumentData/FutInfoListener] cannot be started once stopped
java.lang.IllegalStateException: cannot be started once stopped
	at org.jboss.netty.akka.util.HashedWheelTimer.start(HashedWheelTimer.java:192)
	at org.jboss.netty.akka.util.HashedWheelTimer.newTimeout(HashedWheelTimer.java:260)
	at akka.actor.DefaultScheduler.scheduleOnce(Scheduler.scala:186)
	at akka.pattern.PromiseActorRef$.apply(AskSupport.scala:274)
	at akka.pattern.AskSupport$class.ask(AskSupport.scala:83)
	at akka.pattern.package$.ask(package.scala:43)
	at akka.pattern.AskSupport$AskableActorRef.$qmark(AskSupport.scala:153)
	at com.ergodicity.backtest.cgate.ListenerBindingStub$.getState$1(ListenerBindingStub.scala:43)
	at com.ergodicity.backtest.cgate.ListenerBindingStub$$anonfun$wrap$3.apply(ListenerBindingStub.scala:49)
	at com.ergodicity.backtest.cgate.ListenerBindingStub$$anonfun$wrap$3.apply(ListenerBindingStub.scala:49)
	at com.ergodicity.backtest.cgate.package$$anon$1.answer(package.scala:8)
	at org.mockito.internal.stubbing.StubbedInvocationMatcher.answer(StubbedInvocationMatcher.java:34)
	at org.mockito.internal.MockHandler.handle(MockHandler.java:99)
	at org.mockito.internal.InvocationNotifierHandler.handle(InvocationNotifierHandler.java:36)
	at org.mockito.internal.creation.MethodInterceptorFilter.intercept(MethodInterceptorFilter.java:48)
	at ru.micexrts.cgate.Listener$$EnhancerByMockitoWithCGLIB$$54ac8038.getState(<generated>)
	at com.ergodicity.cgate.Listener$$anonfun$6.apply(Listener.scala:97)
	at com.ergodicity.cgate.Listener$$anonfun$6.apply(Listener.scala:89)
	at scala.PartialFunction$$anon$1.apply(PartialFunction.scala:75)
	at akka.actor.FSM$class.processEvent(FSM.scala:489)
	at com.ergodicity.cgate.Listener.processEvent(Listener.scala:52)
	at akka.actor.FSM$class.akka$actor$FSM$$processMsg(FSM.scala:480)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:474)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:437)
	at akka.actor.Actor$class.apply(Actor.scala:318)
	at com.ergodicity.cgate.Listener.apply(Listener.scala:52)
	at akka.actor.ActorCell.invoke(ActorCell.scala:626)
	at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:197)
	at akka.dispatch.Mailbox.run(Mailbox.scala:179)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)

[ERROR] [12/06/2012 00:44:18.39] [SessionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://SessionsServiceSpec/user/Services/InstrumentData/OptInfoListener] cannot be started once stopped
java.lang.IllegalStateException: cannot be started once stopped
	at org.jboss.netty.akka.util.HashedWheelTimer.start(HashedWheelTimer.java:192)
	at org.jboss.netty.akka.util.HashedWheelTimer.newTimeout(HashedWheelTimer.java:260)
	at akka.actor.DefaultScheduler.scheduleOnce(Scheduler.scala:186)
	at akka.pattern.PromiseActorRef$.apply(AskSupport.scala:274)
	at akka.pattern.AskSupport$class.ask(AskSupport.scala:83)
	at akka.pattern.package$.ask(package.scala:43)
	at akka.pattern.AskSupport$AskableActorRef.$qmark(AskSupport.scala:153)
	at com.ergodicity.backtest.cgate.ListenerBindingStub$.getState$1(ListenerBindingStub.scala:43)
	at com.ergodicity.backtest.cgate.ListenerBindingStub$$anonfun$wrap$3.apply(ListenerBindingStub.scala:49)
	at com.ergodicity.backtest.cgate.ListenerBindingStub$$anonfun$wrap$3.apply(ListenerBindingStub.scala:49)
	at com.ergodicity.backtest.cgate.package$$anon$1.answer(package.scala:8)
	at org.mockito.internal.stubbing.StubbedInvocationMatcher.answer(StubbedInvocationMatcher.java:34)
	at org.mockito.internal.MockHandler.handle(MockHandler.java:99)
	at org.mockito.internal.InvocationNotifierHandler.handle(InvocationNotifierHandler.java:36)
	at org.mockito.internal.creation.MethodInterceptorFilter.intercept(MethodInterceptorFilter.java:48)
	at ru.micexrts.cgate.Listener$$EnhancerByMockitoWithCGLIB$$54ac8038.getState(<generated>)
	at com.ergodicity.cgate.Listener$$anonfun$6.apply(Listener.scala:97)
	at com.ergodicity.cgate.Listener$$anonfun$6.apply(Listener.scala:89)
	at scala.PartialFunction$$anon$1.apply(PartialFunction.scala:75)
	at akka.actor.FSM$class.processEvent(FSM.scala:489)
	at com.ergodicity.cgate.Listener.processEvent(Listener.scala:52)
	at akka.actor.FSM$class.akka$actor$FSM$$processMsg(FSM.scala:480)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:474)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:437)
	at akka.actor.Actor$class.apply(Actor.scala:318)
	at com.ergodicity.cgate.Listener.apply(Listener.scala:52)
	at akka.actor.ActorCell.invoke(ActorCell.scala:626)
	at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:197)
	at akka.dispatch.Mailbox.run(Mailbox.scala:179)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)

[ERROR] [12/06/2012 00:44:18.40] [SessionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://SessionsServiceSpec/user/Services/Connection/Connection] cannot be started once stopped
java.lang.IllegalStateException: cannot be started once stopped
	at org.jboss.netty.akka.util.HashedWheelTimer.start(HashedWheelTimer.java:192)
	at org.jboss.netty.akka.util.HashedWheelTimer.newTimeout(HashedWheelTimer.java:260)
	at akka.actor.DefaultScheduler.scheduleOnce(Scheduler.scala:186)
	at akka.pattern.PromiseActorRef$.apply(AskSupport.scala:274)
	at akka.pattern.AskSupport$class.ask(AskSupport.scala:83)
	at akka.pattern.package$.ask(package.scala:43)
	at akka.pattern.AskSupport$AskableActorRef.$qmark(AskSupport.scala:153)
	at com.ergodicity.backtest.cgate.ConnectionStub$.getState$1(ConnectionStub.scala:32)
	at com.ergodicity.backtest.cgate.ConnectionStub$$anonfun$wrap$3.apply(ConnectionStub.scala:43)
	at com.ergodicity.backtest.cgate.ConnectionStub$$anonfun$wrap$3.apply(ConnectionStub.scala:43)
	at com.ergodicity.backtest.cgate.package$$anon$1.answer(package.scala:8)
	at org.mockito.internal.stubbing.StubbedInvocationMatcher.answer(StubbedInvocationMatcher.java:34)
	at org.mockito.internal.MockHandler.handle(MockHandler.java:99)
	at org.mockito.internal.InvocationNotifierHandler.handle(InvocationNotifierHandler.java:36)
	at org.mockito.internal.creation.MethodInterceptorFilter.intercept(MethodInterceptorFilter.java:48)
	at ru.micexrts.cgate.Connection$$EnhancerByMockitoWithCGLIB$$1b5f312.getState(<generated>)
	at com.ergodicity.cgate.Connection$$anonfun$6.apply(Connection.scala:89)
	at com.ergodicity.cgate.Connection$$anonfun$6.apply(Connection.scala:81)
	at scala.PartialFunction$$anon$1.apply(PartialFunction.scala:75)
	at akka.actor.FSM$class.processEvent(FSM.scala:489)
	at com.ergodicity.cgate.Connection.processEvent(Connection.scala:43)
	at akka.actor.FSM$class.akka$actor$FSM$$processMsg(FSM.scala:480)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:474)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:437)
	at akka.actor.Actor$class.apply(Actor.scala:318)
	at com.ergodicity.cgate.Connection.apply(Connection.scala:43)
	at akka.actor.ActorCell.invoke(ActorCell.scala:626)
	at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:197)
	at akka.dispatch.Mailbox.run(Mailbox.scala:179)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)

[ERROR] [12/06/2012 00:44:18.45] [SessionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://SessionsServiceSpec/user/Services/InstrumentData/FutInfoListener] Listener failed, reason = Shutdown
[ERROR] [12/06/2012 00:44:18.45] [SessionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://SessionsServiceSpec/user/Services/InstrumentData/FutInfoListener] error while creating actor
java.lang.IllegalStateException: cannot be started once stopped
	at org.jboss.netty.akka.util.HashedWheelTimer.start(HashedWheelTimer.java:192)
	at org.jboss.netty.akka.util.HashedWheelTimer.newTimeout(HashedWheelTimer.java:260)
	at akka.actor.DefaultScheduler.schedule(Scheduler.scala:148)
	at com.ergodicity.cgate.Listener$$anonfun$1.apply(Listener.scala:58)
	at com.ergodicity.cgate.Listener$$anonfun$1.apply(Listener.scala:57)
	at scala.Option.map(Option.scala:133)
	at com.ergodicity.cgate.Listener.<init>(Listener.scala:56)
	at com.ergodicity.engine.service.InstrumentDataService$$anonfun$5.apply(InstrumentData.scala:64)
	at com.ergodicity.engine.service.InstrumentDataService$$anonfun$5.apply(InstrumentData.scala:64)
	at akka.actor.ActorCell.newActor(ActorCell.scala:488)
	at akka.actor.ActorCell.doRecreate(ActorCell.scala:716)
	at akka.actor.ActorCell.recreate$1(ActorCell.scala:547)
	at akka.actor.ActorCell.systemInvoke(ActorCell.scala:601)
	at akka.dispatch.Mailbox.processAllSystemMessages(Mailbox.scala:209)
	at akka.dispatch.Mailbox.run(Mailbox.scala:178)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)

[ERROR] [12/06/2012 00:44:18.48] [SessionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://SessionsServiceSpec/user/Services/InstrumentData/OptInfoListener] Listener failed, reason = Shutdown
[ERROR] [12/06/2012 00:44:18.48] [SessionsServiceSpec-akka.actor.default-dispatcher-8] [akka://SessionsServiceSpec/user/Services/Connection] cannot be started once stopped
java.lang.IllegalStateException: cannot be started once stopped
	at org.jboss.netty.akka.util.HashedWheelTimer.start(HashedWheelTimer.java:192)
	at org.jboss.netty.akka.util.HashedWheelTimer.newTimeout(HashedWheelTimer.java:260)
	at akka.actor.DefaultScheduler.scheduleOnce(Scheduler.scala:186)
	at akka.pattern.PromiseActorRef$.apply(AskSupport.scala:274)
	at akka.pattern.AskSupport$class.ask(AskSupport.scala:83)
	at akka.pattern.package$.ask(package.scala:43)
	at akka.pattern.AskSupport$AskableActorRef.$qmark(AskSupport.scala:153)
	at com.ergodicity.backtest.cgate.ConnectionStub$.getState$1(ConnectionStub.scala:32)
	at com.ergodicity.backtest.cgate.ConnectionStub$$anonfun$wrap$3.apply(ConnectionStub.scala:43)
	at com.ergodicity.backtest.cgate.ConnectionStub$$anonfun$wrap$3.apply(ConnectionStub.scala:43)
	at com.ergodicity.backtest.cgate.package$$anon$1.answer(package.scala:8)
	at org.mockito.internal.stubbing.StubbedInvocationMatcher.answer(StubbedInvocationMatcher.java:34)
	at org.mockito.internal.MockHandler.handle(MockHandler.java:99)
	at org.mockito.internal.InvocationNotifierHandler.handle(InvocationNotifierHandler.java:36)
	at org.mockito.internal.creation.MethodInterceptorFilter.intercept(MethodInterceptorFilter.java:48)
	at ru.micexrts.cgate.Connection$$EnhancerByMockitoWithCGLIB$$1b5f312.getState(<generated>)
	at com.ergodicity.cgate.Connection$$anonfun$6.apply(Connection.scala:89)
	at com.ergodicity.cgate.Connection$$anonfun$6.apply(Connection.scala:81)
	at scala.PartialFunction$$anon$1.apply(PartialFunction.scala:75)
	at akka.actor.FSM$class.processEvent(FSM.scala:489)
	at com.ergodicity.cgate.Connection.processEvent(Connection.scala:43)
	at akka.actor.FSM$class.akka$actor$FSM$$processMsg(FSM.scala:480)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:474)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:437)
	at akka.actor.Actor$class.apply(Actor.scala:318)
	at com.ergodicity.cgate.Connection.apply(Connection.scala:43)
	at akka.actor.ActorCell.invoke(ActorCell.scala:626)
	at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:197)
	at akka.dispatch.Mailbox.run(Mailbox.scala:179)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)

[ERROR] [12/06/2012 00:44:18.48] [SessionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://SessionsServiceSpec/user/Services/InstrumentData/OptInfoListener] error while creating actor
java.lang.IllegalStateException: cannot be started once stopped
	at org.jboss.netty.akka.util.HashedWheelTimer.start(HashedWheelTimer.java:192)
	at org.jboss.netty.akka.util.HashedWheelTimer.newTimeout(HashedWheelTimer.java:260)
	at akka.actor.DefaultScheduler.schedule(Scheduler.scala:148)
	at com.ergodicity.cgate.Listener$$anonfun$1.apply(Listener.scala:58)
	at com.ergodicity.cgate.Listener$$anonfun$1.apply(Listener.scala:57)
	at scala.Option.map(Option.scala:133)
	at com.ergodicity.cgate.Listener.<init>(Listener.scala:56)
	at com.ergodicity.engine.service.InstrumentDataService$$anonfun$6.apply(InstrumentData.scala:67)
	at com.ergodicity.engine.service.InstrumentDataService$$anonfun$6.apply(InstrumentData.scala:67)
	at akka.actor.ActorCell.newActor(ActorCell.scala:488)
	at akka.actor.ActorCell.doRecreate(ActorCell.scala:716)
	at akka.actor.ActorCell.recreate$1(ActorCell.scala:547)
	at akka.actor.ActorCell.systemInvoke(ActorCell.scala:601)
	at akka.dispatch.Mailbox.processAllSystemMessages(Mailbox.scala:209)
	at akka.dispatch.Mailbox.run(Mailbox.scala:178)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)

[ERROR] [12/06/2012 00:44:18.53] [SessionsServiceSpec-akka.actor.default-dispatcher-8] [akka://SessionsServiceSpec/user/Services] cannot be started once stopped
java.lang.IllegalStateException: cannot be started once stopped
	at org.jboss.netty.akka.util.HashedWheelTimer.start(HashedWheelTimer.java:192)
	at org.jboss.netty.akka.util.HashedWheelTimer.newTimeout(HashedWheelTimer.java:260)
	at akka.actor.DefaultScheduler.scheduleOnce(Scheduler.scala:186)
	at akka.pattern.PromiseActorRef$.apply(AskSupport.scala:274)
	at akka.pattern.AskSupport$class.ask(AskSupport.scala:83)
	at akka.pattern.package$.ask(package.scala:43)
	at akka.pattern.AskSupport$AskableActorRef.$qmark(AskSupport.scala:153)
	at com.ergodicity.backtest.cgate.ConnectionStub$.getState$1(ConnectionStub.scala:32)
	at com.ergodicity.backtest.cgate.ConnectionStub$$anonfun$wrap$3.apply(ConnectionStub.scala:43)
	at com.ergodicity.backtest.cgate.ConnectionStub$$anonfun$wrap$3.apply(ConnectionStub.scala:43)
	at com.ergodicity.backtest.cgate.package$$anon$1.answer(package.scala:8)
	at org.mockito.internal.stubbing.StubbedInvocationMatcher.answer(StubbedInvocationMatcher.java:34)
	at org.mockito.internal.MockHandler.handle(MockHandler.java:99)
	at org.mockito.internal.InvocationNotifierHandler.handle(InvocationNotifierHandler.java:36)
	at org.mockito.internal.creation.MethodInterceptorFilter.intercept(MethodInterceptorFilter.java:48)
	at ru.micexrts.cgate.Connection$$EnhancerByMockitoWithCGLIB$$1b5f312.getState(<generated>)
	at com.ergodicity.cgate.Connection$$anonfun$6.apply(Connection.scala:89)
	at com.ergodicity.cgate.Connection$$anonfun$6.apply(Connection.scala:81)
	at scala.PartialFunction$$anon$1.apply(PartialFunction.scala:75)
	at akka.actor.FSM$class.processEvent(FSM.scala:489)
	at com.ergodicity.cgate.Connection.processEvent(Connection.scala:43)
	at akka.actor.FSM$class.akka$actor$FSM$$processMsg(FSM.scala:480)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:474)
	at akka.actor.FSM$$anonfun$receive$1.apply(FSM.scala:437)
	at akka.actor.Actor$class.apply(Actor.scala:318)
	at com.ergodicity.cgate.Connection.apply(Connection.scala:43)
	at akka.actor.ActorCell.invoke(ActorCell.scala:626)
	at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:197)
	at akka.dispatch.Mailbox.run(Mailbox.scala:179)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)
	at java.lang.Thread.run(Unknown Source)

[INFO] [12/06/2012 00:44:18.83] [PositionsServiceSpec-akka.actor.default-dispatcher-7] [akka://PositionsServiceSpec/user/Services/Portfolio/Positions/FISIN] Opened position; Security = FutureContract(IsinId(100),Isin(FISIN),ShortIsisn(FISINS),Future)
[DEBUG] [12/06/2012 00:44:18.102] [PositionsServiceSpec-akka.actor.default-dispatcher-3] [akka://PositionsServiceSpec/user/Services/Portfolio/Positions] Position updated; Security = FutureContract(IsinId(100),Isin(FISIN),ShortIsisn(FISINS),Future)
[DEBUG] [12/06/2012 00:44:18.103] [PositionsServiceSpec-akka.actor.default-dispatcher-7] [akka://PositionsServiceSpec/user/Services/Portfolio/Positions/FISIN] Position updated to Position(10), dynamics = PositionDynamics(0,10,0,0,Some(1111))
[DEBUG] [12/06/2012 00:44:18.104] [PositionsServiceSpec-akka.actor.default-dispatcher-3] [akka://PositionsServiceSpec/user/Services/Portfolio/Positions] Position updated; Security = FutureContract(IsinId(100),Isin(FISIN),ShortIsisn(FISINS),Future)
[DEBUG] [12/06/2012 00:44:18.105] [PositionsServiceSpec-akka.actor.default-dispatcher-3] [akka://PositionsServiceSpec/user/Services/Portfolio/Positions/FISIN] Position updated to Position(10), dynamics = PositionDynamics(10,0,0,0,None)
[DEBUG] [12/06/2012 00:44:18.109] [PositionsServiceSpec-akka.actor.default-dispatcher-10] [akka://PositionsServiceSpec/user/Services/Portfolio/Positions] Position updated; Security = FutureContract(IsinId(100),Isin(FISIN),ShortIsisn(FISINS),Future)
[DEBUG] [12/06/2012 00:44:18.109] [PositionsServiceSpec-akka.actor.default-dispatcher-1] [akka://PositionsServiceSpec/user/Services/Portfolio/Positions/FISIN] Position updated to Position(0), dynamics = PositionDynamics(10,0,10,0,Some(1111))
[DEBUG] [12/06/2012 00:44:18.111] [PositionsServiceSpec-akka.actor.default-dispatcher-1] [akka://PositionsServiceSpec/user/Services/Portfolio/Positions] Position discarded; Security = FutureContract(IsinId(100),Isin(FISIN),ShortIsisn(FISINS),Future)
[info] PositionsServiceSpec:
[info] Positions Service 
[info] - must support position lifecycle
[info]   + Given engine's portfolio service 
[info]   + Given assigned session 
[info]   + When start services 
[info]   + Then all services should start 
[info]   + And initial positions should be empty 
[info]   + When bought future 
[info]   + Then should receive Transition notification 
[info]   + When toggled session 
[info]   + Then should notify with updated dynamics 
[info]   + When try discard opened position 
[info]   + Then should fail with Exception 
[info]   + When try update position for not assigned instrument 
[info]   + Then should fail with Exception 
[info]   + When position covered 
[info]   + Then should notify on position update 
[info]   + When position discarded 
[info]   + Then do nothing 
[DEBUG] [12/06/2012 00:44:18.112] [PositionsServiceSpec-akka.actor.default-dispatcher-3] [akka://PositionsServiceSpec/user/Services/Portfolio/Positions/FISIN] Position updated to Position(0), dynamics = PositionDynamics(0,0,0,0,None)
[INFO] [12/06/2012 00:44:18.251] [TradingServiceSpec-akka.actor.default-dispatcher-1] [akka://TradingServiceSpec/user/Services] Service started = InstrumentData, remaining = Set(Trading)
[INFO] [12/06/2012 00:44:18.252] [TradingServiceSpec-akka.actor.default-dispatcher-1] [akka://TradingServiceSpec/user/Services/Trading] Start Trading service
[INFO] [12/06/2012 00:44:18.254] [TradingServiceSpec-akka.actor.default-dispatcher-6] [akka://TradingServiceSpec/user/Services/Trading/Broker] Open publisher
[ERROR] [12/06/2012 00:44:18.533] [PositionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://PositionsServiceSpec/user/Services/Connection/Connection] Connection failed, reason = Shutdown
[WARN] [12/06/2012 00:44:18.533] [PositionsServiceSpec-akka.actor.default-dispatcher-5] [akka://PositionsServiceSpec/user/Services/Connection/Connection] received dead letter from Actor[akka://PositionsServiceSpec/user/Services/Connection/Connection]: UpdateState
[WARN] [12/06/2012 00:44:18.533] [PositionsServiceSpec-akka.actor.default-dispatcher-5] [akka://PositionsServiceSpec/user/Services/Connection/Connection] received dead letter from Actor[akka://PositionsServiceSpec/user/Services/Connection/Connection]: ProcessMessages(10 milliseconds)
[ERROR] [12/06/2012 00:44:18.533] [PositionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://PositionsServiceSpec/user/Services/Portfolio/PosListener] Listener failed, reason = Shutdown
[WARN] [12/06/2012 00:44:18.534] [PositionsServiceSpec-akka.actor.default-dispatcher-5] [akka://PositionsServiceSpec/user/Services/Portfolio/PosListener] received dead letter from Actor[akka://PositionsServiceSpec/user/Services/Portfolio/PosListener]: UpdateState
[ERROR] [12/06/2012 00:44:18.534] [PositionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://PositionsServiceSpec/user/Services/InstrumentData/FutInfoListener] Listener failed, reason = Shutdown
[WARN] [12/06/2012 00:44:18.534] [PositionsServiceSpec-akka.actor.default-dispatcher-5] [akka://PositionsServiceSpec/user/Services/InstrumentData/FutInfoListener] received dead letter from Actor[akka://PositionsServiceSpec/user/Services/InstrumentData/FutInfoListener]: ListenerState(Active)
[ERROR] [12/06/2012 00:44:18.534] [PositionsServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://PositionsServiceSpec/user/Services/InstrumentData/OptInfoListener] Listener failed, reason = Shutdown
[WARN] [12/06/2012 00:44:18.534] [PositionsServiceSpec-akka.actor.default-dispatcher-5] [akka://PositionsServiceSpec/user/Services/InstrumentData/OptInfoListener] received dead letter from Actor[akka://PositionsServiceSpec/user/Services/InstrumentData/OptInfoListener]: ListenerState(Active)
[DEBUG] [12/06/2012 00:44:18.535] [PositionsServiceSpec-akka.actor.default-dispatcher-7] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:18.535] [PositionsServiceSpec-akka.actor.default-dispatcher-7] [EventStream] shutting down: StandardOutLogger started
[DEBUG] [12/06/2012 00:44:18.536] [PositionsServiceSpec-akka.actor.default-dispatcher-7] [EventStream] all default loggers stopped
[INFO] [12/06/2012 00:44:18.666] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/Services/InstrumentData/OptInfoListener] Listener opened
[INFO] [12/06/2012 00:44:18.666] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/Services/InstrumentData/FutInfoListener] Listener opened
[INFO] [12/06/2012 00:44:18.667] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/Services/Trading/FutOrdersListener] Open listener with config = mode=snapshot+online
[INFO] [12/06/2012 00:44:18.668] [TradingServiceSpec-akka.actor.default-dispatcher-2] [akka://TradingServiceSpec/user/Services/Trading/FutOrdersStream] DataStream goes Online
[INFO] [12/06/2012 00:44:18.668] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/Services/Trading/OptOrdersListener] Open listener with config = mode=snapshot+online
[INFO] [12/06/2012 00:44:18.669] [TradingServiceSpec-akka.actor.default-dispatcher-1] [akka://TradingServiceSpec/user/Services/Trading/OptOrdersStream] DataStream goes Online
[INFO] [12/06/2012 00:44:19.352] [TradingServiceSpec-akka.actor.default-dispatcher-2] [akka://TradingServiceSpec/user/Services/Trading/Broker] Publisher opened
[INFO] [12/06/2012 00:44:19.353] [TradingServiceSpec-akka.actor.default-dispatcher-2] [akka://TradingServiceSpec/user/Services/Trading/RepliesListener] Open listener with config = 
[INFO] [12/06/2012 00:44:19.353] [TradingServiceSpec-akka.actor.default-dispatcher-6] [akka://TradingServiceSpec/user/Services] Service started = Trading, remaining = Set()
[INFO] [12/06/2012 00:44:19.353] [TradingServiceSpec-akka.actor.default-dispatcher-6] [akka://TradingServiceSpec/user/Services] All services started
[DEBUG] [12/06/2012 00:44:19.383] [TradingServiceSpec-akka.actor.default-dispatcher-6] [akka://TradingServiceSpec/user/Services/Trading/Broker] Execute command: AddOrder(Isin(FISIN),1,100,ImmediateOrCancel,Buy)
[DEBUG] [12/06/2012 00:44:19.483] [TradingServiceSpec-akka.actor.default-dispatcher-2] [akka://TradingServiceSpec/user/Services/Trading/Broker] Execute command: AddOrder(Isin(OISIN),1,100,ImmediateOrCancel,Buy)
[DEBUG] [12/06/2012 00:44:19.584] [TradingServiceSpec-akka.actor.default-dispatcher-6] [akka://TradingServiceSpec/user/Services/Trading/Broker] Execute command: AddOrder(Isin(FISIN),1,101,ImmediateOrCancel,Buy)
[INFO] [12/06/2012 00:44:19.671] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/Services/Trading/OptOrdersListener] Listener opened
[INFO] [12/06/2012 00:44:19.671] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/Services/Trading/FutOrdersListener] Listener opened
[DEBUG] [12/06/2012 00:44:19.685] [TradingServiceSpec-akka.actor.default-dispatcher-2] [akka://TradingServiceSpec/user/Services/Trading/Broker] Execute command: AddOrder(Isin(OISIN),1,101,ImmediateOrCancel,Buy)
[INFO] [12/06/2012 00:44:19.794] [pool-4-thread-4] [akka://TradingServiceSpec/user/Services] Register service, Id = Connection, depends on = List()
[INFO] [12/06/2012 00:44:19.795] [pool-4-thread-4] [akka://TradingServiceSpec/user/Services] Register service, Id = InstrumentData, depends on = List(Connection)
[INFO] [12/06/2012 00:44:19.796] [pool-4-thread-4] [akka://TradingServiceSpec/user/Services] Register service, Id = Trading, depends on = List(InstrumentData)
[INFO] [12/06/2012 00:44:19.796] [pool-4-thread-4] [akka://TradingServiceSpec/user/Services] Registered services = Set(Connection, InstrumentData, Trading)
[INFO] [12/06/2012 00:44:19.796] [pool-4-thread-4] [akka://TradingServiceSpec/user/Services]  - Connection; startBarrier = List(StartUp), stopBarrier = List(ShutDown, InstrumentData)
[INFO] [12/06/2012 00:44:19.797] [pool-4-thread-4] [akka://TradingServiceSpec/user/Services]  - InstrumentData; startBarrier = List(StartUp, Connection), stopBarrier = List(ShutDown, Trading)
[INFO] [12/06/2012 00:44:19.797] [pool-4-thread-4] [akka://TradingServiceSpec/user/Services]  - Trading; startBarrier = List(StartUp, InstrumentData), stopBarrier = List(ShutDown)
[INFO] [12/06/2012 00:44:19.800] [pool-4-thread-4] [akka://TradingServiceSpec/user/Services] Start all services = Set(Connection, InstrumentData, Trading)
[INFO] [12/06/2012 00:44:19.801] [TradingServiceSpec-akka.actor.default-dispatcher-2] [akka://TradingServiceSpec/user/Services/Connection] Start Connection service
[INFO] [12/06/2012 00:44:19.802] [TradingServiceSpec-akka.actor.default-dispatcher-11] [akka://TradingServiceSpec/user/Services/Trading] Start Trading service
[INFO] [12/06/2012 00:44:19.802] [TradingServiceSpec-akka.actor.default-dispatcher-6] [akka://TradingServiceSpec/user/Services/InstrumentData/SessionsTracking] Start session tracking
[WARN] [12/06/2012 00:44:20.171] [TradingServiceSpec-akka.actor.default-dispatcher-4] [akka://TradingServiceSpec/user/Services/Connection] Unhandled event: CurrentState(Actor[akka://TradingServiceSpec/user/Services/Connection/Connection],Closed)
[INFO] [12/06/2012 00:44:20.172] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/Services/Connection/Connection] Open connection
[INFO] [12/06/2012 00:44:20.354] [TradingServiceSpec-akka.actor.default-dispatcher-4] [akka://TradingServiceSpec/user/Services/Trading/RepliesListener] Listener opened
[INFO] [12/06/2012 00:44:20.680] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/Services/Connection/Connection] Connection opened
[INFO] [12/06/2012 00:44:20.681] [TradingServiceSpec-akka.actor.default-dispatcher-7] [akka://TradingServiceSpec/user/Services] Service started = Connection, remaining = Set(InstrumentData, Trading)
[INFO] [12/06/2012 00:44:20.681] [TradingServiceSpec-akka.actor.default-dispatcher-10] [akka://TradingServiceSpec/user/Services/InstrumentData] Start InstrumentData service
[INFO] [12/06/2012 00:44:21.182] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/Services/InstrumentData/FutInfoListener] Open listener with config = mode=snapshot+online
[INFO] [12/06/2012 00:44:21.187] [TradingServiceSpec-akka.actor.default-dispatcher-10] [akka://TradingServiceSpec/user/Services/InstrumentData/FutInfoDataStream] DataStream goes Online
[INFO] [12/06/2012 00:44:21.188] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/Services/InstrumentData/OptInfoListener] Open listener with config = mode=snapshot+online
[INFO] [12/06/2012 00:44:21.190] [TradingServiceSpec-akka.actor.default-dispatcher-10] [akka://TradingServiceSpec/user/Services/InstrumentData/SessionsTracking] Synchonized event = SynchronizedEvent(SessionDataReady(1,100),SessionDataReady(1,100))
[INFO] [12/06/2012 00:44:21.191] [TradingServiceSpec-akka.actor.default-dispatcher-9] [akka://TradingServiceSpec/user/Services/InstrumentData/OptInfoDataStream] DataStream goes Online
[INFO] [12/06/2012 00:44:21.192] [TradingServiceSpec-akka.actor.default-dispatcher-6] [akka://TradingServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Futures] Start SessionContents
[INFO] [12/06/2012 00:44:21.192] [TradingServiceSpec-akka.actor.default-dispatcher-9] [akka://TradingServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Options] Start SessionContents
[INFO] [12/06/2012 00:44:21.192] [TradingServiceSpec-akka.actor.default-dispatcher-5] [akka://TradingServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Futures/FISIN] Started instrument for security = FutureContract(IsinId(100),Isin(FISIN),ShortIsisn(FISINS),Future)
[INFO] [12/06/2012 00:44:21.193] [TradingServiceSpec-akka.actor.default-dispatcher-6] [akka://TradingServiceSpec/user/Services/InstrumentData/SessionsTracking/100/Options/OISIN] Started instrument for security = OptionContract(IsinId(101),Isin(OISIN),ShortIsisn(OISINS),Option)
[INFO] [12/06/2012 00:44:21.751] [TradingServiceSpec-akka.actor.default-dispatcher-9] [akka://TradingServiceSpec/user/Services] Service started = InstrumentData, remaining = Set(Trading)
[INFO] [12/06/2012 00:44:21.752] [TradingServiceSpec-akka.actor.default-dispatcher-6] [akka://TradingServiceSpec/user/Services/Trading] Start Trading service
[INFO] [12/06/2012 00:44:21.752] [TradingServiceSpec-akka.actor.default-dispatcher-9] [akka://TradingServiceSpec/user/Services/Trading/Broker] Open publisher
[INFO] [12/06/2012 00:44:22.52] [TradingServiceSpec-akka.actor.default-dispatcher-9] [akka://TradingServiceSpec/user/Services/Trading/Broker] Publisher opened
[INFO] [12/06/2012 00:44:22.196] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/Services/InstrumentData/OptInfoListener] Listener opened
[INFO] [12/06/2012 00:44:22.196] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/Services/InstrumentData/FutInfoListener] Listener opened
[INFO] [12/06/2012 00:44:22.196] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/Services/Trading/OptOrdersListener] Open listener with config = mode=snapshot+online
[INFO] [12/06/2012 00:44:22.197] [TradingServiceSpec-akka.actor.default-dispatcher-9] [akka://TradingServiceSpec/user/Services/Trading/OptOrdersStream] DataStream goes Online
[INFO] [12/06/2012 00:44:22.197] [TradingServiceSpec-engine.dispatchers.replicationDispatcher-1] [akka://TradingServiceSpec/user/Services/Trading/FutOrdersListener] Open listener with config = mode=snapshot+online
[INFO] [12/06/2012 00:44:22.198] [TradingServiceSpec-akka.actor.default-dispatcher-6] [akka://TradingServiceSpec/user/Services/Trading/FutOrdersStream] DataStream goes Online
[INFO] [12/06/2012 00:44:22.198] [TradingServiceSpec-akka.actor.default-dispatcher-5] [akka://TradingServiceSpec/user/Services/Trading/RepliesListener] Open listener with config = 
[INFO] [12/06/2012 00:44:22.198] [TradingServiceSpec-akka.actor.default-dispatcher-6] [akka://TradingServiceSpec/user/Services] Service started = Trading, remaining = Set()
[INFO] [12/06/2012 00:44:22.198] [TradingServiceSpec-akka.actor.default-dispatcher-6] [akka://TradingServiceSpec/user/Services] All services started
[DEBUG] [12/06/2012 00:44:22.199] [TradingServiceSpec-akka.actor.default-dispatcher-6] [akka://TradingServiceSpec/user/Services/Trading/Broker] Execute command: AddOrder(Isin(FISIN),1,100,ImmediateOrCancel,Buy)
[DEBUG] [12/06/2012 00:44:22.203] [TradingServiceSpec-akka.actor.default-dispatcher-4] [akka://TradingServiceSpec/user/Services/Trading/OrdersTracking] Create new order, id = 1
[DEBUG] [12/06/2012 00:44:22.205] [TradingServiceSpec-akka.actor.default-dispatcher-10] [akka://TradingServiceSpec/user/Services/Trading/OrdersTracking] Fill order, id = 1, amount = 1, rest = 0, deal = Some((1,100))
[DEBUG] [12/06/2012 00:44:22.205] [TradingServiceSpec-akka.actor.default-dispatcher-2] [akka://TradingServiceSpec/user/Services/Trading/OrdersTracking/1] Order filled
[DEBUG] [12/06/2012 00:44:22.217] [TradingServiceSpec-akka.actor.default-dispatcher-5] [akka://TradingServiceSpec/user/Services/Trading/Broker] Execute command: Cancel(OrderId(1))
[DEBUG] [12/06/2012 00:44:22.229] [TradingServiceSpec-akka.actor.default-dispatcher-5] [akka://TradingServiceSpec/user/Services/Trading/Broker] Execute command: AddOrder(Isin(BadIsin),1,100,ImmediateOrCancel,Buy)
[info] TradingServiceSpec:
[info] Trading Service 
[info] - must forward commands to publisher strategy
[info]   + Given engine trading service 
[info]   + Given mocked publisher strategy 
[info]   + And publisher context 
[info]   + When buy future contract 
[info]   + Then should process broker Action with underlying strategy 
[info]   + When buy option contract 
[info]   + Then should process broker Action with underlying strategy 
[info]   + When fail buy future contract 
[info]   + Then should process failure with underlying strategy 
[info]   + When fail buy option contract 
[info]   + Then should process failure with underlying strategy 
[info] - must support ExecuteOnDeclaredPrice strategy
[info]   + Given engine trading service 
[info]   + And publisher context 
[info]   + When buy future contract 
[info]   + Then get successfull order execution 
[info]   + When try to cancel order 
[info]   + Then should fail with exception 
[info]   + When try to buy not assigned contract 
[info]   + Then should fail with exception 
[info] Passed: : Total 50, Failed 0, Errors 0, Passed 50, Skipped 0
[ERROR] [12/06/2012 00:44:22.240] [TradingServiceSpec-akka.actor.default-dispatcher-12] [akka://TradingServiceSpec/user/Services/Trading/Broker] Publisher failed, reason = Shutdown
[ERROR] [12/06/2012 00:44:22.240] [TradingServiceSpec-akka.actor.default-dispatcher-6] [akka://TradingServiceSpec/user/Services/Trading/RepliesListener] Listener failed, reason = Shutdown
[error] {file:/D:/projects/ergodicity/}capture/test:test: Tests unsuccessful
[error] Total time: 24 s, completed 06.12.2012 0:44:22
